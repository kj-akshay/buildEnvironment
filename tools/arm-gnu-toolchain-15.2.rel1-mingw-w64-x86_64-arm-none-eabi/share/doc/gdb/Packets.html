<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>Packets (Debugging with GDB)</title>

<meta name="description" content="Packets (Debugging with GDB)">
<meta name="keywords" content="Packets (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Remote-Protocol.html" rel="up" title="Remote Protocol">
<link href="Stop-Reply-Packets.html" rel="next" title="Stop Reply Packets">
<link href="Standard-Replies.html" rel="prev" title="Standard Replies">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Packets">
<div class="nav-panel">
<p>
Next: <a href="Stop-Reply-Packets.html" accesskey="n" rel="next">Stop Reply Packets</a>, Previous: <a href="Standard-Replies.html" accesskey="p" rel="prev">Standard Replies</a>, Up: <a href="Remote-Protocol.html" accesskey="u" rel="up"><small class="sc">GDB</small> Remote Serial Protocol</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Packets-1"><span>E.3 Packets<a class="copiable-link" href="#Packets-1"> &para;</a></span></h3>

<p>The following table provides a complete list of all currently defined
<var class="var">command</var>s and their corresponding response <var class="var">data</var>.
See <a class="xref" href="File_002dI_002fO-Remote-Protocol-Extension.html">File-I/O Remote Protocol Extension</a>, for details about the File
I/O extension of the remote protocol.
</p>
<p>Each packet&rsquo;s description has a template showing the packet&rsquo;s overall
syntax, followed by an explanation of the packet&rsquo;s meaning.  We
include spaces in some of the templates for clarity; these are not
part of the packet&rsquo;s syntax.  No <small class="sc">GDB</small> packet uses spaces to
separate its components.  For example, a template like &lsquo;<samp class="samp">foo
<var class="var">bar</var> <var class="var">baz</var></samp>&rsquo; describes a packet beginning with the three ASCII
bytes &lsquo;<samp class="samp">foo</samp>&rsquo;, followed by a <var class="var">bar</var>, followed directly by a
<var class="var">baz</var>.  <small class="sc">GDB</small> does not transmit a space character between the
&lsquo;<samp class="samp">foo</samp>&rsquo; and the <var class="var">bar</var>, or between the <var class="var">bar</var> and the
<var class="var">baz</var>.
</p>
<a class="index-entry-id" id="index-thread_002did_002c-in-remote-protocol"></a>
<a class="anchor" id="thread_002did-syntax"></a><p>Several packets and replies include a <var class="var">thread-id</var> field to identify
a thread.  Normally these are positive numbers with a target-specific
interpretation, formatted as big-endian hex strings.  A <var class="var">thread-id</var>
can also be a literal &lsquo;<samp class="samp">-1</samp>&rsquo; to indicate all threads, or &lsquo;<samp class="samp">0</samp>&rsquo; to
pick any thread.
</p>
<p>In addition, the remote protocol supports a multiprocess feature in
which the <var class="var">thread-id</var> syntax is extended to optionally include both
process and thread ID fields, as &lsquo;<samp class="samp">p<var class="var">pid</var>.<var class="var">tid</var></samp>&rsquo;.
The <var class="var">pid</var> (process) and <var class="var">tid</var> (thread) components each have the
format described above: a positive number with target-specific
interpretation formatted as a big-endian hex string, literal &lsquo;<samp class="samp">-1</samp>&rsquo;
to indicate all processes or threads (respectively), or &lsquo;<samp class="samp">0</samp>&rsquo; to
indicate an arbitrary process or thread.  Specifying just a process, as
&lsquo;<samp class="samp">p<var class="var">pid</var></samp>&rsquo;, is equivalent to &lsquo;<samp class="samp">p<var class="var">pid</var>.-1</samp>&rsquo;.  It is an
error to specify all processes but a specific thread, such as
&lsquo;<samp class="samp">p-1.<var class="var">tid</var></samp>&rsquo;.  Note that the &lsquo;<samp class="samp">p</samp>&rsquo; prefix is <em class="emph">not</em> used
for those packets and replies explicitly documented to include a process
ID, rather than a <var class="var">thread-id</var>.
</p>
<p>The multiprocess <var class="var">thread-id</var> syntax extensions are only used if both
<small class="sc">GDB</small> and the stub report support for the &lsquo;<samp class="samp">multiprocess</samp>&rsquo;
feature using &lsquo;<samp class="samp">qSupported</samp>&rsquo;.  See <a class="xref" href="General-Query-Packets.html#multiprocess-extensions">multiprocess extensions</a>, for
more information.
</p>
<p>Note that all packet forms beginning with an upper- or lower-case
letter, other than those described here, are reserved for future use.
</p>
<p>Here are the packet descriptions.
</p>
<dl class="table">
<dt><a id="index-_0021-packet"></a><span>&lsquo;<samp class="samp">!</samp>&rsquo;<a class="copiable-link" href="#index-_0021-packet"> &para;</a></span></dt>
<dd><a class="anchor" id="extended-mode"></a><p>Enable extended mode.  In extended mode, the remote server is made
persistent.  The &lsquo;<samp class="samp">R</samp>&rsquo; packet is used to restart the program being
debugged.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>The remote target both supports and has enabled extended mode.
</p></dd>
</dl>

</dd>
<dt><a id="index-_003f-packet"></a><span>&lsquo;<samp class="samp">?</samp>&rsquo;<a class="copiable-link" href="#index-_003f-packet"> &para;</a></span></dt>
<dd><a class="anchor" id="g_t_003f-packet"></a><p>This is sent when connection is first established to query the reason
the target halted.  The reply is the same as for step and continue.
This packet has a special interpretation when the target is in
non-stop mode; see <a class="ref" href="Remote-Non_002dStop.html">Remote Protocol Support for Non-Stop Mode</a>.
</p>
<p>Reply:
See <a class="xref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>, for the reply specifications.
</p>
</dd>
<dt><a id="index-A-packet"></a><span>&lsquo;<samp class="samp">A <var class="var">arglen</var>,<var class="var">argnum</var>,<var class="var">arg</var>,&hellip;</samp>&rsquo;<a class="copiable-link" href="#index-A-packet"> &para;</a></span></dt>
<dd><p>Initialized <code class="code">argv[]</code> array passed into program. <var class="var">arglen</var>
specifies the number of bytes in the hex encoded byte stream
<var class="var">arg</var>.  See <code class="code">gdbserver</code> for more details.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>The arguments were set.
</p></dd>
</dl>

</dd>
<dt><a id="index-b-packet"></a><span>&lsquo;<samp class="samp">b <var class="var">baud</var></samp>&rsquo;<a class="copiable-link" href="#index-b-packet"> &para;</a></span></dt>
<dd><p>(Don&rsquo;t use this packet; its behavior is not well-defined.)
Change the serial line speed to <var class="var">baud</var>.
</p>
<p>JTC: <em class="emph">When does the transport layer state change?  When it&rsquo;s
received, or after the ACK is transmitted.  In either case, there are
problems if the command or the acknowledgment packet is dropped.</em>
</p>
<p>Stan: <em class="emph">If people really wanted to add something like this, and get
it working for the first time, they ought to modify ser-unix.c to send
some kind of out-of-band message to a specially-setup stub and have the
switch happen &quot;in between&quot; packets, so that from remote protocol&rsquo;s point
of view, nothing actually happened.</em>
</p>
</dd>
<dt><a id="index-B-packet"></a><span>&lsquo;<samp class="samp">B <var class="var">addr</var>,<var class="var">mode</var></samp>&rsquo;<a class="copiable-link" href="#index-B-packet"> &para;</a></span></dt>
<dd><p>Set (<var class="var">mode</var> is &lsquo;<samp class="samp">S</samp>&rsquo;) or clear (<var class="var">mode</var> is &lsquo;<samp class="samp">C</samp>&rsquo;) a
breakpoint at <var class="var">addr</var>.
</p>
<p>Don&rsquo;t use this packet.  Use the &lsquo;<samp class="samp">Z</samp>&rsquo; and &lsquo;<samp class="samp">z</samp>&rsquo; packets instead
(see <a class="pxref" href="#insert-breakpoint-or-watchpoint-packet">insert breakpoint or watchpoint packet</a>).
</p>
<a class="index-entry-id" id="index-bc-packet"></a>
<a class="anchor" id="bc"></a></dd>
<dt>&lsquo;<samp class="samp">bc</samp>&rsquo;</dt>
<dd><p>Backward continue.  Execute the target system in reverse.  No parameter.
See <a class="xref" href="Reverse-Execution.html">Running programs backward</a>, for more information.
</p>
<p>Reply:
See <a class="xref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>, for the reply specifications.
</p>
<a class="index-entry-id" id="index-bs-packet"></a>
<a class="anchor" id="bs"></a></dd>
<dt>&lsquo;<samp class="samp">bs</samp>&rsquo;</dt>
<dd><p>Backward single step.  Execute one instruction in reverse.  No parameter.
See <a class="xref" href="Reverse-Execution.html">Running programs backward</a>, for more information.
</p>
<p>Reply:
See <a class="xref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>, for the reply specifications.
</p>
</dd>
<dt><a id="index-c-packet"></a><span>&lsquo;<samp class="samp">c <span class="r">[</span><var class="var">addr</var><span class="r">]</span></samp>&rsquo;<a class="copiable-link" href="#index-c-packet"> &para;</a></span></dt>
<dd><p>Continue at <var class="var">addr</var>, which is the address to resume.  If <var class="var">addr</var>
is omitted, resume at current address.
</p>
<p>This packet is deprecated for multi-threading support.  See <a class="xref" href="#vCont-packet">vCont packet</a>.
</p>
<p>Reply:
See <a class="xref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>, for the reply specifications.
</p>
</dd>
<dt><a id="index-C-packet"></a><span>&lsquo;<samp class="samp">C <var class="var">sig</var><span class="r">[</span>;<var class="var">addr</var><span class="r">]</span></samp>&rsquo;<a class="copiable-link" href="#index-C-packet"> &para;</a></span></dt>
<dd><p>Continue with signal <var class="var">sig</var> (hex signal number).  If
&lsquo;<samp class="samp">;<var class="var">addr</var></samp>&rsquo; is omitted, resume at same address.
</p>
<p>This packet is deprecated for multi-threading support.  See <a class="xref" href="#vCont-packet">vCont packet</a>.
</p>
<p>Reply:
See <a class="xref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>, for the reply specifications.
</p>
</dd>
<dt><a id="index-d-packet"></a><span>&lsquo;<samp class="samp">d</samp>&rsquo;<a class="copiable-link" href="#index-d-packet"> &para;</a></span></dt>
<dd><p>Toggle debug flag.
</p>
<p>Don&rsquo;t use this packet; instead, define a general set packet
(see <a class="pxref" href="General-Query-Packets.html">General Query Packets</a>).
</p>
</dd>
<dt><a id="index-D-packet"></a><span>&lsquo;<samp class="samp">D</samp>&rsquo;<a class="copiable-link" href="#index-D-packet"> &para;</a></span></dt>
<dt>&lsquo;<samp class="samp">D;<var class="var">pid</var></samp>&rsquo;</dt>
<dd><p>The first form of the packet is used to detach <small class="sc">GDB</small> from the 
remote system.  It is sent to the remote target
before <small class="sc">GDB</small> disconnects via the <code class="code">detach</code> command.
</p>
<p>The second form, including a process ID, is used when multiprocess
protocol extensions are enabled (see <a class="pxref" href="General-Query-Packets.html#multiprocess-extensions">multiprocess extensions</a>), to
detach only a specific process.  The <var class="var">pid</var> is specified as a
big-endian hex string.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success
</p></dd>
</dl>

</dd>
<dt><a id="index-F-packet"></a><span>&lsquo;<samp class="samp">F <var class="var">RC</var>,<var class="var">EE</var>,<var class="var">CF</var>;<var class="var">XX</var></samp>&rsquo;<a class="copiable-link" href="#index-F-packet"> &para;</a></span></dt>
<dd><p>A reply from <small class="sc">GDB</small> to an &lsquo;<samp class="samp">F</samp>&rsquo; packet sent by the target.
This is part of the File-I/O protocol extension.  See <a class="xref" href="File_002dI_002fO-Remote-Protocol-Extension.html">File-I/O Remote Protocol Extension</a>, for the specification.
</p>
</dd>
<dt>&lsquo;<samp class="samp">g</samp>&rsquo;</dt>
<dd><a class="anchor" id="read-registers-packet"></a><a class="index-entry-id" id="index-g-packet"></a>
<p>Read general registers.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp"><var class="var">XX&hellip;</var></samp>&rsquo;</dt>
<dd><p>Each byte of register data is described by two hex digits.  The bytes
with the register are transmitted in target byte order.  The size of
each register and their position within the &lsquo;<samp class="samp">g</samp>&rsquo; packet are
determined by the target description (see <a class="pxref" href="Target-Descriptions.html">Target Descriptions</a>); in
the absence of a target description, this is done using code internal
to <small class="sc">GDB</small>; typically this is some customary register layout for
the architecture in question.
</p>
<p>When reading registers, the stub may also return a string of literal
&lsquo;<samp class="samp">x</samp>&rsquo;&rsquo;s in place of the register data digits, to indicate that the
corresponding register&rsquo;s value is unavailable.  For example, when
reading registers from a trace frame (see <a class="pxref" href="Analyze-Collected-Data.html">Using the Collected Data</a>), this means that the register has not
been collected in the trace frame.  When reading registers from a live
program, this indicates that the stub has no means to access the
register contents, even though the corresponding register is known to
exist.  Note that if a register truly does not exist on the target,
then it is better to not include it in the target description in the
first place.
</p>
<p>For example, for an architecture with 4 registers of
4 bytes each, the following reply indicates to <small class="sc">GDB</small> that
registers 0 and 2 are unavailable, while registers 1 and 3
are available, and both have zero value:
</p>
<div class="example smallexample">
<pre class="example-preformatted">-&gt; <code class="code">g</code>
&lt;- <code class="code">xxxxxxxx00000000xxxxxxxx00000000</code>
</pre></div>

</dd>
</dl>

</dd>
<dt><a id="index-G-packet"></a><span>&lsquo;<samp class="samp">G <var class="var">XX&hellip;</var></samp>&rsquo;<a class="copiable-link" href="#index-G-packet"> &para;</a></span></dt>
<dd><p>Write general registers.  See <a class="xref" href="#read-registers-packet">read registers packet</a>, for a
description of the <var class="var">XX&hellip;</var> data.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success
</p></dd>
</dl>

</dd>
<dt><a id="index-H-packet"></a><span>&lsquo;<samp class="samp">H <var class="var">op</var> <var class="var">thread-id</var></samp>&rsquo;<a class="copiable-link" href="#index-H-packet"> &para;</a></span></dt>
<dd><p>Set thread for subsequent operations (&lsquo;<samp class="samp">m</samp>&rsquo;, &lsquo;<samp class="samp">M</samp>&rsquo;, &lsquo;<samp class="samp">g</samp>&rsquo;,
&lsquo;<samp class="samp">G</samp>&rsquo;, et.al.).  Depending on the operation to be performed, <var class="var">op</var>
should be &lsquo;<samp class="samp">c</samp>&rsquo; for step and continue operations (note that this
is deprecated, supporting the &lsquo;<samp class="samp">vCont</samp>&rsquo; command is a better
option), and &lsquo;<samp class="samp">g</samp>&rsquo; for other operations.  The thread designator
<var class="var">thread-id</var> has the format and interpretation described in
<a class="ref" href="#thread_002did-syntax">thread-id syntax</a>.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success
</p></dd>
</dl>


</dd>
<dt>&lsquo;<samp class="samp">i <span class="r">[</span><var class="var">addr</var><span class="r">[</span>,<var class="var">nnn</var><span class="r">]]</span></samp>&rsquo;</dt>
<dd><a class="anchor" id="cycle-step-packet"></a><a class="index-entry-id" id="index-i-packet"></a>
<p>Step the remote target by a single clock cycle.  If &lsquo;<samp class="samp">,<var class="var">nnn</var></samp>&rsquo; is
present, cycle step <var class="var">nnn</var> cycles.  If <var class="var">addr</var> is present, cycle
step starting at that address.
</p>
</dd>
<dt><a id="index-I-packet"></a><span>&lsquo;<samp class="samp">I</samp>&rsquo;<a class="copiable-link" href="#index-I-packet"> &para;</a></span></dt>
<dd><p>Signal, then cycle step.  See <a class="xref" href="#step-with-signal-packet">step with signal packet</a>.  See <a class="xref" href="#cycle-step-packet">cycle step packet</a>.
</p>
</dd>
<dt><a id="index-k-packet"></a><span>&lsquo;<samp class="samp">k</samp>&rsquo;<a class="copiable-link" href="#index-k-packet"> &para;</a></span></dt>
<dd><p>Kill request.
</p>
<p>The exact effect of this packet is not specified.
</p>
<p>For a bare-metal target, it may power cycle or reset the target
system.  For that reason, the &lsquo;<samp class="samp">k</samp>&rsquo; packet has no reply.
</p>
<p>For a single-process target, it may kill that process if possible.
</p>
<p>A multiple-process target may choose to kill just one process, or all
that are under <small class="sc">GDB</small>&rsquo;s control.  For more precise control, use
the vKill packet (see <a class="pxref" href="#vKill-packet">vKill packet</a>).
</p>
<p>If the target system immediately closes the connection in response to
&lsquo;<samp class="samp">k</samp>&rsquo;, <small class="sc">GDB</small> does not consider the lack of packet
acknowledgment to be an error, and assumes the kill was successful.
</p>
<p>If connected using <kbd class="kbd">target extended-remote</kbd>, and the target does
not close the connection in response to a kill request, <small class="sc">GDB</small>
probes the target state as if a new connection was opened
(see <a class="pxref" href="#g_t_003f-packet">? packet</a>).
</p>
</dd>
<dt><a id="index-m-packet"></a><span>&lsquo;<samp class="samp">m <var class="var">addr</var>,<var class="var">length</var></samp>&rsquo;<a class="copiable-link" href="#index-m-packet"> &para;</a></span></dt>
<dd><p>Read <var class="var">length</var> addressable memory units starting at address <var class="var">addr</var>
(see <a class="pxref" href="Memory.html#addressable-memory-unit">addressable memory unit</a>).  Note that <var class="var">addr</var> does not have to
be aligned to any particular boundary.
</p>
<a class="index-entry-id" id="index-alignment-of-remote-memory-accesses"></a>
<a class="index-entry-id" id="index-size-of-remote-memory-accesses"></a>
<a class="index-entry-id" id="index-memory_002c-alignment-and-size-of-remote-accesses"></a>
<p>The stub need not use any particular size or alignment when gathering
data from memory for the response; even if <var class="var">addr</var> is word-aligned
and <var class="var">length</var> is a multiple of the word size, the stub is free to
use byte accesses, or not.  For this reason, this packet may not be
suitable for accessing memory-mapped I/O devices.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp"><var class="var">XX&hellip;</var></samp>&rsquo;</dt>
<dd><p>Memory contents; each byte is transmitted as a two-digit hexadecimal number.
The reply may contain fewer addressable memory units than requested if the
server was reading from a trace frame memory and was able to read only part
of the region of memory.
</p></dd>
</dl>

<p>Unlike most packets, this packet does not support
&lsquo;<samp class="samp">E.<var class="var">errtext</var></samp>&rsquo;-style textual error replies (see <a class="pxref" href="Standard-Replies.html#textual-error-reply">textual error reply</a>) by default.  Stubs should be careful to only send such a
reply if <small class="sc">GDB</small> reported support for it with the
<code class="code">error-message</code> feature (see <a class="pxref" href="General-Query-Packets.html#error_002dmessage">error-message</a>).
</p>
</dd>
<dt><a id="index-M-packet"></a><span>&lsquo;<samp class="samp">M <var class="var">addr</var>,<var class="var">length</var>:<var class="var">XX&hellip;</var></samp>&rsquo;<a class="copiable-link" href="#index-M-packet"> &para;</a></span></dt>
<dd><p>Write <var class="var">length</var> addressable memory units starting at address <var class="var">addr</var>
(see <a class="pxref" href="Memory.html#addressable-memory-unit">addressable memory unit</a>).  The data is given by <var class="var">XX&hellip;</var>; each
byte is transmitted as a two-digit hexadecimal number.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>All the data was written successfully.  (If only part of the data was
written, this command returns an error.)
</p></dd>
</dl>

</dd>
<dt><a id="index-p-packet"></a><span>&lsquo;<samp class="samp">p <var class="var">n</var></samp>&rsquo;<a class="copiable-link" href="#index-p-packet"> &para;</a></span></dt>
<dd><p>Read the value of register <var class="var">n</var>; <var class="var">n</var> is in hex.
See <a class="xref" href="#read-registers-packet">read registers packet</a>, for a description of how the returned
register value is encoded.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp"><var class="var">XX&hellip;</var></samp>&rsquo;</dt>
<dd><p>the register&rsquo;s value
</p></dd>
</dl>

</dd>
<dt>&lsquo;<samp class="samp">P <var class="var">n&hellip;</var>=<var class="var">r&hellip;</var></samp>&rsquo;</dt>
<dd><a class="anchor" id="write-register-packet"></a><a class="index-entry-id" id="index-P-packet"></a>
<p>Write register <var class="var">n&hellip;</var> with value <var class="var">r&hellip;</var>.  The register
number <var class="var">n</var> is in hexadecimal, and <var class="var">r&hellip;</var> contains two hex
digits for each byte in the register (target byte order).
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success
</p></dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-Q-packet"></a>
<a id="index-q-packet"></a><span>&lsquo;<samp class="samp">q <var class="var">name</var> <var class="var">params</var>&hellip;</samp>&rsquo;<a class="copiable-link" href="#index-q-packet"> &para;</a></span></dt>
<dt>&lsquo;<samp class="samp">Q <var class="var">name</var> <var class="var">params</var>&hellip;</samp>&rsquo;</dt>
<dd><p>General query (&lsquo;<samp class="samp">q</samp>&rsquo;) and set (&lsquo;<samp class="samp">Q</samp>&rsquo;).  These packets are
described fully in <a class="ref" href="General-Query-Packets.html">General Query Packets</a>.
</p>
</dd>
<dt><a id="index-r-packet"></a><span>&lsquo;<samp class="samp">r</samp>&rsquo;<a class="copiable-link" href="#index-r-packet"> &para;</a></span></dt>
<dd><p>Reset the entire system.
</p>
<p>Don&rsquo;t use this packet; use the &lsquo;<samp class="samp">R</samp>&rsquo; packet instead.
</p>
</dd>
<dt><a id="index-R-packet"></a><span>&lsquo;<samp class="samp">R <var class="var">XX</var></samp>&rsquo;<a class="copiable-link" href="#index-R-packet"> &para;</a></span></dt>
<dd><p>Restart the program being debugged.  The <var class="var">XX</var>, while needed, is ignored.
This packet is only available in extended mode (see <a class="pxref" href="#extended-mode">extended mode</a>).
</p>
<p>The &lsquo;<samp class="samp">R</samp>&rsquo; packet has no reply.
</p>
</dd>
<dt><a id="index-s-packet"></a><span>&lsquo;<samp class="samp">s <span class="r">[</span><var class="var">addr</var><span class="r">]</span></samp>&rsquo;<a class="copiable-link" href="#index-s-packet"> &para;</a></span></dt>
<dd><p>Single step, resuming at <var class="var">addr</var>.  If
<var class="var">addr</var> is omitted, resume at same address.
</p>
<p>This packet is deprecated for multi-threading support.  See <a class="xref" href="#vCont-packet">vCont packet</a>.
</p>
<p>Reply:
See <a class="xref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>, for the reply specifications.
</p>
</dd>
<dt>&lsquo;<samp class="samp">S <var class="var">sig</var><span class="r">[</span>;<var class="var">addr</var><span class="r">]</span></samp>&rsquo;</dt>
<dd><a class="anchor" id="step-with-signal-packet"></a><a class="index-entry-id" id="index-S-packet"></a>
<p>Step with signal.  This is analogous to the &lsquo;<samp class="samp">C</samp>&rsquo; packet, but
requests a single-step, rather than a normal resumption of execution.
</p>
<p>This packet is deprecated for multi-threading support.  See <a class="xref" href="#vCont-packet">vCont packet</a>.
</p>
<p>Reply:
See <a class="xref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>, for the reply specifications.
</p>
</dd>
<dt><a id="index-t-packet"></a><span>&lsquo;<samp class="samp">t <var class="var">addr</var>:<var class="var">PP</var>,<var class="var">MM</var></samp>&rsquo;<a class="copiable-link" href="#index-t-packet"> &para;</a></span></dt>
<dd><p>Search backwards starting at address <var class="var">addr</var> for a match with pattern
<var class="var">PP</var> and mask <var class="var">MM</var>, both of which are are 4 byte long.
There must be at least 3 digits in <var class="var">addr</var>.
</p>
</dd>
<dt><a id="index-T-packet"></a><span>&lsquo;<samp class="samp">T <var class="var">thread-id</var></samp>&rsquo;<a class="copiable-link" href="#index-T-packet"> &para;</a></span></dt>
<dd><p>Find out if the thread <var class="var">thread-id</var> is alive.  See <a class="xref" href="#thread_002did-syntax">thread-id syntax</a>.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>thread is still alive
</p></dd>
</dl>

</dd>
<dt>&lsquo;<samp class="samp">v</samp>&rsquo;</dt>
<dd><p>Packets starting with &lsquo;<samp class="samp">v</samp>&rsquo; are identified by a multi-letter name,
up to the first &lsquo;<samp class="samp">;</samp>&rsquo; or &lsquo;<samp class="samp">?</samp>&rsquo; (or the end of the packet).
</p>
</dd>
<dt><a id="index-vAttach-packet"></a><span>&lsquo;<samp class="samp">vAttach;<var class="var">pid</var></samp>&rsquo;<a class="copiable-link" href="#index-vAttach-packet"> &para;</a></span></dt>
<dd><p>Attach to a new process with the specified process ID <var class="var">pid</var>.
The process ID is a
hexadecimal integer identifying the process.  In all-stop mode, all
threads in the attached process are stopped; in non-stop mode, it may be
attached without being stopped if that is supported by the target.
</p>

<p>This packet is only available in extended mode (see <a class="pxref" href="#extended-mode">extended mode</a>).
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp"><span class="r">Any stop packet</span></samp>&rsquo;</dt>
<dd><p>for success in all-stop mode (see <a class="pxref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>)
</p></dd>
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success in non-stop mode (see <a class="pxref" href="Remote-Non_002dStop.html">Remote Protocol Support for Non-Stop Mode</a>)
</p></dd>
</dl>

</dd>
<dt><a id="index-vCont-packet"></a><span>&lsquo;<samp class="samp">vCont<span class="r">[</span>;<var class="var">action</var><span class="r">[</span>:<var class="var">thread-id</var><span class="r">]]</span>&hellip;</samp>&rsquo;<a class="copiable-link" href="#index-vCont-packet"> &para;</a></span></dt>
<dd><a class="anchor" id="vCont-packet"></a><p>Resume the inferior, specifying different actions for each thread.
</p>
<p>For each inferior thread, the leftmost action with a matching
<var class="var">thread-id</var> is applied.  Threads that don&rsquo;t match any action
remain in their current state.  Thread IDs are specified using the
syntax described in <a class="ref" href="#thread_002did-syntax">thread-id syntax</a>.  If multiprocess
extensions (see <a class="pxref" href="General-Query-Packets.html#multiprocess-extensions">multiprocess extensions</a>) are supported, actions
can be specified to match all threads in a process by using the
&lsquo;<samp class="samp">p<var class="var">pid</var>.-1</samp>&rsquo; form of the <var class="var">thread-id</var>.  An action with no
<var class="var">thread-id</var> matches all threads.  Specifying no actions is an
error.
</p>
<p>Currently supported actions are:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">c</samp>&rsquo;</dt>
<dd><p>Continue.
</p></dd>
<dt>&lsquo;<samp class="samp">C <var class="var">sig</var></samp>&rsquo;</dt>
<dd><p>Continue with signal <var class="var">sig</var>.  The signal <var class="var">sig</var> should be two hex digits.
</p></dd>
<dt>&lsquo;<samp class="samp">s</samp>&rsquo;</dt>
<dd><p>Step.
</p></dd>
<dt>&lsquo;<samp class="samp">S <var class="var">sig</var></samp>&rsquo;</dt>
<dd><p>Step with signal <var class="var">sig</var>.  The signal <var class="var">sig</var> should be two hex digits.
</p></dd>
<dt>&lsquo;<samp class="samp">t</samp>&rsquo;</dt>
<dd><p>Stop.
</p></dd>
<dt>&lsquo;<samp class="samp">r <var class="var">start</var>,<var class="var">end</var></samp>&rsquo;</dt>
<dd><p>Step once, and then keep stepping as long as the thread stops at
addresses between <var class="var">start</var> (inclusive) and <var class="var">end</var> (exclusive).
The remote stub reports a stop reply when either the thread goes out
of the range or is stopped due to an unrelated reason, such as hitting
a breakpoint.  See <a class="xref" href="Continuing-and-Stepping.html#range-stepping">range stepping</a>.
</p>
<p>If the range is empty (<var class="var">start</var> == <var class="var">end</var>), then the action
becomes equivalent to the &lsquo;<samp class="samp">s</samp>&rsquo; action.  In other words,
single-step once, and report the stop (even if the stepped instruction
jumps to <var class="var">start</var>).
</p>
<p>(A stop reply may be sent at any point even if the PC is still within
the stepping range; for example, it is valid to implement this packet
in a degenerate way as a single instruction step operation.)
</p>
</dd>
</dl>

<p>The optional argument <var class="var">addr</var> normally associated with the 
&lsquo;<samp class="samp">c</samp>&rsquo;, &lsquo;<samp class="samp">C</samp>&rsquo;, &lsquo;<samp class="samp">s</samp>&rsquo;, and &lsquo;<samp class="samp">S</samp>&rsquo; packets is
not supported in &lsquo;<samp class="samp">vCont</samp>&rsquo;.
</p>
<p>The &lsquo;<samp class="samp">t</samp>&rsquo; action is only relevant in non-stop mode
(see <a class="pxref" href="Remote-Non_002dStop.html">Remote Protocol Support for Non-Stop Mode</a>) and may be ignored by the stub otherwise.
A stop reply should be generated for any affected thread not already stopped.
When a thread is stopped by means of a &lsquo;<samp class="samp">t</samp>&rsquo; action,
the corresponding stop reply should indicate that the thread has stopped with
signal &lsquo;<samp class="samp">0</samp>&rsquo;, regardless of whether the target uses some other signal
as an implementation detail.
</p>
<p>The server must ignore &lsquo;<samp class="samp">c</samp>&rsquo;, &lsquo;<samp class="samp">C</samp>&rsquo;, &lsquo;<samp class="samp">s</samp>&rsquo;, &lsquo;<samp class="samp">S</samp>&rsquo;, and
&lsquo;<samp class="samp">r</samp>&rsquo; actions for threads that are already running.  Conversely,
the server must ignore &lsquo;<samp class="samp">t</samp>&rsquo; actions for threads that are already
stopped.
</p>
<p><em class="emph">Note:</em> In non-stop mode, a thread is considered running until
<small class="sc">GDB</small> acknowledges an asynchronous stop notification for it with
the &lsquo;<samp class="samp">vStopped</samp>&rsquo; packet (see <a class="pxref" href="Remote-Non_002dStop.html">Remote Protocol Support for Non-Stop Mode</a>).
</p>
<p>The stub must support &lsquo;<samp class="samp">vCont</samp>&rsquo; if it reports support for
multiprocess extensions (see <a class="pxref" href="General-Query-Packets.html#multiprocess-extensions">multiprocess extensions</a>).
</p>
<p>Reply:
See <a class="xref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>, for the reply specifications.
</p>
</dd>
<dt><a id="index-vCont_003f-packet"></a><span>&lsquo;<samp class="samp">vCont?</samp>&rsquo;<a class="copiable-link" href="#index-vCont_003f-packet"> &para;</a></span></dt>
<dd><p>Request a list of actions supported by the &lsquo;<samp class="samp">vCont</samp>&rsquo; packet.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">vCont<span class="r">[</span>;<var class="var">action</var>&hellip;<span class="r">]</span></samp>&rsquo;</dt>
<dd><p>The &lsquo;<samp class="samp">vCont</samp>&rsquo; packet is supported.  Each <var class="var">action</var> is a supported
command in the &lsquo;<samp class="samp">vCont</samp>&rsquo; packet.
</p></dd>
</dl>

<a class="anchor" id="vCtrlC-packet"></a></dd>
<dt><a id="index-vCtrlC-packet"></a><span>&lsquo;<samp class="samp">vCtrlC</samp>&rsquo;<a class="copiable-link" href="#index-vCtrlC-packet"> &para;</a></span></dt>
<dd><p>Interrupt remote target as if a control-C was pressed on the remote
terminal.  This is the equivalent to reacting to the <code class="code">^C</code>
(&lsquo;<samp class="samp">\003</samp>&rsquo;, the control-C character) character in all-stop mode
while the target is running, except this works in non-stop mode.
See <a class="xref" href="Interrupts.html#interrupting-remote-targets">interrupting remote targets</a>, for more info on the all-stop
variant.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success
</p></dd>
</dl>

</dd>
<dt><a id="index-vFile-packet"></a><span>&lsquo;<samp class="samp">vFile:<var class="var">operation</var>:<var class="var">parameter</var>&hellip;</samp>&rsquo;<a class="copiable-link" href="#index-vFile-packet"> &para;</a></span></dt>
<dd><p>Perform a file operation on the target system.  For details,
see <a class="ref" href="Host-I_002fO-Packets.html">Host I/O Packets</a>.
</p>
</dd>
<dt><a id="index-vFlashErase-packet"></a><span>&lsquo;<samp class="samp">vFlashErase:<var class="var">addr</var>,<var class="var">length</var></samp>&rsquo;<a class="copiable-link" href="#index-vFlashErase-packet"> &para;</a></span></dt>
<dd><p>Direct the stub to erase <var class="var">length</var> bytes of flash starting at
<var class="var">addr</var>.  The region may enclose any number of flash blocks, but
its start and end must fall on block boundaries, as indicated by the
flash block size appearing in the memory map (see <a class="pxref" href="Memory-Map-Format.html">Memory Map Format</a>).  <small class="sc">GDB</small> groups flash memory programming operations
together, and sends a &lsquo;<samp class="samp">vFlashDone</samp>&rsquo; request after each group; the
stub is allowed to delay erase operation until the &lsquo;<samp class="samp">vFlashDone</samp>&rsquo;
packet is received.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success
</p></dd>
</dl>

</dd>
<dt><a id="index-vFlashWrite-packet"></a><span>&lsquo;<samp class="samp">vFlashWrite:<var class="var">addr</var>:<var class="var">XX&hellip;</var></samp>&rsquo;<a class="copiable-link" href="#index-vFlashWrite-packet"> &para;</a></span></dt>
<dd><p>Direct the stub to write data to flash address <var class="var">addr</var>.  The data
is passed in binary form using the same encoding as for the &lsquo;<samp class="samp">X</samp>&rsquo;
packet (see <a class="pxref" href="Overview.html#Binary-Data">Binary Data</a>).  The memory ranges specified by
&lsquo;<samp class="samp">vFlashWrite</samp>&rsquo; packets preceding a &lsquo;<samp class="samp">vFlashDone</samp>&rsquo; packet must
not overlap, and must appear in order of increasing addresses
(although &lsquo;<samp class="samp">vFlashErase</samp>&rsquo; packets for higher addresses may already
have been received; the ordering is guaranteed only between
&lsquo;<samp class="samp">vFlashWrite</samp>&rsquo; packets).  If a packet writes to an address that was
neither erased by a preceding &lsquo;<samp class="samp">vFlashErase</samp>&rsquo; packet nor by some other
target-specific method, the results are unpredictable.
</p>

<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success
</p></dd>
<dt>&lsquo;<samp class="samp">E.memtype</samp>&rsquo;</dt>
<dd><p>for vFlashWrite addressing non-flash memory
</p></dd>
</dl>

</dd>
<dt><a id="index-vFlashDone-packet"></a><span>&lsquo;<samp class="samp">vFlashDone</samp>&rsquo;<a class="copiable-link" href="#index-vFlashDone-packet"> &para;</a></span></dt>
<dd><p>Indicate to the stub that flash programming operation is finished.
The stub is permitted to delay or batch the effects of a group of
&lsquo;<samp class="samp">vFlashErase</samp>&rsquo; and &lsquo;<samp class="samp">vFlashWrite</samp>&rsquo; packets until a
&lsquo;<samp class="samp">vFlashDone</samp>&rsquo; packet is received.  The contents of the affected
regions of flash memory are unpredictable until the &lsquo;<samp class="samp">vFlashDone</samp>&rsquo;
request is completed.
</p>
</dd>
<dt><a id="index-vKill-packet"></a><span>&lsquo;<samp class="samp">vKill;<var class="var">pid</var></samp>&rsquo;<a class="copiable-link" href="#index-vKill-packet"> &para;</a></span></dt>
<dd><a class="anchor" id="vKill-packet"></a><p>Kill the process with the specified process ID <var class="var">pid</var>, which is a
hexadecimal integer identifying the process.  This packet is used in
preference to &lsquo;<samp class="samp">k</samp>&rsquo; when multiprocess protocol extensions are
supported; see <a class="ref" href="General-Query-Packets.html#multiprocess-extensions">multiprocess extensions</a>.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success
</p></dd>
</dl>

</dd>
<dt><a id="index-vMustReplyEmpty-packet"></a><span>&lsquo;<samp class="samp">vMustReplyEmpty</samp>&rsquo;<a class="copiable-link" href="#index-vMustReplyEmpty-packet"> &para;</a></span></dt>
<dd><p>The correct reply to an unknown &lsquo;<samp class="samp">v</samp>&rsquo; packet is to return the empty
string, however, some older versions of <code class="command">gdbserver</code> would
incorrectly return &lsquo;<samp class="samp">OK</samp>&rsquo; for unknown &lsquo;<samp class="samp">v</samp>&rsquo; packets.
</p>
<p>The &lsquo;<samp class="samp">vMustReplyEmpty</samp>&rsquo; is used as a feature test to check how
<code class="command">gdbserver</code> handles unknown packets, it is important that this
packet be handled in the same way as other unknown &lsquo;<samp class="samp">v</samp>&rsquo; packets.
If this packet is handled differently to other unknown &lsquo;<samp class="samp">v</samp>&rsquo;
packets then it is possible that <small class="sc">GDB</small> may run into problems in
other areas, specifically around use of &lsquo;<samp class="samp">vFile:setfs:</samp>&rsquo;.
</p>
</dd>
<dt><a id="index-vRun-packet"></a><span>&lsquo;<samp class="samp">vRun;<var class="var">filename</var><span class="r">[</span>;<var class="var">argument</var><span class="r">]</span>&hellip;</samp>&rsquo;<a class="copiable-link" href="#index-vRun-packet"> &para;</a></span></dt>
<dd><p>Run the program <var class="var">filename</var>, passing it each <var class="var">argument</var> on its
command line.  The file and arguments are hex-encoded strings.  If
<var class="var">filename</var> is an empty string, the stub may use a default program
(e.g. the last program run).  The program is created in the stopped
state.
</p>

<p>This packet is only available in extended mode (see <a class="pxref" href="#extended-mode">extended mode</a>).
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp"><span class="r">Any stop packet</span></samp>&rsquo;</dt>
<dd><p>for success (see <a class="pxref" href="Stop-Reply-Packets.html">Stop Reply Packets</a>)
</p></dd>
</dl>

</dd>
<dt><a id="index-vStopped-packet"></a><span>&lsquo;<samp class="samp">vStopped</samp>&rsquo;<a class="copiable-link" href="#index-vStopped-packet"> &para;</a></span></dt>
<dd><p>See <a class="xref" href="Notification-Packets.html">Notification Packets</a>.
</p>
</dd>
<dt>&lsquo;<samp class="samp">x <var class="var">addr</var>,<var class="var">length</var></samp>&rsquo;</dt>
<dd><a class="anchor" id="x-packet"></a><a class="index-entry-id" id="index-x-packet"></a>
<p>Read <var class="var">length</var> addressable memory units starting at address <var class="var">addr</var>
(see <a class="pxref" href="Memory.html#addressable-memory-unit">addressable memory unit</a>).  Note that <var class="var">addr</var> does not have to
be aligned to any particular boundary.
</p>
<a class="index-entry-id" id="index-alignment-of-remote-memory-accesses-1"></a>
<a class="index-entry-id" id="index-size-of-remote-memory-accesses-1"></a>
<a class="index-entry-id" id="index-memory_002c-alignment-and-size-of-remote-accesses-1"></a>
<p>The stub need not use any particular size or alignment when gathering
data from memory for the response; even if <var class="var">addr</var> is word-aligned
and <var class="var">length</var> is a multiple of the word size, the stub is free to
use byte accesses, or not.  For this reason, this packet may not be
suitable for accessing memory-mapped I/O devices.
</p>
<p><small class="sc">GDB</small> will only use this packet if the stub reports the
&lsquo;<samp class="samp">binary-upload</samp>&rsquo; feature is supported in its &lsquo;<samp class="samp">qSupported</samp>&rsquo;
reply (see <a class="pxref" href="General-Query-Packets.html#qSupported">qSupported</a>).
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">b <var class="var">XX&hellip;</var></samp>&rsquo;</dt>
<dd><p>Memory contents as binary data (see <a class="pxref" href="Overview.html#Binary-Data">Binary Data</a>).
The reply may contain fewer addressable memory units than requested if the
server was reading from a trace frame memory and was able to read only part
of the region of memory.
</p></dd>
<dt>&lsquo;<samp class="samp">E <var class="var">NN</var></samp>&rsquo;</dt>
<dd><p>for an error
</p></dd>
</dl>

</dd>
<dt>&lsquo;<samp class="samp">X <var class="var">addr</var>,<var class="var">length</var>:<var class="var">XX&hellip;</var></samp>&rsquo;</dt>
<dd><a class="anchor" id="X-packet"></a><a class="index-entry-id" id="index-X-packet"></a>
<p>Write data to memory, where the data is transmitted in binary.
Memory is specified by its address <var class="var">addr</var> and number of addressable memory
units <var class="var">length</var> (see <a class="pxref" href="Memory.html#addressable-memory-unit">addressable memory unit</a>);
&lsquo;<samp class="samp"><var class="var">XX</var>&hellip;</samp>&rsquo; is binary data (see <a class="pxref" href="Overview.html#Binary-Data">Binary Data</a>).
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>for success
</p></dd>
</dl>

</dd>
<dt>&lsquo;<samp class="samp">z <var class="var">type</var>,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;</dt>
<dt>&lsquo;<samp class="samp">Z <var class="var">type</var>,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;</dt>
<dd><a class="anchor" id="insert-breakpoint-or-watchpoint-packet"></a><a class="index-entry-id" id="index-z-packet"></a>
<a class="index-entry-id" id="index-Z-packets"></a>
<p>Insert (&lsquo;<samp class="samp">Z</samp>&rsquo;) or remove (&lsquo;<samp class="samp">z</samp>&rsquo;) a <var class="var">type</var> breakpoint or
watchpoint starting at address <var class="var">address</var> of kind <var class="var">kind</var>.
</p>
<p>Each breakpoint and watchpoint packet <var class="var">type</var> is documented
separately.
</p>
<p><em class="emph">Implementation notes: A remote target shall return an empty string
for an unrecognized breakpoint or watchpoint packet <var class="var">type</var>.  A
remote target shall support either both or neither of a given
&lsquo;<samp class="samp">Z<var class="var">type</var>&hellip;</samp>&rsquo; and &lsquo;<samp class="samp">z<var class="var">type</var>&hellip;</samp>&rsquo; packet pair.  To
avoid potential problems with duplicate packets, the operations should
be implemented in an idempotent way.</em>
</p>
</dd>
<dt><a class="index-entry-id" id="index-Z0-packet"></a>
<a id="index-z0-packet"></a><span>&lsquo;<samp class="samp">z0,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;<a class="copiable-link" href="#index-z0-packet"> &para;</a></span></dt>
<dt>&lsquo;<samp class="samp">Z0,<var class="var">addr</var>,<var class="var">kind</var><span class="r">[</span>;<var class="var">cond_list</var>&hellip;<span class="r">]</span><span class="r">[</span>;cmds:<var class="var">persist</var>,<var class="var">cmd_list</var>&hellip;<span class="r">]</span></samp>&rsquo;</dt>
<dd><p>Insert (&lsquo;<samp class="samp">Z0</samp>&rsquo;) or remove (&lsquo;<samp class="samp">z0</samp>&rsquo;) a software breakpoint at address
<var class="var">addr</var> of type <var class="var">kind</var>.
</p>
<p>A software breakpoint is implemented by replacing the instruction at
<var class="var">addr</var> with a software breakpoint or trap instruction.  The
<var class="var">kind</var> is target-specific and typically indicates the size of the
breakpoint in bytes that should be inserted.  E.g., the <small class="sc">ARM</small> and
<small class="sc">MIPS</small> can insert either a 2 or 4 byte breakpoint.  Some
architectures have additional meanings for <var class="var">kind</var>
(see <a class="pxref" href="Architecture_002dSpecific-Protocol-Details.html">Architecture-Specific Protocol Details</a>); if no
architecture-specific value is being used, it should be &lsquo;<samp class="samp">0</samp>&rsquo;.
<var class="var">kind</var> is hex-encoded.  <var class="var">cond_list</var> is an optional list of
conditional expressions in bytecode form that should be evaluated on
the target&rsquo;s side.  These are the conditions that should be taken into
consideration when deciding if the breakpoint trigger should be
reported back to <small class="sc">GDB</small>.
</p>
<p>See also the &lsquo;<samp class="samp">swbreak</samp>&rsquo; stop reason (see <a class="pxref" href="Stop-Reply-Packets.html#swbreak-stop-reason">swbreak stop reason</a>)
for how to best report a software breakpoint event to <small class="sc">GDB</small>.
</p>
<p>The <var class="var">cond_list</var> parameter is comprised of a series of expressions,
concatenated without separators. Each expression has the following form:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">X <var class="var">len</var>,<var class="var">expr</var></samp>&rsquo;</dt>
<dd><p><var class="var">len</var> is the length of the bytecode expression and <var class="var">expr</var> is the
actual conditional expression in bytecode form.
</p>
</dd>
</dl>

<p>The optional <var class="var">cmd_list</var> parameter introduces commands that may be
run on the target, rather than being reported back to <small class="sc">GDB</small>.
The parameter starts with a numeric flag <var class="var">persist</var>; if the flag is
nonzero, then the breakpoint may remain active and the commands
continue to be run even when <small class="sc">GDB</small> disconnects from the target.
Following this flag is a series of expressions concatenated with no
separators.  Each expression has the following form:
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">X <var class="var">len</var>,<var class="var">expr</var></samp>&rsquo;</dt>
<dd><p><var class="var">len</var> is the length of the bytecode expression and <var class="var">expr</var> is the
actual commands expression in bytecode form.
</p>
</dd>
</dl>

<p><em class="emph">Implementation note: It is possible for a target to copy or move
code that contains software breakpoints (e.g., when implementing
overlays).  The behavior of this packet, in the presence of such a
target, is not defined.</em>
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>success
</p></dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-Z1-packet"></a>
<a id="index-z1-packet"></a><span>&lsquo;<samp class="samp">z1,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;<a class="copiable-link" href="#index-z1-packet"> &para;</a></span></dt>
<dt>&lsquo;<samp class="samp">Z1,<var class="var">addr</var>,<var class="var">kind</var><span class="r">[</span>;<var class="var">cond_list</var>&hellip;<span class="r">]</span><span class="r">[</span>;cmds:<var class="var">persist</var>,<var class="var">cmd_list</var>&hellip;<span class="r">]</span></samp>&rsquo;</dt>
<dd><p>Insert (&lsquo;<samp class="samp">Z1</samp>&rsquo;) or remove (&lsquo;<samp class="samp">z1</samp>&rsquo;) a hardware breakpoint at
address <var class="var">addr</var>.
</p>
<p>A hardware breakpoint is implemented using a mechanism that is not
dependent on being able to modify the target&rsquo;s memory.  The
<var class="var">kind</var>, <var class="var">cond_list</var>, and <var class="var">cmd_list</var> arguments have the
same meaning as in &lsquo;<samp class="samp">Z0</samp>&rsquo; packets.
</p>
<p><em class="emph">Implementation note: A hardware breakpoint is not affected by code
movement.</em>
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>success
</p></dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-Z2-packet"></a>
<a id="index-z2-packet"></a><span>&lsquo;<samp class="samp">z2,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;<a class="copiable-link" href="#index-z2-packet"> &para;</a></span></dt>
<dt>&lsquo;<samp class="samp">Z2,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;</dt>
<dd><p>Insert (&lsquo;<samp class="samp">Z2</samp>&rsquo;) or remove (&lsquo;<samp class="samp">z2</samp>&rsquo;) a write watchpoint at <var class="var">addr</var>.
The number of bytes to watch is specified by <var class="var">kind</var>.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>success
</p></dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-Z3-packet"></a>
<a id="index-z3-packet"></a><span>&lsquo;<samp class="samp">z3,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;<a class="copiable-link" href="#index-z3-packet"> &para;</a></span></dt>
<dt>&lsquo;<samp class="samp">Z3,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;</dt>
<dd><p>Insert (&lsquo;<samp class="samp">Z3</samp>&rsquo;) or remove (&lsquo;<samp class="samp">z3</samp>&rsquo;) a read watchpoint at <var class="var">addr</var>.
The number of bytes to watch is specified by <var class="var">kind</var>.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>success
</p></dd>
</dl>

</dd>
<dt><a class="index-entry-id" id="index-Z4-packet"></a>
<a id="index-z4-packet"></a><span>&lsquo;<samp class="samp">z4,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;<a class="copiable-link" href="#index-z4-packet"> &para;</a></span></dt>
<dt>&lsquo;<samp class="samp">Z4,<var class="var">addr</var>,<var class="var">kind</var></samp>&rsquo;</dt>
<dd><p>Insert (&lsquo;<samp class="samp">Z4</samp>&rsquo;) or remove (&lsquo;<samp class="samp">z4</samp>&rsquo;) an access watchpoint at <var class="var">addr</var>.
The number of bytes to watch is specified by <var class="var">kind</var>.
</p>
<p>Reply:
</p><dl class="table">
<dt>&lsquo;<samp class="samp">OK</samp>&rsquo;</dt>
<dd><p>success
</p></dd>
</dl>

</dd>
</dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Stop-Reply-Packets.html">Stop Reply Packets</a>, Previous: <a href="Standard-Replies.html">Standard Replies</a>, Up: <a href="Remote-Protocol.html"><small class="sc">GDB</small> Remote Serial Protocol</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

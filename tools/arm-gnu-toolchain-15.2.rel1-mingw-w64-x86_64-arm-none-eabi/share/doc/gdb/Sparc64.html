<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>Sparc64 (Debugging with GDB)</title>

<meta name="description" content="Sparc64 (Debugging with GDB)">
<meta name="keywords" content="Sparc64 (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Architectures.html" rel="up" title="Architectures">
<link href="S12Z.html" rel="next" title="S12Z">
<link href="PowerPC.html" rel="prev" title="PowerPC">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="subsection-level-extent" id="Sparc64">
<div class="nav-panel">
<p>
Next: <a href="S12Z.html" accesskey="n" rel="next">S12Z</a>, Previous: <a href="PowerPC.html" accesskey="p" rel="prev">PowerPC</a>, Up: <a href="Architectures.html" accesskey="u" rel="up">Architectures</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Sparc64-1"><span>21.4.7 Sparc64<a class="copiable-link" href="#Sparc64-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Sparc64-support"></a>
<a class="index-entry-id" id="index-Application-Data-Integrity"></a>
<ul class="mini-toc">
<li><a href="#ADI-Support" accesskey="1">ADI Support</a></li>
</ul>
<div class="subsubsection-level-extent" id="ADI-Support">
<h4 class="subsubsection"><span>21.4.7.1 ADI Support<a class="copiable-link" href="#ADI-Support"> &para;</a></span></h4>

<p>The M7 processor supports an Application Data Integrity (ADI) feature that 
detects invalid data accesses.  When software allocates memory and enables 
ADI on the allocated memory, it chooses a 4-bit version number, sets the 
version in the upper 4 bits of the 64-bit pointer to that data, and stores 
the 4-bit version in every cacheline of that data.  Hardware saves the latter 
in spare bits in the cache and memory hierarchy.  On each load and store, 
the processor compares the upper 4 VA (virtual address) bits to the 
cacheline&rsquo;s version.  If there is a mismatch, the processor generates a 
version mismatch trap which can be either precise or disrupting.  The trap 
is an error condition which the kernel delivers to the process as a SIGSEGV 
signal.
</p>
<p>Note that only 64-bit applications can use ADI and need to be built with
ADI-enabled.
</p>
<p>Values of the ADI version tags, which are in granularity of a 
cacheline (64 bytes), can be viewed or modified. 
</p>

<dl class="table">
<dt><a id="index-adi-examine"></a><span><code class="code">adi (examine | x) [ / <var class="var">n</var> ] <var class="var">addr</var></code><a class="copiable-link" href="#index-adi-examine"> &para;</a></span></dt>
<dd>
<p>The <code class="code">adi examine</code> command displays the value of one ADI version tag per 
cacheline. 
</p>
<p><var class="var">n</var> is a decimal integer specifying the number in bytes; the default 
is 1.  It specifies how much ADI version information, at the ratio of 1:ADI 
block size, to display. 
</p>
<p><var class="var">addr</var> is the address in user address space where you want <small class="sc">GDB</small> 
to begin displaying the ADI version tags. 
</p>
<p>Below is an example of displaying ADI versions of variable &quot;shmaddr&quot;.
</p>
<div class="example smallexample">
<pre class="example-preformatted">(gdb) adi x/100 shmaddr
   0xfff800010002c000:     0 0
</pre></div>

</dd>
<dt><a id="index-adi-assign"></a><span><code class="code">adi (assign | a) [ / <var class="var">n</var> ] <var class="var">addr</var> = <var class="var">tag</var></code><a class="copiable-link" href="#index-adi-assign"> &para;</a></span></dt>
<dd>
<p>The <code class="code">adi assign</code> command is used to assign new ADI version tag 
to an address. 
</p>
<p><var class="var">n</var> is a decimal integer specifying the number in bytes; 
the default is 1.  It specifies how much ADI version information, at the 
ratio of 1:ADI block size, to modify. 
</p>
<p><var class="var">addr</var> is the address in user address space where you want <small class="sc">GDB</small> 
to begin modifying the ADI version tags. 
</p>
<p><var class="var">tag</var> is the new ADI version tag.
</p>
<p>For example, do the following to modify then verify ADI versions of 
variable &quot;shmaddr&quot;:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(gdb) adi a/100 shmaddr = 7
(gdb) adi x/100 shmaddr
   0xfff800010002c000:     7 7
</pre></div>

</dd>
</dl>

</div>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="S12Z.html">S12Z</a>, Previous: <a href="PowerPC.html">PowerPC</a>, Up: <a href="Architectures.html">Architectures</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

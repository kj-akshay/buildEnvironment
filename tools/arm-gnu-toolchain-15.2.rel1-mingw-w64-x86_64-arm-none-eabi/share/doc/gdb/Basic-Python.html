<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>Basic Python (Debugging with GDB)</title>

<meta name="description" content="Basic Python (Debugging with GDB)">
<meta name="keywords" content="Basic Python (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Python-API.html" rel="up" title="Python API">
<link href="Threading-in-GDB.html" rel="next" title="Threading in GDB">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="en">
<div class="subsubsection-level-extent" id="Basic-Python">
<div class="nav-panel">
<p>
Next: <a href="Threading-in-GDB.html" accesskey="n" rel="next">Threading in GDB</a>, Up: <a href="Python-API.html" accesskey="u" rel="up">Python API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="Basic-Python-1"><span>23.3.2.1 Basic Python<a class="copiable-link" href="#Basic-Python-1"> &para;</a></span></h4>

<a class="index-entry-id" id="index-python-stdout"></a>
<a class="index-entry-id" id="index-python-pagination"></a>
<p>At startup, <small class="sc">GDB</small> overrides Python&rsquo;s <code class="code">sys.stdout</code> and
<code class="code">sys.stderr</code> to print using <small class="sc">GDB</small>&rsquo;s output-paging streams.
A Python program which outputs to one of these streams may have its
output interrupted by the user (see <a class="pxref" href="Screen-Size.html">Screen Size</a>).  In this
situation, a Python <code class="code">KeyboardInterrupt</code> exception is thrown.
</p>
<p>Some care must be taken when writing Python code to run in
<small class="sc">GDB</small>.  Two things worth noting in particular:
</p>
<ul class="itemize mark-bullet">
<li><small class="sc">GDB</small> installs handlers for <code class="code">SIGCHLD</code> and <code class="code">SIGINT</code>.
Python code must not override these, or even change the options using
<code class="code">sigaction</code>.  If your program changes the handling of these
signals, <small class="sc">GDB</small> will most likely stop working correctly.  Note
that it is unfortunately common for GUI toolkits to install a
<code class="code">SIGCHLD</code> handler.  When creating a new Python thread, you can
use <code class="code">gdb.block_signals</code> or <code class="code">gdb.Thread</code> to handle this
correctly; see <a class="ref" href="Threading-in-GDB.html">Threading in GDB</a>.

</li><li><small class="sc">GDB</small> takes care to mark its internal file descriptors as
close-on-exec.  However, this cannot be done in a thread-safe way on
all platforms.  Your Python programs should be aware of this and
should both create new file descriptors with the close-on-exec flag
set and arrange to close unneeded file descriptors before starting a
child process.
</li></ul>

<a class="index-entry-id" id="index-python-functions"></a>
<a class="index-entry-id" id="index-python-module"></a>
<a class="index-entry-id" id="index-gdb-module"></a>
<p><small class="sc">GDB</small> introduces a new Python module, named <code class="code">gdb</code>.  All
methods and classes added by <small class="sc">GDB</small> are placed in this module.
<small class="sc">GDB</small> automatically <code class="code">import</code>s the <code class="code">gdb</code> module for
use in all scripts evaluated by the <code class="code">python</code> command.
</p>
<p>Some types of the <code class="code">gdb</code> module come with a textual representation
(accessible through the <code class="code">repr</code> or <code class="code">str</code> functions).  These are
offered for debugging purposes only, expect them to change over time.
</p>
<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-gdb_002ePYTHONDIR"><span class="category-def">Variable: </span><span><strong class="def-name">gdb.PYTHONDIR</strong><a class="copiable-link" href="#index-gdb_002ePYTHONDIR"> &para;</a></span></dt>
<dd><p>A string containing the python directory (see <a class="pxref" href="Python.html">Extending <small class="sc">GDB</small> using Python</a>).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eexecute"><span class="category-def">Function: </span><span><strong class="def-name">gdb.execute</strong> <var class="def-var-arguments">(command <span class="r">[</span>, from_tty <span class="r">[</span>, to_string<span class="r">]]</span>)</var><a class="copiable-link" href="#index-gdb_002eexecute"> &para;</a></span></dt>
<dd><p>Evaluate <var class="var">command</var>, a string, as a <small class="sc">GDB</small> CLI command.
If a GDB exception happens while <var class="var">command</var> runs, it is
translated as described in <a class="ref" href="Exception-Handling.html">Exception Handling</a>.
</p>
<p>The <var class="var">from_tty</var> flag specifies whether <small class="sc">GDB</small> ought to consider this
command as having originated from the user invoking it interactively.
It must be a boolean value.  If omitted, it defaults to <code class="code">False</code>.
</p>
<p>By default, any output produced by <var class="var">command</var> is sent to
<small class="sc">GDB</small>&rsquo;s standard output (and to the log output if logging is
turned on).  If the <var class="var">to_string</var> parameter is
<code class="code">True</code>, then output will be collected by <code class="code">gdb.execute</code> and
returned as a string.  The default is <code class="code">False</code>, in which case the
return value is <code class="code">None</code>.  If <var class="var">to_string</var> is <code class="code">True</code>, the
<small class="sc">GDB</small> virtual terminal will be temporarily set to unlimited width
and height, and its pagination will be disabled; see <a class="pxref" href="Screen-Size.html">Screen Size</a>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002ebreakpoints"><span class="category-def">Function: </span><span><strong class="def-name">gdb.breakpoints</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-gdb_002ebreakpoints"> &para;</a></span></dt>
<dd><p>Return a sequence holding all of <small class="sc">GDB</small>&rsquo;s breakpoints.
See <a class="xref" href="Breakpoints-In-Python.html">Manipulating breakpoints using Python</a>, for more information.  In <small class="sc">GDB</small>
version 7.11 and earlier, this function returned <code class="code">None</code> if there
were no breakpoints.  This peculiarity was subsequently fixed, and now
<code class="code">gdb.breakpoints</code> returns an empty sequence in this case.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002erbreak"><span class="category-def">Function: </span><span><strong class="def-name">gdb.rbreak</strong> <var class="def-var-arguments">(regex <span class="r">[</span>, minsyms <span class="r">[</span>, throttle, <span class="r">[</span>, symtabs <span class="r">]]]</span>)</var><a class="copiable-link" href="#index-gdb_002erbreak"> &para;</a></span></dt>
<dd><p>Return a Python list holding a collection of newly set
<code class="code">gdb.Breakpoint</code> objects matching function names defined by the
<var class="var">regex</var> pattern.  If the <var class="var">minsyms</var> keyword is <code class="code">True</code>, all
system functions (those not explicitly defined in the inferior) will
also be included in the match.  The <var class="var">throttle</var> keyword takes an
integer that defines the maximum number of pattern matches for
functions matched by the <var class="var">regex</var> pattern.  If the number of
matches exceeds the integer value of <var class="var">throttle</var>, a
<code class="code">RuntimeError</code> will be raised and no breakpoints will be created.
If <var class="var">throttle</var> is not defined then there is no imposed limit on the
maximum number of matches and breakpoints to be created.  The
<var class="var">symtabs</var> keyword takes a Python iterable that yields a collection
of <code class="code">gdb.Symtab</code> objects and will restrict the search to those
functions only contained within the <code class="code">gdb.Symtab</code> objects.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eparameter"><span class="category-def">Function: </span><span><strong class="def-name">gdb.parameter</strong> <var class="def-var-arguments">(parameter)</var><a class="copiable-link" href="#index-gdb_002eparameter"> &para;</a></span></dt>
<dd><p>Return the value of a <small class="sc">GDB</small> <var class="var">parameter</var> given by its name,
a string; the parameter name string may contain spaces if the parameter has a
multi-part name.  For example, &lsquo;<samp class="samp">print object</samp>&rsquo; is a valid
parameter name.
</p>
<p>If the named parameter does not exist, this function throws a
<code class="code">gdb.error</code> (see <a class="pxref" href="Exception-Handling.html">Exception Handling</a>).  Otherwise, the
parameter&rsquo;s value is converted to a Python value of the appropriate
type, and returned.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eset_005fparameter"><span class="category-def">Function: </span><span><strong class="def-name">gdb.set_parameter</strong> <var class="def-var-arguments">(name, value)</var><a class="copiable-link" href="#index-gdb_002eset_005fparameter"> &para;</a></span></dt>
<dd><p>Sets the gdb parameter <var class="var">name</var> to <var class="var">value</var>.  As with
<code class="code">gdb.parameter</code>, the parameter name string may contain spaces if
the parameter has a multi-part name.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002ewith_005fparameter"><span class="category-def">Function: </span><span><strong class="def-name">gdb.with_parameter</strong> <var class="def-var-arguments">(name, value)</var><a class="copiable-link" href="#index-gdb_002ewith_005fparameter"> &para;</a></span></dt>
<dd><p>Create a Python context manager (for use with the Python
<code class="command">with</code> statement) that temporarily sets the gdb parameter
<var class="var">name</var> to <var class="var">value</var>.  On exit from the context, the previous
value will be restored.
</p>
<p>This uses <code class="code">gdb.parameter</code> in its implementation, so it can throw
the same exceptions as that function.
</p>
<p>For example, it&rsquo;s sometimes useful to evaluate some Python code with a
particular gdb language:
</p>
<div class="example smallexample">
<pre class="example-preformatted">with gdb.with_parameter('language', 'pascal'):
  ... language-specific operations
</pre></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002ehistory"><span class="category-def">Function: </span><span><strong class="def-name">gdb.history</strong> <var class="def-var-arguments">(number)</var><a class="copiable-link" href="#index-gdb_002ehistory"> &para;</a></span></dt>
<dd><p>Return a value from <small class="sc">GDB</small>&rsquo;s value history (see <a class="pxref" href="Value-History.html">Value History</a>).  The <var class="var">number</var> argument indicates which history element to return.
If <var class="var">number</var> is negative, then <small class="sc">GDB</small> will take its absolute value
and count backward from the last element (i.e., the most recent element) to
find the value to return.  If <var class="var">number</var> is zero, then <small class="sc">GDB</small> will
return the most recent element.  If the element specified by <var class="var">number</var>
doesn&rsquo;t exist in the value history, a <code class="code">gdb.error</code> exception will be
raised.
</p>
<p>If no exception is raised, the return value is always an instance of
<code class="code">gdb.Value</code> (see <a class="pxref" href="Values-From-Inferior.html">Values From Inferior</a>).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eadd_005fhistory"><span class="category-def">Function: </span><span><strong class="def-name">gdb.add_history</strong> <var class="def-var-arguments">(value)</var><a class="copiable-link" href="#index-gdb_002eadd_005fhistory"> &para;</a></span></dt>
<dd><p>Takes <var class="var">value</var>, an instance of <code class="code">gdb.Value</code> (see <a class="pxref" href="Values-From-Inferior.html">Values From Inferior</a>), and appends the value this object represents to
<small class="sc">GDB</small>&rsquo;s value history (see <a class="pxref" href="Value-History.html">Value History</a>), and return an
integer, its history number.  If <var class="var">value</var> is not a
<code class="code">gdb.Value</code>, it is is converted using the <code class="code">gdb.Value</code>
constructor.  If <var class="var">value</var> can&rsquo;t be converted to a <code class="code">gdb.Value</code>
then a <code class="code">TypeError</code> is raised.
</p>
<p>When a command implemented in Python prints a single <code class="code">gdb.Value</code>
as its result, then placing the value into the history will allow the
user convenient access to those values via CLI history facilities.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002ehistory_005fcount"><span class="category-def">Function: </span><span><strong class="def-name">gdb.history_count</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-gdb_002ehistory_005fcount"> &para;</a></span></dt>
<dd><p>Return an integer indicating the number of values in <small class="sc">GDB</small>&rsquo;s
value history (see <a class="pxref" href="Value-History.html">Value History</a>).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002econvenience_005fvariable"><span class="category-def">Function: </span><span><strong class="def-name">gdb.convenience_variable</strong> <var class="def-var-arguments">(name)</var><a class="copiable-link" href="#index-gdb_002econvenience_005fvariable"> &para;</a></span></dt>
<dd><p>Return the value of the convenience variable (see <a class="pxref" href="Convenience-Vars.html">Convenience Variables</a>) named <var class="var">name</var>.  <var class="var">name</var> must be a string.  The name
should not include the &lsquo;<samp class="samp">$</samp>&rsquo; that is used to mark a convenience
variable in an expression.  If the convenience variable does not
exist, then <code class="code">None</code> is returned.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eset_005fconvenience_005fvariable"><span class="category-def">Function: </span><span><strong class="def-name">gdb.set_convenience_variable</strong> <var class="def-var-arguments">(name, value)</var><a class="copiable-link" href="#index-gdb_002eset_005fconvenience_005fvariable"> &para;</a></span></dt>
<dd><p>Set the value of the convenience variable (see <a class="pxref" href="Convenience-Vars.html">Convenience Variables</a>)
named <var class="var">name</var>.  <var class="var">name</var> must be a string.  The name should not
include the &lsquo;<samp class="samp">$</samp>&rsquo; that is used to mark a convenience variable in an
expression.  If <var class="var">value</var> is <code class="code">None</code>, then the convenience
variable is removed.  Otherwise, if <var class="var">value</var> is not a
<code class="code">gdb.Value</code> (see <a class="pxref" href="Values-From-Inferior.html">Values From Inferior</a>), it is is converted
using the <code class="code">gdb.Value</code> constructor.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eparse_005fand_005feval"><span class="category-def">Function: </span><span><strong class="def-name">gdb.parse_and_eval</strong> <var class="def-var-arguments">(expression <span class="r">[</span>, global_context<span class="r">]</span>)</var><a class="copiable-link" href="#index-gdb_002eparse_005fand_005feval"> &para;</a></span></dt>
<dd><p>Parse <var class="var">expression</var>, which must be a string, as an expression in
the current language, evaluate it, and return the result as a
<code class="code">gdb.Value</code>.
</p>
<p><var class="var">global_context</var>, if provided, is a boolean indicating whether the
parsing should be done in the global context.  The default is
&lsquo;<samp class="samp">False</samp>&rsquo;, meaning that the current frame or current static context
should be used.
</p>
<p>This function can be useful when implementing a new command
(see <a class="pxref" href="CLI-Commands-In-Python.html">CLI Commands In Python</a>, see <a class="pxref" href="GDB_002fMI-Commands-In-Python.html"><small class="sc">GDB/MI</small> Commands In Python</a>),
as it provides a way to parse the
command&rsquo;s argument as an expression.  It is also useful simply to
compute values.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002efind_005fpc_005fline"><span class="category-def">Function: </span><span><strong class="def-name">gdb.find_pc_line</strong> <var class="def-var-arguments">(pc)</var><a class="copiable-link" href="#index-gdb_002efind_005fpc_005fline"> &para;</a></span></dt>
<dd><p>Return the <code class="code">gdb.Symtab_and_line</code> object corresponding to the
<var class="var">pc</var> value.  See <a class="xref" href="Symbol-Tables-In-Python.html">Symbol table representation in Python</a>.  If an invalid
value of <var class="var">pc</var> is passed as an argument, then the <code class="code">symtab</code> and
<code class="code">line</code> attributes of the returned <code class="code">gdb.Symtab_and_line</code> object
will be <code class="code">None</code> and 0 respectively.  This is identical to
<code class="code">gdb.current_progspace().find_pc_line(pc)</code> and is included for
historical compatibility.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002ewrite"><span class="category-def">Function: </span><span><strong class="def-name">gdb.write</strong> <var class="def-var-arguments">(string <span class="r">[</span>, stream<span class="r">]</span>)</var><a class="copiable-link" href="#index-gdb_002ewrite"> &para;</a></span></dt>
<dd><p>Print a string to <small class="sc">GDB</small>&rsquo;s paginated output stream.  The
optional <var class="var">stream</var> determines the stream to print to.  The default
stream is <small class="sc">GDB</small>&rsquo;s standard output stream.  Possible stream
values are:
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-gdb_002eSTDOUT"></a>
<a id="index-STDOUT"></a><span><code class="code">gdb.STDOUT</code><a class="copiable-link" href="#index-STDOUT"> &para;</a></span></dt>
<dd><p><small class="sc">GDB</small>&rsquo;s standard output stream.
</p>
</dd>
<dt><a class="index-entry-id" id="index-gdb_002eSTDERR"></a>
<a id="index-STDERR"></a><span><code class="code">gdb.STDERR</code><a class="copiable-link" href="#index-STDERR"> &para;</a></span></dt>
<dd><p><small class="sc">GDB</small>&rsquo;s standard error stream.
</p>
</dd>
<dt><a class="index-entry-id" id="index-gdb_002eSTDLOG"></a>
<a id="index-STDLOG"></a><span><code class="code">gdb.STDLOG</code><a class="copiable-link" href="#index-STDLOG"> &para;</a></span></dt>
<dd><p><small class="sc">GDB</small>&rsquo;s log stream (see <a class="pxref" href="Logging-Output.html">Logging Output</a>).
</p></dd>
</dl>

<p>Writing to <code class="code">sys.stdout</code> or <code class="code">sys.stderr</code> will automatically
call this function and will automatically direct the output to the
relevant stream.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eflush"><span class="category-def">Function: </span><span><strong class="def-name">gdb.flush</strong> <var class="def-var-arguments">(<span class="r">[</span>, stream<span class="r">]</span>)</var><a class="copiable-link" href="#index-gdb_002eflush"> &para;</a></span></dt>
<dd><p>Flush the buffer of a <small class="sc">GDB</small> paginated stream so that the
contents are displayed immediately.  <small class="sc">GDB</small> will flush the
contents of a stream automatically when it encounters a newline in the
buffer.  The optional <var class="var">stream</var> determines the stream to flush.  The
default stream is <small class="sc">GDB</small>&rsquo;s standard output stream.  Possible
stream values are: 
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-gdb_002eSTDOUT-1"></a>
<a id="index-STDOUT-1"></a><span><code class="code">gdb.STDOUT</code><a class="copiable-link" href="#index-STDOUT-1"> &para;</a></span></dt>
<dd><p><small class="sc">GDB</small>&rsquo;s standard output stream.
</p>
</dd>
<dt><a class="index-entry-id" id="index-gdb_002eSTDERR-1"></a>
<a id="index-STDERR-1"></a><span><code class="code">gdb.STDERR</code><a class="copiable-link" href="#index-STDERR-1"> &para;</a></span></dt>
<dd><p><small class="sc">GDB</small>&rsquo;s standard error stream.
</p>
</dd>
<dt><a class="index-entry-id" id="index-gdb_002eSTDLOG-1"></a>
<a id="index-STDLOG-1"></a><span><code class="code">gdb.STDLOG</code><a class="copiable-link" href="#index-STDLOG-1"> &para;</a></span></dt>
<dd><p><small class="sc">GDB</small>&rsquo;s log stream (see <a class="pxref" href="Logging-Output.html">Logging Output</a>).
</p>
</dd>
</dl>

<p>Flushing <code class="code">sys.stdout</code> or <code class="code">sys.stderr</code> will automatically
call this function for the relevant stream.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002etarget_005fcharset"><span class="category-def">Function: </span><span><strong class="def-name">gdb.target_charset</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-gdb_002etarget_005fcharset"> &para;</a></span></dt>
<dd><p>Return the name of the current target character set (see <a class="pxref" href="Character-Sets.html">Character Sets</a>).  This differs from <code class="code">gdb.parameter('target-charset')</code> in
that &lsquo;<samp class="samp">auto</samp>&rsquo; is never returned.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002etarget_005fwide_005fcharset"><span class="category-def">Function: </span><span><strong class="def-name">gdb.target_wide_charset</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-gdb_002etarget_005fwide_005fcharset"> &para;</a></span></dt>
<dd><p>Return the name of the current target wide character set
(see <a class="pxref" href="Character-Sets.html">Character Sets</a>).  This differs from
<code class="code">gdb.parameter('target-wide-charset')</code> in that &lsquo;<samp class="samp">auto</samp>&rsquo; is
never returned.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002ehost_005fcharset"><span class="category-def">Function: </span><span><strong class="def-name">gdb.host_charset</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-gdb_002ehost_005fcharset"> &para;</a></span></dt>
<dd><p>Return a string, the name of the current host character set
(see <a class="pxref" href="Character-Sets.html">Character Sets</a>).  This differs from
<code class="code">gdb.parameter('host-charset')</code> in that &lsquo;<samp class="samp">auto</samp>&rsquo; is never
returned.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002esolib_005fname"><span class="category-def">Function: </span><span><strong class="def-name">gdb.solib_name</strong> <var class="def-var-arguments">(address)</var><a class="copiable-link" href="#index-gdb_002esolib_005fname"> &para;</a></span></dt>
<dd><p>Return the name of the shared library holding the given <var class="var">address</var>
as a string, or <code class="code">None</code>.  This is identical to
<code class="code">gdb.current_progspace().solib_name(address)</code> and is included for
historical compatibility.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002edecode_005fline"><span class="category-def">Function: </span><span><strong class="def-name">gdb.decode_line</strong> <var class="def-var-arguments">(<span class="r">[</span>expression<span class="r">]</span>)</var><a class="copiable-link" href="#index-gdb_002edecode_005fline"> &para;</a></span></dt>
<dd><p>Return locations of the line specified by <var class="var">expression</var>, or of the
current line if no argument was given.  This function returns a Python
tuple containing two elements.  The first element contains a string
holding any unparsed section of <var class="var">expression</var> (or <code class="code">None</code> if
the expression has been fully parsed).  The second element contains
either <code class="code">None</code> or another tuple that contains all the locations
that match the expression represented as <code class="code">gdb.Symtab_and_line</code>
objects (see <a class="pxref" href="Symbol-Tables-In-Python.html">Symbol table representation in Python</a>).  If <var class="var">expression</var> is
provided, it is decoded the way that <small class="sc">GDB</small>&rsquo;s inbuilt
<code class="code">break</code> or <code class="code">edit</code> commands do (see <a class="pxref" href="Location-Specifications.html">Location Specifications</a>).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eprompt_005fhook"><span class="category-def">Function: </span><span><strong class="def-name">gdb.prompt_hook</strong> <var class="def-var-arguments">(current_prompt)</var><a class="copiable-link" href="#index-gdb_002eprompt_005fhook"> &para;</a></span></dt>
<dd><a class="anchor" id="prompt_005fhook"></a>
<p>If <var class="var">prompt_hook</var> is callable, <small class="sc">GDB</small> will call the method
assigned to this operation before a prompt is displayed by
<small class="sc">GDB</small>.
</p>
<p>The parameter <code class="code">current_prompt</code> contains the current <small class="sc">GDB</small> 
prompt.  This method must return a Python string, or <code class="code">None</code>.  If
a string is returned, the <small class="sc">GDB</small> prompt will be set to that
string.  If <code class="code">None</code> is returned, <small class="sc">GDB</small> will continue to use
the current prompt.
</p>
<p>Some prompts cannot be substituted in <small class="sc">GDB</small>.  Secondary prompts
such as those used by readline for command input, and annotation
related prompts are prohibited from being changed.
</p></dd></dl>

<a class="anchor" id="gdb_005farchitecture_005fnames"></a><dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002earchitecture_005fnames"><span class="category-def">Function: </span><span><strong class="def-name">gdb.architecture_names</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-gdb_002earchitecture_005fnames"> &para;</a></span></dt>
<dd><p>Return a list containing all of the architecture names that the
current build of <small class="sc">GDB</small> supports.  Each architecture name is a
string.  The names returned in this list are the same names as are
returned from <code class="code">gdb.Architecture.name</code>
(see <a class="pxref" href="Architectures-In-Python.html#gdbpy_005farchitecture_005fname">Architecture.name</a>).
</p></dd></dl>

<a class="anchor" id="gdbpy_005fconnections"></a><dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002econnections"><span class="category-def">Function: </span><span><strong class="def-name">gdb.connections</strong><a class="copiable-link" href="#index-gdb_002econnections"> &para;</a></span></dt>
<dd><p>Return a list of <code class="code">gdb.TargetConnection</code> objects, one for each
currently active connection (see <a class="pxref" href="Connections-In-Python.html">Connections In Python</a>).  The
connection objects are in no particular order in the returned list.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eformat_005faddress"><span class="category-def">Function: </span><span><strong class="def-name">gdb.format_address</strong> <var class="def-var-arguments">(address <span class="r">[</span>, progspace, architecture<span class="r">]</span>)</var><a class="copiable-link" href="#index-gdb_002eformat_005faddress"> &para;</a></span></dt>
<dd><p>Return a string in the format &lsquo;<samp class="samp"><var class="var">addr</var>
&lt;<var class="var">symbol</var>+<var class="var">offset</var>&gt;</samp>&rsquo;, where <var class="var">addr</var> is <var class="var">address</var>
formatted in hexadecimal, <var class="var">symbol</var> is the symbol whose address is
the nearest to <var class="var">address</var> and below it in memory, and <var class="var">offset</var>
is the offset from <var class="var">symbol</var> to <var class="var">address</var> in decimal.
</p>
<p>If no suitable <var class="var">symbol</var> was found, then the
&lt;<var class="var">symbol</var>+<var class="var">offset</var>&gt; part is not included in the returned
string, instead the returned string will just contain the
<var class="var">address</var> formatted as hexadecimal.  How far <small class="sc">GDB</small> looks
back for a suitable symbol can be controlled with <kbd class="kbd">set print
max-symbolic-offset</kbd> (see <a class="pxref" href="Print-Settings.html">Print Settings</a>).
</p>
<p>Additionally, the returned string can include file name and line
number information when <kbd class="kbd">set print symbol-filename on</kbd>
(see <a class="pxref" href="Print-Settings.html">Print Settings</a>), in this case the format of the returned
string is &lsquo;<samp class="samp"><var class="var">addr</var> &lt;<var class="var">symbol</var>+<var class="var">offset</var>&gt; at
<var class="var">filename</var>:<var class="var">line-number</var></samp>&rsquo;.
</p>

<p>The <var class="var">progspace</var> is the gdb.Progspace in which <var class="var">symbol</var> is
looked up, and <var class="var">architecture</var> is used when formatting <var class="var">addr</var>,
e.g. in order to determine the size of an address in bytes.
</p>
<p>If neither <var class="var">progspace</var> or <var class="var">architecture</var> are passed, then by
default <small class="sc">GDB</small> will use the program space and architecture of
the currently selected inferior, thus, the following two calls are
equivalent:
</p>
<div class="example smallexample">
<pre class="example-preformatted">gdb.format_address(address)
gdb.format_address(address,
                   gdb.selected_inferior().progspace,
                   gdb.selected_inferior().architecture())
</pre></div>

<p>It is not valid to only pass one of <var class="var">progspace</var> or
<var class="var">architecture</var>, either they must both be provided, or neither must
be provided (and the defaults will be used).
</p>
<p>This method uses the same mechanism for formatting address, symbol,
and offset information as core <small class="sc">GDB</small> does in commands such as
<kbd class="kbd">disassemble</kbd>.
</p>
<p>Here are some examples of the possible string formats:
</p>
<div class="example smallexample">
<pre class="example-preformatted">0x00001042
0x00001042 &lt;symbol+16&gt;
0x00001042 &lt;symbol+16 at file.c:123&gt;
</pre></div>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002ecurrent_005flanguage"><span class="category-def">Function: </span><span><strong class="def-name">gdb.current_language</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-gdb_002ecurrent_005flanguage"> &para;</a></span></dt>
<dd><p>Return the name of the current language as a string.  Unlike
<code class="code">gdb.parameter('language')</code>, this function will never return
&lsquo;<samp class="samp">auto</samp>&rsquo;.  If a <code class="code">gdb.Frame</code> object is available (see <a class="pxref" href="Frames-In-Python.html">Accessing inferior stack frames from Python</a>), the <code class="code">language</code> method might be preferable in some
cases, as that is not affected by the user&rsquo;s language setting.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Threading-in-GDB.html">Threading in GDB</a>, Up: <a href="Python-API.html">Python API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

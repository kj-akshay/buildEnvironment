<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>ARM Features (Debugging with GDB)</title>

<meta name="description" content="ARM Features (Debugging with GDB)">
<meta name="keywords" content="ARM Features (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Standard-Target-Features.html" rel="up" title="Standard Target Features">
<link href="i386-Features.html" rel="next" title="i386 Features">
<link href="ARC-Features.html" rel="prev" title="ARC Features">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
ul.mark-minus {list-style-type: "\2212"}
-->
</style>


</head>

<body lang="en">
<div class="subsection-level-extent" id="ARM-Features">
<div class="nav-panel">
<p>
Next: <a href="i386-Features.html" accesskey="n" rel="next">i386 Features</a>, Previous: <a href="ARC-Features.html" accesskey="p" rel="prev">ARC Features</a>, Up: <a href="Standard-Target-Features.html" accesskey="u" rel="up">Standard Target Features</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="ARM-Features-1"><span>G.5.3 ARM Features<a class="copiable-link" href="#ARM-Features-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-target-descriptions_002c-ARM-features"></a>

<ul class="mini-toc">
<li><a href="#Core-register-set-for-non_002dM_002dprofile" accesskey="1">Core register set for non-M-profile</a></li>
<li><a href="#Core-register-set-for-M_002dprofile" accesskey="2">Core register set for M-profile</a></li>
<li><a href="#FPA-registers-feature-_0028obsolete_0029" accesskey="3">FPA registers feature (obsolete)</a></li>
<li><a href="#M_002dprofile-Vector-Extension-_0028MVE_0029" accesskey="4">M-profile Vector Extension (MVE)</a></li>
<li><a href="#XScale-iwMMXt-feature" accesskey="5">XScale iwMMXt feature</a></li>
<li><a href="#Vector-Floating_002dPoint-_0028VFP_0029-feature" accesskey="6">Vector Floating-Point (VFP) feature</a></li>
<li><a href="#NEON-architecture-feature" accesskey="7">NEON architecture feature</a></li>
<li><a href="#M_002dprofile-Pointer-Authentication-and-Branch-Target-Identification-feature" accesskey="8">M-profile Pointer Authentication and Branch Target Identification feature</a></li>
<li><a href="#M_002dprofile-system-registers-feature" accesskey="9">M-profile system registers feature</a></li>
<li><a href="#M_002dprofile-Security-Extensions-feature">M-profile Security Extensions feature</a></li>
<li><a href="#TLS-registers-feature">TLS registers feature</a></li>
</ul>
<div class="subsubsection-level-extent" id="Core-register-set-for-non_002dM_002dprofile">
<h4 class="subsubsection"><span>G.5.3.1 Core register set for non-M-profile<a class="copiable-link" href="#Core-register-set-for-non_002dM_002dprofile"> &para;</a></span></h4>

<p>The &lsquo;<samp class="samp">org.gnu.gdb.arm.core</samp>&rsquo; feature is required for non-M-profile
ARM targets. It must contain the following registers:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">r0</samp>&rsquo; through &lsquo;<samp class="samp">r12</samp>&rsquo;.  The general purpose registers.  They are 32 bits
in size and have a type of &lsquo;<samp class="samp">uint32</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">sp</samp>&rsquo;, the stack pointer register, also known as &lsquo;<samp class="samp">r13</samp>&rsquo;.  It is 32 bits
in size and has a type of &lsquo;<samp class="samp">data_ptr</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">lr</samp>&rsquo;, the link register.  It is 32 bits in size.
</li><li>&lsquo;<samp class="samp">pc</samp>&rsquo;, the program counter register.  It is 32 bit in size and of type
&lsquo;<samp class="samp">code_ptr</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">cpsr</samp>&rsquo;, the current program status register containing all the status
bits.  It is 32 bits in size.  Historically this register was hardwired to
number 25, but debugging stubs that report XML do not need to use this number
anymore.
</li></ul>

<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
<div class="subsubsection-level-extent" id="Core-register-set-for-M_002dprofile">
<h4 class="subsubsection"><span>G.5.3.2 Core register set for M-profile<a class="copiable-link" href="#Core-register-set-for-M_002dprofile"> &para;</a></span></h4>

<p>For M-profile targets (e.g. Cortex-M3), the &lsquo;<samp class="samp">org.gnu.gdb.arm.core</samp>&rsquo;
feature is replaced by &lsquo;<samp class="samp">org.gnu.gdb.arm.m-profile</samp>&rsquo;, and it is a required
feature.  It must contain the following registers:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">r0</samp>&rsquo; through &lsquo;<samp class="samp">r12</samp>&rsquo;, the general purpose registers.  They have a size
of 32 bits and a type of &lsquo;<samp class="samp">uint32</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">sp</samp>&rsquo;, the stack pointer register, also known as &lsquo;<samp class="samp">r13</samp>&rsquo;.  It has a size
of 32 bits and a type of &lsquo;<samp class="samp">data_ptr</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">lr</samp>&rsquo;, the link register.  It has a size of 32 bits.
</li><li>&lsquo;<samp class="samp">pc</samp>&rsquo;, the program counter register.  It has a size of 32 bits and a type
of &lsquo;<samp class="samp">code_ptr</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">xpsr</samp>&rsquo;, the program status register containing all the status
bits.  It has a size of 32 bits.  Historically this register was hardwired to
number 25, but debugging stubs that report XML do not need to use this number
anymore.
</li></ul>

<p>Upon seeing this feature, <small class="sc">GDB</small> will acknowledge that it is dealing
with an M-profile target.  This means <small class="sc">GDB</small> will use hooks and
configurations that are meaningful to M-profiles.
</p>
<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
<div class="subsubsection-level-extent" id="FPA-registers-feature-_0028obsolete_0029">
<h4 class="subsubsection"><span>G.5.3.3 FPA registers feature (obsolete)<a class="copiable-link" href="#FPA-registers-feature-_0028obsolete_0029"> &para;</a></span></h4>

<p>The &lsquo;<samp class="samp">org.gnu.gdb.arm.fpa</samp>&rsquo; feature is obsolete and should not be
advertised by debugging stubs anymore.  It used to advertise registers for
the old FPA architecture that has long been discontinued in toolchains.
</p>
<p>It is kept in <small class="sc">GDB</small> for backward compatibility purposes so older
debugging stubs that don&rsquo;t support XML target descriptions still work
correctly.  One such example is the KGDB debugging stub from
Linux or BSD kernels.
</p>
<p>The description below is for historical purposes only.  This feature
used to contain the following registers:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">f0</samp>&rsquo; through &lsquo;<samp class="samp">f8</samp>&rsquo;.  The floating point registers.  They are 96 bits
in size and of type &lsquo;<samp class="samp">arm_fpa_ext</samp>&rsquo;.  &lsquo;<samp class="samp">f0</samp>&rsquo; is pinned to register
number 16.
</li><li>&lsquo;<samp class="samp">fps</samp>&rsquo;, the status register.  It has a size of 32 bits.
</li></ul>

</div>
<div class="subsubsection-level-extent" id="M_002dprofile-Vector-Extension-_0028MVE_0029">
<h4 class="subsubsection"><span>G.5.3.4 M-profile Vector Extension (MVE)<a class="copiable-link" href="#M_002dprofile-Vector-Extension-_0028MVE_0029"> &para;</a></span></h4>

<p>Also known as Helium, the M-profile Vector Extension is advertised via the
optional &lsquo;<samp class="samp">org.gnu.gdb.arm.m-profile-mve</samp>&rsquo; feature.
</p>
<p>It must contain the following:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">vpr</samp>&rsquo;, the vector predication status and control register.  It is 32 bits
in size and has a custom flags type.  The flags type is laid out in a way that
exposes the &lsquo;<samp class="samp">P0</samp>&rsquo; field from bits 0 to 15, the &lsquo;<samp class="samp">MASK01</samp>&rsquo; field from
bits 16 to 19 and the &lsquo;<samp class="samp">MASK23</samp>&rsquo; field from bits 20 to 23.

<p>Bits 24 through 31 are reserved.
</p></li></ul>

<p>When this feature is available, <small class="sc">GDB</small> will synthesize the &lsquo;<samp class="samp">p0</samp>&rsquo;
pseudo-register from &lsquo;<samp class="samp">vpr</samp>&rsquo; contents.
</p>
<p>This feature must only be advertised if the target is M-profile.  Advertising
this feature for targets that are not M-profile may cause <small class="sc">GDB</small> to
assume the target is M-profile when it isn&rsquo;t.
</p>
<p>If the &lsquo;<samp class="samp">org.gnu.gdb.arm.vfp</samp>&rsquo; feature is available alongside the
&lsquo;<samp class="samp">org.gnu.gdb.arm.m-profile-mve</samp>&rsquo; feature, <small class="sc">GDB</small> will
synthesize the &lsquo;<samp class="samp">q</samp>&rsquo; pseudo-registers from &lsquo;<samp class="samp">d</samp>&rsquo; register
contents.
</p>
<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
<div class="subsubsection-level-extent" id="XScale-iwMMXt-feature">
<h4 class="subsubsection"><span>G.5.3.5 XScale iwMMXt feature<a class="copiable-link" href="#XScale-iwMMXt-feature"> &para;</a></span></h4>

<p>The XScale &lsquo;<samp class="samp">org.gnu.gdb.xscale.iwmmxt</samp>&rsquo; feature is optional.  If present,
it must contain the following:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">wR0</samp>&rsquo; through &lsquo;<samp class="samp">wR15</samp>&rsquo;, registers with size 64 bits and a custom type
&lsquo;<samp class="samp">iwmmxt_vec64i</samp>&rsquo;.  &lsquo;<samp class="samp">iwmmxt_vec64i</samp>&rsquo; is a union of four other
types: &lsquo;<samp class="samp">uint64</samp>&rsquo;, a 2-element vector of &lsquo;<samp class="samp">uint32</samp>&rsquo;, a 4-element
vector of &lsquo;<samp class="samp">uint16</samp>&rsquo; and a 8-element vector of &lsquo;<samp class="samp">uint8</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">wCGR0</samp>&rsquo; through &lsquo;<samp class="samp">wCGR3</samp>&rsquo;, registers with size 32 bits and
type &lsquo;<samp class="samp">int</samp>&rsquo;.
</li></ul>

<p>The following registers are optional:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">wCID</samp>&rsquo;, register with size of 32 bits and type &lsquo;<samp class="samp">int</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">wCon</samp>&rsquo;, register with size 32 bits and type &lsquo;<samp class="samp">int</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">wCSSF</samp>&rsquo;, register with size 32 bits and type &lsquo;<samp class="samp">int</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">wCASF</samp>&rsquo;, register with size 32 bit and type &lsquo;<samp class="samp">int</samp>&rsquo;.
</li></ul>

<p>This feature should only be reported if the target is XScale.
</p>
<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
<div class="subsubsection-level-extent" id="Vector-Floating_002dPoint-_0028VFP_0029-feature">
<h4 class="subsubsection"><span>G.5.3.6 Vector Floating-Point (VFP) feature<a class="copiable-link" href="#Vector-Floating_002dPoint-_0028VFP_0029-feature"> &para;</a></span></h4>

<p>The &lsquo;<samp class="samp">org.gnu.gdb.arm.vfp</samp>&rsquo; feature is optional.  If present, it
should contain one of two possible sets of values depending on whether
VFP version 2 or VFP version 3 is in use.
</p>
<p>For VFP v2:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">d0</samp>&rsquo; through &lsquo;<samp class="samp">d15</samp>&rsquo;.  The double-precision registers.  They are
64 bits in size and have type &lsquo;<samp class="samp">ieee_double</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">fpscr</samp>&rsquo;, the floating-point status and control register.  It has a size
of 32 bits and a type of &lsquo;<samp class="samp">int</samp>&rsquo;.
</li></ul>

<p>For VFP v3:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">d0</samp>&rsquo; through &lsquo;<samp class="samp">d31</samp>&rsquo;.  The double-precision registers.  They are
64 bits in size and have type &lsquo;<samp class="samp">ieee_double</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">fpscr</samp>&rsquo;, the floating-point status and control register.  It has a size
of 32 bits and a type of &lsquo;<samp class="samp">int</samp>&rsquo;.
</li></ul>

<p>If this feature is available, <small class="sc">GDB</small> will synthesize the
single-precision floating-point registers from halves of the double-precision
registers as pseudo-registers.
</p>
<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
<div class="subsubsection-level-extent" id="NEON-architecture-feature">
<h4 class="subsubsection"><span>G.5.3.7 NEON architecture feature<a class="copiable-link" href="#NEON-architecture-feature"> &para;</a></span></h4>

<p>The &lsquo;<samp class="samp">org.gnu.gdb.arm.neon</samp>&rsquo; feature is optional.  It does not
need to contain registers; it instructs <small class="sc">GDB</small> to display the
VFP double-precision registers as vectors and to synthesize the
quad-precision registers from pairs of double-precision registers.
If this feature is present, &lsquo;<samp class="samp">org.gnu.gdb.arm.vfp</samp>&rsquo; must also
be present and include 32 double-precision registers.
</p>
<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
<div class="subsubsection-level-extent" id="M_002dprofile-Pointer-Authentication-and-Branch-Target-Identification-feature">
<h4 class="subsubsection"><span>G.5.3.8 M-profile Pointer Authentication and Branch Target Identification feature<a class="copiable-link" href="#M_002dprofile-Pointer-Authentication-and-Branch-Target-Identification-feature"> &para;</a></span></h4>

<p>The &lsquo;<samp class="samp">org.gnu.gdb.arm.m-profile-pacbti</samp>&rsquo; feature is optional, and
acknowledges support for the ARMv8.1-m PACBTI extensions.
</p>
<p>This feature doesn&rsquo;t contain any required registers, and it only serves as a
hint to <small class="sc">GDB</small> that the debugging stub supports the ARMv8.1-m PACBTI
extensions.
</p>
<p>When <small class="sc">GDB</small> sees this feature, it will track return address signing
states and will decorate backtraces using the [PAC] marker, similar to
AArch64&rsquo;s PAC extension.
See <a class="xref" href="AArch64.html#AArch64-PAC">AArch64 PAC</a>.
</p>
<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
<div class="subsubsection-level-extent" id="M_002dprofile-system-registers-feature">
<h4 class="subsubsection"><span>G.5.3.9 M-profile system registers feature<a class="copiable-link" href="#M_002dprofile-system-registers-feature"> &para;</a></span></h4>

<p>The &lsquo;<samp class="samp">org.gnu.gdb.arm.m-system</samp>&rsquo; optional feature was introduced as a way to
inform <small class="sc">GDB</small> about additional system registers.
</p>
<p>At the moment this feature must contain the following:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">msp</samp>&rsquo;, the main stack pointer register.  It is 32 bits in size with
type &lsquo;<samp class="samp">data_ptr</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">psp</samp>&rsquo;, the process stack pointer register.  It is 32 bits in size with
type &lsquo;<samp class="samp">data_ptr</samp>&rsquo;.
</li></ul>

<p>This feature must only be advertised for M-profile targets.  When <small class="sc">GDB</small>
sees this feature, it will attempt to track the values of &lsquo;<samp class="samp">msp</samp>&rsquo; and
&lsquo;<samp class="samp">psp</samp>&rsquo; across frames.
</p>
<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
<div class="subsubsection-level-extent" id="M_002dprofile-Security-Extensions-feature">
<h4 class="subsubsection"><span>G.5.3.10 M-profile Security Extensions feature<a class="copiable-link" href="#M_002dprofile-Security-Extensions-feature"> &para;</a></span></h4>

<p>The &lsquo;<samp class="samp">org.gnu.gdb.arm.secext</samp>&rsquo; optional feature was introduced so
<small class="sc">GDB</small> could better support the switching of stack pointers and
secure states in the Security Extensions.
</p>
<p>At the moment this feature must contain the following:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">msp_ns</samp>&rsquo;, the main stack pointer register (non-secure state).  It is
32 bits in size with type &lsquo;<samp class="samp">data_ptr</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">psp_ns</samp>&rsquo;, the process stack pointer register (non-secure state).  It is
32 bits in size with type &lsquo;<samp class="samp">data_ptr</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">msp_s</samp>&rsquo;, the main stack pointer register (secure state).  It is 32 bits
in size with type &lsquo;<samp class="samp">data_ptr</samp>&rsquo;.
</li><li>&lsquo;<samp class="samp">psp_s</samp>&rsquo;, the process stack pointer register (secure state).  It is 32 bits
in size with type &lsquo;<samp class="samp">data_ptr</samp>&rsquo;.
</li></ul>

<p>When <small class="sc">GDB</small> sees this feature, it will attempt to track the values of
all 4 stack pointers across secure state transitions, potentially improving
unwinding when applications switch between security states.
</p>
<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
<div class="subsubsection-level-extent" id="TLS-registers-feature">
<h4 class="subsubsection"><span>G.5.3.11 TLS registers feature<a class="copiable-link" href="#TLS-registers-feature"> &para;</a></span></h4>

<p>The optional &lsquo;<samp class="samp">org.gnu.gdb.arm.tls</samp>&rsquo; feature contains TLS registers.
</p>
<p>Currently it contains the following:
</p>
<ul class="itemize mark-minus">
<li>&lsquo;<samp class="samp">tpidruro</samp>&rsquo;, the user read-only thread id register.  It is 32 bits in size
and has type &lsquo;<samp class="samp">data_ptr</samp>&rsquo;.
</li></ul>

<p>At the moment <small class="sc">GDB</small> looks for this feature, but doesn&rsquo;t do anything
with it other than displaying it.
</p>
<p>Extra registers are allowed in this feature, but they will not affect
<small class="sc">GDB</small>.
</p>
</div>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="i386-Features.html">i386 Features</a>, Previous: <a href="ARC-Features.html">ARC Features</a>, Up: <a href="Standard-Target-Features.html">Standard Target Features</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

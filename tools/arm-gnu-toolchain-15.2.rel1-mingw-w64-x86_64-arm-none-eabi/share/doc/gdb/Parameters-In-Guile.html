<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright © 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>Parameters In Guile (Debugging with GDB)</title>

<meta name="description" content="Parameters In Guile (Debugging with GDB)">
<meta name="keywords" content="Parameters In Guile (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Guile-API.html" rel="up" title="Guile API">
<link href="Progspaces-In-Guile.html" rel="next" title="Progspaces In Guile">
<link href="Commands-In-Guile.html" rel="prev" title="Commands In Guile">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
kbd.kbd {font-style: oblique}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="subsubsection-level-extent" id="Parameters-In-Guile">
<div class="nav-panel">
<p>
Next: <a href="Progspaces-In-Guile.html" accesskey="n" rel="next">Program Spaces In Guile</a>, Previous: <a href="Commands-In-Guile.html" accesskey="p" rel="prev">Commands In Guile</a>, Up: <a href="Guile-API.html" accesskey="u" rel="up">Guile API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="Parameters-In-Guile-1"><span>23.4.3.12 Parameters In Guile<a class="copiable-link" href="#Parameters-In-Guile-1"> &para;</a></span></h4>

<a class="index-entry-id" id="index-parameters-in-guile"></a>
<a class="index-entry-id" id="index-guile-parameters"></a>
<a class="index-entry-id" id="index-Parameter-1"></a>
<p>You can implement new <small class="sc">GDB</small> <em class="dfn">parameters</em> using Guile
<a class="footnote" id="DOCF19" href="#FOOT19"><sup>19</sup></a>.
</p>
<p>There are many parameters that already exist and can be set in
<small class="sc">GDB</small>.  Two examples are: <code class="code">set follow-fork</code> and
<code class="code">set charset</code>.  Setting these parameters influences certain
behavior in <small class="sc">GDB</small>.  Similarly, you can define parameters that
can be used to influence behavior in custom Guile scripts and commands.
</p>
<p>A new parameter is defined with the <code class="code">make-parameter</code> Guile function,
and added to <small class="sc">GDB</small> with the <code class="code">register-parameter!</code> Guile function.
This two-step approach is taken to separate out the side-effect of adding
the parameter to <small class="sc">GDB</small> from <code class="code">make-parameter</code>.
</p>
<p>Parameters are exposed to the user via the <code class="code">set</code> and
<code class="code">show</code> commands.  See <a class="xref" href="Help.html">Getting Help</a>.
</p>
<dl class="first-deffn">
<dt class="deffn" id="index-make_002dparameter"><span class="category-def">Scheme Procedure: </span><span><strong class="def-name">make-parameter</strong> <var class="def-var-arguments">name     <span class="r">[</span>#:command-class&nbsp;command-class<span class="r">]</span><!-- /@w -->     <span class="r">[</span>#:parameter-type&nbsp;parameter-type<span class="r">]</span><!-- /@w -->     <span class="r">[</span>#:enum-list&nbsp;enum-list<span class="r">]</span><!-- /@w --> <span class="r">[</span>#:set-func&nbsp;set-func<span class="r">]</span><!-- /@w -->     <span class="r">[</span>#:show-func&nbsp;show-func<span class="r">]</span><!-- /@w --> <span class="r">[</span>#:doc&nbsp;doc<span class="r">]</span><!-- /@w -->     <span class="r">[</span>#:set-doc&nbsp;set-doc<span class="r">]</span><!-- /@w --> <span class="r">[</span>#:show-doc&nbsp;show-doc<span class="r">]</span><!-- /@w -->     <span class="r">[</span>#:initial-value&nbsp;initial-value<span class="r">]</span><!-- /@w --></var><a class="copiable-link" href="#index-make_002dparameter"> &para;</a></span></dt>
<dd>
<p>The argument <var class="var">name</var> is the name of the new parameter.  If <var class="var">name</var>
consists of multiple words, then the initial words are looked for as prefix
parameters.  An example of this can be illustrated with the
<code class="code">set print</code> set of parameters.  If <var class="var">name</var> is
<code class="code">print foo</code>, then <code class="code">print</code> will be searched as the prefix
parameter.  In this case the parameter can subsequently be accessed in
<small class="sc">GDB</small> as <code class="code">set print foo</code>.
If <var class="var">name</var> consists of multiple words, and no prefix parameter group
can be found, an exception is raised.
</p>
<p>The result is the <code class="code">&lt;gdb:parameter&gt;</code> object representing the parameter.
The parameter is not usable until it has been registered with <small class="sc">GDB</small>
with <code class="code">register-parameter!</code>.
</p>
<p>The rest of the arguments are optional.
</p>
<p>The argument <var class="var">command-class</var> should be one of the &lsquo;<samp class="samp">COMMAND_</samp>&rsquo; constants
(see <a class="pxref" href="Commands-In-Guile.html">Commands In Guile</a>).  This argument tells <small class="sc">GDB</small> how to
categorize the new parameter in the help system.
The default is <code class="code">COMMAND_NONE</code>.
</p>
<p>The argument <var class="var">parameter-type</var> should be one of the &lsquo;<samp class="samp">PARAM_</samp>&rsquo; constants
defined below.  This argument tells <small class="sc">GDB</small> the type of the new
parameter; this information is used for input validation and
completion.  The default is <code class="code">PARAM_BOOLEAN</code>.
</p>
<p>If <var class="var">parameter-type</var> is <code class="code">PARAM_ENUM</code>, then
<var class="var">enum-list</var> must be a list of strings.  These strings
represent the possible values for the parameter.
</p>
<p>If <var class="var">parameter-type</var> is not <code class="code">PARAM_ENUM</code>, then the presence
of <var class="var">enum-list</var> will cause an exception to be thrown.
</p>
<p>The argument <var class="var">set-func</var> is a function of one argument: <var class="var">self</var> which
is the <code class="code">&lt;gdb:parameter&gt;</code> object representing the parameter.
<small class="sc">GDB</small> will call this function when a <var class="var">parameter</var>&rsquo;s value has
been changed via the <code class="code">set</code> API (for example, <kbd class="kbd">set foo off</kbd>).
The value of the parameter has already been set to the new value.
This function must return a string to be displayed to the user.
<small class="sc">GDB</small> will add a trailing newline if the string is non-empty.
<small class="sc">GDB</small> generally doesn&rsquo;t print anything when a parameter is set,
thus typically this function should return &lsquo;<samp class="samp">&quot;&quot;</samp>&rsquo;.
A non-empty string result should typically be used for displaying warnings
and errors.
</p>
<p>The argument <var class="var">show-func</var> is a function of two arguments: <var class="var">self</var> which
is the <code class="code">&lt;gdb:parameter&gt;</code> object representing the parameter, and
<var class="var">svalue</var> which is the string representation of the current value.
<small class="sc">GDB</small> will call this function when a <var class="var">parameter</var>&rsquo;s
<code class="code">show</code> API has been invoked (for example, <kbd class="kbd">show foo</kbd>).
This function must return a string, and will be displayed to the user.
<small class="sc">GDB</small> will add a trailing newline.
</p>
<p>The argument <var class="var">doc</var> is the help text for the new parameter.
If there is no documentation string, a default value is used.
</p>
<p>The argument <var class="var">set-doc</var> is the help text for this parameter&rsquo;s
<code class="code">set</code> command.
</p>
<p>The argument <var class="var">show-doc</var> is the help text for this parameter&rsquo;s
<code class="code">show</code> command.
</p>
<p>The argument <var class="var">initial-value</var> specifies the initial value of the parameter.
If it is a function, it takes one parameter, the <code class="code">&lt;gdb:parameter&gt;</code>
object and its result is used as the initial value of the parameter.
The initial value must be valid for the parameter type,
otherwise an exception is thrown.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-register_002dparameter_0021"><span class="category-def">Scheme Procedure: </span><span><strong class="def-name">register-parameter!</strong> <var class="def-var-arguments">parameter</var><a class="copiable-link" href="#index-register_002dparameter_0021"> &para;</a></span></dt>
<dd><p>Add <var class="var">parameter</var>, a <code class="code">&lt;gdb:parameter&gt;</code> object, to <small class="sc">GDB</small>&rsquo;s
list of parameters.
It is an error to register a parameter more than once.
The result is unspecified.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-parameter_003f"><span class="category-def">Scheme Procedure: </span><span><strong class="def-name">parameter?</strong> <var class="def-var-arguments">object</var><a class="copiable-link" href="#index-parameter_003f"> &para;</a></span></dt>
<dd><p>Return <code class="code">#t</code> if <var class="var">object</var> is a <code class="code">&lt;gdb:parameter&gt;</code> object.
Otherwise return <code class="code">#f</code>.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-parameter_002dvalue"><span class="category-def">Scheme Procedure: </span><span><strong class="def-name">parameter-value</strong> <var class="def-var-arguments">parameter</var><a class="copiable-link" href="#index-parameter_002dvalue"> &para;</a></span></dt>
<dd><p>Return the value of <var class="var">parameter</var> which may either be
a <code class="code">&lt;gdb:parameter&gt;</code> object or a string naming the parameter.
</p></dd></dl>

<dl class="first-deffn">
<dt class="deffn" id="index-set_002dparameter_002dvalue_0021"><span class="category-def">Scheme Procedure: </span><span><strong class="def-name">set-parameter-value!</strong> <var class="def-var-arguments">parameter new-value</var><a class="copiable-link" href="#index-set_002dparameter_002dvalue_0021"> &para;</a></span></dt>
<dd><p>Assign <var class="var">parameter</var> the value of <var class="var">new-value</var>.
The argument <var class="var">parameter</var> must be an object of type <code class="code">&lt;gdb:parameter&gt;</code>.
<small class="sc">GDB</small> does validation when assignments are made.
</p></dd></dl>

<p>When a new parameter is defined, its type must be specified.  The
available types are represented by constants defined in the <code class="code">gdb</code>
module:
</p>
<dl class="vtable">
<dt><a id="index-PARAM_005fBOOLEAN-1"></a><span><code class="code">PARAM_BOOLEAN</code><a class="copiable-link" href="#index-PARAM_005fBOOLEAN-1"> &para;</a></span></dt>
<dd><p>The value is a plain boolean.  The Guile boolean values, <code class="code">#t</code>
and <code class="code">#f</code> are the only valid values.
</p>
</dd>
<dt><a id="index-PARAM_005fAUTO_005fBOOLEAN-1"></a><span><code class="code">PARAM_AUTO_BOOLEAN</code><a class="copiable-link" href="#index-PARAM_005fAUTO_005fBOOLEAN-1"> &para;</a></span></dt>
<dd><p>The value has three possible states: true, false, and &lsquo;<samp class="samp">auto</samp>&rsquo;.  In
Guile, true and false are represented using boolean constants, and
&lsquo;<samp class="samp">auto</samp>&rsquo; is represented using <code class="code">#:auto</code>.
</p>
</dd>
<dt><a id="index-PARAM_005fUINTEGER-1"></a><span><code class="code">PARAM_UINTEGER</code><a class="copiable-link" href="#index-PARAM_005fUINTEGER-1"> &para;</a></span></dt>
<dd><p>The value is an unsigned integer.  The value of <code class="code">#:unlimited</code>
should be interpreted to mean &ldquo;unlimited&rdquo;, and the value of &lsquo;<samp class="samp">0</samp>&rsquo;
is reserved and should not be used.
</p>
</dd>
<dt><a id="index-PARAM_005fZINTEGER-1"></a><span><code class="code">PARAM_ZINTEGER</code><a class="copiable-link" href="#index-PARAM_005fZINTEGER-1"> &para;</a></span></dt>
<dd><p>The value is an integer.
</p>
</dd>
<dt><a id="index-PARAM_005fZUINTEGER-1"></a><span><code class="code">PARAM_ZUINTEGER</code><a class="copiable-link" href="#index-PARAM_005fZUINTEGER-1"> &para;</a></span></dt>
<dd><p>The value is an unsigned integer.
</p>
</dd>
<dt><a id="index-PARAM_005fZUINTEGER_005fUNLIMITED-1"></a><span><code class="code">PARAM_ZUINTEGER_UNLIMITED</code><a class="copiable-link" href="#index-PARAM_005fZUINTEGER_005fUNLIMITED-1"> &para;</a></span></dt>
<dd><p>The value is an integer in the range &lsquo;<samp class="samp">[0, INT_MAX]</samp>&rsquo;.  The value
of <code class="code">#:unlimited</code> means &ldquo;unlimited&rdquo;, the value of &lsquo;<samp class="samp">-1</samp>&rsquo; is
reserved and should not be used, and other negative numbers are not
allowed.
</p>
</dd>
<dt><a id="index-PARAM_005fSTRING-1"></a><span><code class="code">PARAM_STRING</code><a class="copiable-link" href="#index-PARAM_005fSTRING-1"> &para;</a></span></dt>
<dd><p>The value is a string.  When the user modifies the string, any escape
sequences, such as &lsquo;<samp class="samp">\t</samp>&rsquo;, &lsquo;<samp class="samp">\f</samp>&rsquo;, and octal escapes, are
translated into corresponding characters and encoded into the current
host charset.
</p>
</dd>
<dt><a id="index-PARAM_005fSTRING_005fNOESCAPE-1"></a><span><code class="code">PARAM_STRING_NOESCAPE</code><a class="copiable-link" href="#index-PARAM_005fSTRING_005fNOESCAPE-1"> &para;</a></span></dt>
<dd><p>The value is a string.  When the user modifies the string, escapes are
passed through untranslated.
</p>
</dd>
<dt><a id="index-PARAM_005fOPTIONAL_005fFILENAME-1"></a><span><code class="code">PARAM_OPTIONAL_FILENAME</code><a class="copiable-link" href="#index-PARAM_005fOPTIONAL_005fFILENAME-1"> &para;</a></span></dt>
<dd><p>The value is a either a filename (a string), or <code class="code">#f</code>.
</p>
</dd>
<dt><a id="index-PARAM_005fFILENAME-1"></a><span><code class="code">PARAM_FILENAME</code><a class="copiable-link" href="#index-PARAM_005fFILENAME-1"> &para;</a></span></dt>
<dd><p>The value is a filename.  This is just like
<code class="code">PARAM_STRING_NOESCAPE</code>, but uses file names for completion.
</p>
</dd>
<dt><a id="index-PARAM_005fENUM-1"></a><span><code class="code">PARAM_ENUM</code><a class="copiable-link" href="#index-PARAM_005fENUM-1"> &para;</a></span></dt>
<dd><p>The value is a string, which must be one of a collection of string
constants provided when the parameter is created.
</p></dd>
</dl>

</div>
<div class="footnotes-segment">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5 class="footnote-body-heading"><a id="FOOT19" href="#DOCF19">(19)</a></h5>
<p>Note that <small class="sc">GDB</small> parameters must not be confused with
Guile’s parameter objects (see <a data-manual="guile" href="https://www.gnu.org/software/guile/manual/html_node/Parameters.html#Parameters">Parameters</a> in <cite class="cite">GNU Guile
Reference Manual</cite>).</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Progspaces-In-Guile.html">Program Spaces In Guile</a>, Previous: <a href="Commands-In-Guile.html">Commands In Guile</a>, Up: <a href="Guile-API.html">Guile API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

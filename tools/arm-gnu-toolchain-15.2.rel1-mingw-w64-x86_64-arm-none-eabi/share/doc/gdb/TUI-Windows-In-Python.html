<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>TUI Windows In Python (Debugging with GDB)</title>

<meta name="description" content="TUI Windows In Python (Debugging with GDB)">
<meta name="keywords" content="TUI Windows In Python (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Python-API.html" rel="up" title="Python API">
<link href="Disassembly-In-Python.html" rel="next" title="Disassembly In Python">
<link href="Connections-In-Python.html" rel="prev" title="Connections In Python">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="subsubsection-level-extent" id="TUI-Windows-In-Python">
<div class="nav-panel">
<p>
Next: <a href="Disassembly-In-Python.html" accesskey="n" rel="next">Instruction Disassembly In Python</a>, Previous: <a href="Connections-In-Python.html" accesskey="p" rel="prev">Connections In Python</a>, Up: <a href="Python-API.html" accesskey="u" rel="up">Python API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="Implementing-new-TUI-windows"><span>23.3.2.39 Implementing new TUI windows<a class="copiable-link" href="#Implementing-new-TUI-windows"> &para;</a></span></h4>
<a class="index-entry-id" id="index-Python-TUI-Windows"></a>

<p>New TUI (see <a class="pxref" href="TUI.html"><small class="sc">GDB</small> Text User Interface</a>) windows can be implemented in Python.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eregister_005fwindow_005ftype"><span class="category-def">Function: </span><span><strong class="def-name">gdb.register_window_type</strong> <var class="def-var-arguments">(name, factory)</var><a class="copiable-link" href="#index-gdb_002eregister_005fwindow_005ftype"> &para;</a></span></dt>
<dd><p>Because TUI windows are created and destroyed depending on the layout
the user chooses, new window types are implemented by registering a
factory function with <small class="sc">GDB</small>.
</p>
<p><var class="var">name</var> is the name of the new window.  It&rsquo;s an error to try to
replace one of the built-in windows, but other window types can be
replaced.  The <var class="var">name</var> should match the regular expression
<code class="code">[a-zA-Z][-_.a-zA-Z0-9]*</code>, it is an error to try and create a
window with an invalid name.
</p>
<p><var class="var">function</var> is a factory function that is called to create the TUI
window.  This is called with a single argument of type
<code class="code">gdb.TuiWindow</code>, described below.  It should return an object
that implements the TUI window protocol, also described below.
</p></dd></dl>

<p>As mentioned above, when a factory function is called, it is passed
an object of type <code class="code">gdb.TuiWindow</code>.  This object has these
methods and attributes:
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-TuiWindow_002eis_005fvalid"><span class="category-def">Function: </span><span><strong class="def-name">TuiWindow.is_valid</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-TuiWindow_002eis_005fvalid"> &para;</a></span></dt>
<dd><p>This method returns <code class="code">True</code> when this window is valid.  When the
user changes the TUI layout, windows no longer visible in the new
layout will be destroyed.  At this point, the <code class="code">gdb.TuiWindow</code>
will no longer be valid, and methods (and attributes) other than
<code class="code">is_valid</code> will throw an exception.
</p>
<p>When the TUI is disabled using <code class="code">tui disable</code> (see <a class="pxref" href="TUI-Commands.html">tui disable</a>) the window is hidden rather than destroyed,
but <code class="code">is_valid</code> will still return <code class="code">False</code> and other methods
(and attributes) will still throw an exception.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-TuiWindow_002ewidth"><span class="category-def">Variable: </span><span><strong class="def-name">TuiWindow.width</strong><a class="copiable-link" href="#index-TuiWindow_002ewidth"> &para;</a></span></dt>
<dd><p>This attribute holds the width of the window.  It is not writable.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-TuiWindow_002eheight"><span class="category-def">Variable: </span><span><strong class="def-name">TuiWindow.height</strong><a class="copiable-link" href="#index-TuiWindow_002eheight"> &para;</a></span></dt>
<dd><p>This attribute holds the height of the window.  It is not writable.
</p></dd></dl>

<dl class="first-defvr first-defvar-alias-first-defvr">
<dt class="defvr defvar-alias-defvr" id="index-TuiWindow_002etitle"><span class="category-def">Variable: </span><span><strong class="def-name">TuiWindow.title</strong><a class="copiable-link" href="#index-TuiWindow_002etitle"> &para;</a></span></dt>
<dd><p>This attribute holds the window&rsquo;s title, a string.  This is normally
displayed above the window.  This attribute can be modified.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-TuiWindow_002eerase"><span class="category-def">Function: </span><span><strong class="def-name">TuiWindow.erase</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-TuiWindow_002eerase"> &para;</a></span></dt>
<dd><p>Remove all the contents of the window.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-TuiWindow_002ewrite"><span class="category-def">Function: </span><span><strong class="def-name">TuiWindow.write</strong> <var class="def-var-arguments">(string <span class="r">[</span>, full_window<span class="r">]</span>)</var><a class="copiable-link" href="#index-TuiWindow_002ewrite"> &para;</a></span></dt>
<dd><p>Write <var class="var">string</var> to the window.  <var class="var">string</var> can contain ANSI
terminal escape styling sequences; <small class="sc">GDB</small> will translate these
as appropriate for the terminal.
</p>
<p>If the <var class="var">full_window</var> parameter is <code class="code">True</code>, then <var class="var">string</var>
contains the full contents of the window.  This is similar to calling
<code class="code">erase</code> before <code class="code">write</code>, but avoids the flickering.
</p></dd></dl>

<p>The factory function that you supply should return an object
conforming to the TUI window protocol.  These are the methods that can
be called on this object, which is referred to below as the &ldquo;window
object&rdquo;.  The methods documented below are optional; if the object
does not implement one of these methods, <small class="sc">GDB</small> will not attempt
to call it.  Additional new methods may be added to the window
protocol in the future.  <small class="sc">GDB</small> guarantees that they will begin
with a lower-case letter, so you can start implementation methods with
upper-case letters or underscore to avoid any future conflicts.
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Window_002eclose"><span class="category-def">Function: </span><span><strong class="def-name">Window.close</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Window_002eclose"> &para;</a></span></dt>
<dd><p>When the TUI window is closed, the <code class="code">gdb.TuiWindow</code> object will be
put into an invalid state.  At this time, <small class="sc">GDB</small> will call
<code class="code">close</code> method on the window object.
</p>
<p>After this method is called, <small class="sc">GDB</small> will discard any references
it holds on this window object, and will no longer call methods on
this object.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Window_002erender"><span class="category-def">Function: </span><span><strong class="def-name">Window.render</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Window_002erender"> &para;</a></span></dt>
<dd><p>In some situations, a TUI window can change size.  For example, this
can happen if the user resizes the terminal, or changes the layout.
When this happens, <small class="sc">GDB</small> will call the <code class="code">render</code> method on
the window object.
</p>
<p>If your window is intended to update in response to changes in the
inferior, you will probably also want to register event listeners and
send output to the <code class="code">gdb.TuiWindow</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Window_002ehscroll"><span class="category-def">Function: </span><span><strong class="def-name">Window.hscroll</strong> <var class="def-var-arguments">(num)</var><a class="copiable-link" href="#index-Window_002ehscroll"> &para;</a></span></dt>
<dd><p>This is a request to scroll the window horizontally.  <var class="var">num</var> is the
amount by which to scroll, with negative numbers meaning to scroll
right.  In the TUI model, it is the viewport that moves, not the
contents.  A positive argument should cause the viewport to move
right, and so the content should appear to move to the left.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Window_002evscroll"><span class="category-def">Function: </span><span><strong class="def-name">Window.vscroll</strong> <var class="def-var-arguments">(num)</var><a class="copiable-link" href="#index-Window_002evscroll"> &para;</a></span></dt>
<dd><p>This is a request to scroll the window vertically.  <var class="var">num</var> is the
amount by which to scroll, with negative numbers meaning to scroll
backward.  In the TUI model, it is the viewport that moves, not the
contents.  A positive argument should cause the viewport to move down,
and so the content should appear to move up.
</p></dd></dl>

<a class="anchor" id="python_002dwindow_002dclick"></a><dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Window_002eclick"><span class="category-def">Function: </span><span><strong class="def-name">Window.click</strong> <var class="def-var-arguments">(x, y, button)</var><a class="copiable-link" href="#index-Window_002eclick"> &para;</a></span></dt>
<dd><p>This is called on a mouse click in this window.  <var class="var">x</var> and <var class="var">y</var> are
the mouse coordinates inside the window (0-based, from the top left
corner), and <var class="var">button</var> specifies which mouse button was used, whose
values can be 1 (left), 2 (middle), or 3 (right).
</p>
<p>When TUI mouse events are disabled by turning off the <code class="code">tui mouse-events</code>
setting (see <a class="pxref" href="TUI-Configuration.html#tui_002dmouse_002devents">set tui mouse-events</a>), then <code class="code">click</code> will
not be called.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Disassembly-In-Python.html">Instruction Disassembly In Python</a>, Previous: <a href="Connections-In-Python.html">Connections In Python</a>, Up: <a href="Python-API.html">Python API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>Non-Stop Mode (Debugging with GDB)</title>

<meta name="description" content="Non-Stop Mode (Debugging with GDB)">
<meta name="keywords" content="Non-Stop Mode (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Thread-Stops.html" rel="up" title="Thread Stops">
<link href="Background-Execution.html" rel="next" title="Background Execution">
<link href="All_002dStop-Mode.html" rel="prev" title="All-Stop Mode">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="subsection-level-extent" id="Non_002dStop-Mode">
<div class="nav-panel">
<p>
Next: <a href="Background-Execution.html" accesskey="n" rel="next">Background Execution</a>, Previous: <a href="All_002dStop-Mode.html" accesskey="p" rel="prev">All-Stop Mode</a>, Up: <a href="Thread-Stops.html" accesskey="u" rel="up">Stopping and Starting Multi-thread Programs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Non_002dStop-Mode-1"><span>5.5.2 Non-Stop Mode<a class="copiable-link" href="#Non_002dStop-Mode-1"> &para;</a></span></h4>

<a class="index-entry-id" id="index-non_002dstop-mode"></a>


<p>For some multi-threaded targets, <small class="sc">GDB</small> supports an optional
mode of operation in which you can examine stopped program threads in
the debugger while other threads continue to execute freely.  This
minimizes intrusion when debugging live systems, such as programs
where some threads have real-time constraints or must continue to
respond to external events.  This is referred to as <em class="dfn">non-stop</em> mode.
</p>
<p>In non-stop mode, when a thread stops to report a debugging event,
<em class="emph">only</em> that thread is stopped; <small class="sc">GDB</small> does not stop other
threads as well, in contrast to the all-stop mode behavior.  Additionally,
execution commands such as <code class="code">continue</code> and <code class="code">step</code> apply by default
only to the current thread in non-stop mode, rather than all threads as
in all-stop mode.  This allows you to control threads explicitly in
ways that are not possible in all-stop mode &mdash; for example, stepping
one thread while allowing others to run freely, stepping
one thread while holding all others stopped, or stepping several threads
independently and simultaneously.
</p>
<p>To enter non-stop mode, use this sequence of commands before you run
or attach to your program:
</p>
<div class="example smallexample">
<pre class="example-preformatted"># If using the CLI, pagination breaks non-stop.
set pagination off

# Finally, turn it on!
set non-stop on
</pre></div>

<p>You can use these commands to manipulate the non-stop mode setting:
</p>
<dl class="table">
<dt><a id="index-set-non_002dstop"></a><span><code class="code">set non-stop on</code><a class="copiable-link" href="#index-set-non_002dstop"> &para;</a></span></dt>
<dd><p>Enable selection of non-stop mode.
</p></dd>
<dt><code class="code">set non-stop off</code></dt>
<dd><p>Disable selection of non-stop mode.
<a class="index-entry-id" id="index-show-non_002dstop"></a>
</p></dd>
<dt><code class="code">show non-stop</code></dt>
<dd><p>Show the current non-stop enablement setting.
</p></dd>
</dl>

<p>Note these commands only reflect whether non-stop mode is enabled,
not whether the currently-executing program is being run in non-stop mode.
In particular, the <code class="code">set non-stop</code> preference is only consulted when
<small class="sc">GDB</small> starts or connects to the target program, and it is generally
not possible to switch modes once debugging has started.  Furthermore,
since not all targets support non-stop mode, even when you have enabled
non-stop mode, <small class="sc">GDB</small> may still fall back to all-stop operation by
default.
</p>
<p>In non-stop mode, all execution commands apply only to the current thread
by default.  That is, <code class="code">continue</code> only continues one thread.
To continue all threads, issue <code class="code">continue -a</code> or <code class="code">c -a</code>.
</p>
<p>You can use <small class="sc">GDB</small>&rsquo;s background execution commands
(see <a class="pxref" href="Background-Execution.html">Background Execution</a>) to run some threads in the background
while you continue to examine or step others from <small class="sc">GDB</small>.
The MI execution commands (see <a class="pxref" href="GDB_002fMI-Program-Execution.html"><small class="sc">GDB/MI</small> Program Execution</a>) are
always executed asynchronously in non-stop mode.
</p>
<p>Suspending execution is done with the <code class="code">interrupt</code> command when
running in the background, or <kbd class="kbd">Ctrl-c</kbd> during foreground execution.
In all-stop mode, this stops the whole process;
but in non-stop mode the interrupt applies only to the current thread.
To stop the whole program, use <code class="code">interrupt -a</code>.
</p>
<p>Other execution commands do not currently support the <code class="code">-a</code> option.
</p>
<p>In non-stop mode, when a thread stops, <small class="sc">GDB</small> doesn&rsquo;t automatically make
that thread current, as it does in all-stop mode.  This is because the
thread stop notifications are asynchronous with respect to <small class="sc">GDB</small>&rsquo;s
command interpreter, and it would be confusing if <small class="sc">GDB</small> unexpectedly
changed to a different thread just as you entered a command to operate on the
previously current thread.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Background-Execution.html">Background Execution</a>, Previous: <a href="All_002dStop-Mode.html">All-Stop Mode</a>, Up: <a href="Thread-Stops.html">Stopping and Starting Multi-thread Programs</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>Threads (Debugging with GDB)</title>

<meta name="description" content="Threads (Debugging with GDB)">
<meta name="keywords" content="Threads (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Running.html" rel="up" title="Running">
<link href="Forks.html" rel="next" title="Forks">
<link href="Inferiors-Connections-and-Programs.html" rel="prev" title="Inferiors Connections and Programs">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Threads">
<div class="nav-panel">
<p>
Next: <a href="Forks.html" accesskey="n" rel="next">Debugging Forks</a>, Previous: <a href="Inferiors-Connections-and-Programs.html" accesskey="p" rel="prev">Debugging Multiple Inferiors Connections and Programs</a>, Up: <a href="Running.html" accesskey="u" rel="up">Running Programs Under <small class="sc">GDB</small></a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Debugging-Programs-with-Multiple-Threads"><span>4.10 Debugging Programs with Multiple Threads<a class="copiable-link" href="#Debugging-Programs-with-Multiple-Threads"> &para;</a></span></h3>

<a class="index-entry-id" id="index-threads-of-execution"></a>
<a class="index-entry-id" id="index-multiple-threads"></a>
<a class="index-entry-id" id="index-switching-threads"></a>
<p>In some operating systems, such as GNU/Linux and Solaris, a single program
may have more than one <em class="dfn">thread</em> of execution.  The precise semantics
of threads differ from one operating system to another, but in general
the threads of a single program are akin to multiple processes&mdash;except
that they share one address space (that is, they can all examine and
modify the same variables).  On the other hand, each thread has its own
registers and execution stack, and perhaps private memory.
</p>
<p><small class="sc">GDB</small> provides these facilities for debugging multi-thread
programs:
</p>
<ul class="itemize mark-bullet">
<li>automatic notification of new threads
</li><li>&lsquo;<samp class="samp">thread <var class="var">thread-id</var></samp>&rsquo;, a command to switch among threads
</li><li>&lsquo;<samp class="samp">info threads</samp>&rsquo;, a command to inquire about existing threads
</li><li>&lsquo;<samp class="samp">thread apply [<var class="var">thread-id-list</var> | all] <var class="var">args</var></samp>&rsquo;,
a command to apply a command to a list of threads
</li><li>thread-specific breakpoints
</li><li>&lsquo;<samp class="samp">set print thread-events</samp>&rsquo;, which controls printing of 
messages on thread start and exit.
</li><li>&lsquo;<samp class="samp">set libthread-db-search-path <var class="var">path</var></samp>&rsquo;, which lets
the user specify which <code class="code">libthread_db</code> to use if the default choice
isn&rsquo;t compatible with the program.
</li></ul>

<a class="index-entry-id" id="index-focus-of-debugging"></a>
<a class="index-entry-id" id="index-current-thread"></a>
<p>The <small class="sc">GDB</small> thread debugging facility allows you to observe all
threads while your program runs&mdash;but whenever <small class="sc">GDB</small> takes
control, one thread in particular is always the focus of debugging.
This thread is called the <em class="dfn">current thread</em>.  Debugging commands show
program information from the perspective of the current thread.
</p>
<a class="index-entry-id" id="index-New-systag-message"></a>
<a class="index-entry-id" id="index-thread-identifier-_0028system_0029"></a>
<p>Whenever <small class="sc">GDB</small> detects a new thread in your program, it displays
the target system&rsquo;s identification for the thread with a message in the
form &lsquo;<samp class="samp">[New <var class="var">systag</var>]</samp>&rsquo;, where <var class="var">systag</var> is a thread identifier
whose form varies depending on the particular system.  For example, on
<small class="sc">GNU</small>/Linux, you might see
</p>
<div class="example smallexample">
<pre class="example-preformatted">[New Thread 0x41e02940 (LWP 25582)]
</pre></div>

<p>when <small class="sc">GDB</small> notices a new thread.  In contrast, on other systems,
the <var class="var">systag</var> is simply something like &lsquo;<samp class="samp">process 368</samp>&rsquo;, with no
further qualifier.
</p>

<a class="anchor" id="thread-numbers"></a><a class="index-entry-id" id="index-thread-number_002c-per-inferior"></a>
<a class="index-entry-id" id="index-thread-identifier-_0028GDB_0029"></a>
<p>For debugging purposes, <small class="sc">GDB</small> associates its own thread number
&mdash;always a single integer&mdash;with each thread of an inferior.  This
number is unique between all threads of an inferior, but not unique
between threads of different inferiors.
</p>
<a class="index-entry-id" id="index-qualified-thread-ID"></a>
<p>You can refer to a given thread in an inferior using the qualified
<var class="var">inferior-num</var>.<var class="var">thread-num</var> syntax, also known as
<em class="dfn">qualified thread ID</em>, with <var class="var">inferior-num</var> being the inferior
number and <var class="var">thread-num</var> being the thread number of the given
inferior.  For example, thread <code class="code">2.3</code> refers to thread number 3 of
inferior 2.  If you omit <var class="var">inferior-num</var> (e.g., <code class="code">thread 3</code>),
then <small class="sc">GDB</small> infers you&rsquo;re referring to a thread of the current
inferior.
</p>
<p>Until you create a second inferior, <small class="sc">GDB</small> does not show the
<var class="var">inferior-num</var> part of thread IDs, even though you can always use
the full <var class="var">inferior-num</var>.<var class="var">thread-num</var> form to refer to threads
of inferior 1, the initial inferior.
</p>
<a class="anchor" id="thread-ID-lists"></a><a class="index-entry-id" id="index-thread-ID-lists"></a>
<p>Some commands accept a space-separated <em class="dfn">thread ID list</em> as
argument.  A list element can be:
</p>
<ol class="enumerate">
<li> A thread ID as shown in the first field of the &lsquo;<samp class="samp">info threads</samp>&rsquo;
display, with or without an inferior qualifier.  E.g., &lsquo;<samp class="samp">2.1</samp>&rsquo; or
&lsquo;<samp class="samp">1</samp>&rsquo;.

</li><li> A range of thread numbers, again with or without an inferior
qualifier, as in <var class="var">inf</var>.<var class="var">thr1</var>-<var class="var">thr2</var> or
<var class="var">thr1</var>-<var class="var">thr2</var>.  E.g., &lsquo;<samp class="samp">1.2-4</samp>&rsquo; or &lsquo;<samp class="samp">2-4</samp>&rsquo;.

</li><li> All threads of an inferior, specified with a star wildcard, with or
without an inferior qualifier, as in <var class="var">inf</var>.<code class="code">*</code> (e.g.,
&lsquo;<samp class="samp">1.*</samp>&rsquo;) or <code class="code">*</code>.  The former refers to all threads of the
given inferior, and the latter form without an inferior qualifier
refers to all threads of the current inferior.

</li></ol>

<p>For example, if the current inferior is 1, and inferior 7 has one
thread with ID 7.1, the thread list &lsquo;<samp class="samp">1 2-3 4.5 6.7-9 7.*</samp>&rsquo;
includes threads 1 to 3 of inferior 1, thread 5 of inferior 4, threads
7 to 9 of inferior 6 and all threads of inferior 7.  That is, in
expanded qualified form, the same as &lsquo;<samp class="samp">1.1 1.2 1.3 4.5 6.7 6.8 6.9
7.1</samp>&rsquo;.
</p>

<a class="anchor" id="global-thread-numbers"></a><a class="index-entry-id" id="index-global-thread-number"></a>
<a class="index-entry-id" id="index-global-thread-identifier-_0028GDB_0029"></a>
<p>In addition to a <em class="emph">per-inferior</em> number, each thread is also
assigned a unique <em class="emph">global</em> number, also known as <em class="dfn">global
thread ID</em>, a single integer.  Unlike the thread number component of
the thread ID, no two threads have the same global ID, even when
you&rsquo;re debugging multiple inferiors.
</p>
<p>From <small class="sc">GDB</small>&rsquo;s perspective, a process always has at least one
thread.  In other words, <small class="sc">GDB</small> assigns a thread number to the
program&rsquo;s &ldquo;main thread&rdquo; even if the program is not multi-threaded.
</p>
<a class="index-entry-id" id="index-_0024_005fthread_002c-convenience-variable"></a>
<a class="index-entry-id" id="index-_0024_005fgthread_002c-convenience-variable"></a>
<a class="index-entry-id" id="index-_0024_005finferior_005fthread_005fcount_002c-convenience-variable"></a>
<p>The debugger convenience variables &lsquo;<samp class="samp">$_thread</samp>&rsquo; and
&lsquo;<samp class="samp">$_gthread</samp>&rsquo; contain, respectively, the per-inferior thread number
and the global thread number of the current thread.  You may find this
useful in writing breakpoint conditional expressions, command scripts,
and so forth.  The convenience variable &lsquo;<samp class="samp">$_inferior_thread_count</samp>&rsquo;
contains the number of live threads in the current inferior.
See <a class="xref" href="Convenience-Vars.html">Convenience Variables</a>, for general
information on convenience variables.
</p>
<p>When running in non-stop mode (see <a class="pxref" href="Non_002dStop-Mode.html">Non-Stop Mode</a>), where new
threads can be created, and existing threads exit, at any time,
&lsquo;<samp class="samp">$_inferior_thread_count</samp>&rsquo; could return a different value each
time it is evaluated.
</p>
<p>If <small class="sc">GDB</small> detects the program is multi-threaded, it augments the
usual message about stopping at a breakpoint with the ID and name of
the thread that hit the breakpoint.
</p>
<div class="example smallexample">
<pre class="example-preformatted">Thread 2 &quot;client&quot; hit Breakpoint 1, send_message () at client.c:68
</pre></div>

<p>Likewise when the program receives a signal:
</p>
<div class="example smallexample">
<pre class="example-preformatted">Thread 1 &quot;main&quot; received signal SIGINT, Interrupt.
</pre></div>

<dl class="table">
<dd><a class="anchor" id="info_005fthreads"></a></dd>
<dt><a id="index-info-threads"></a><span><code class="code">info threads <span class="r">[</span>-gid<span class="r">]</span> <span class="r">[</span><var class="var">thread-id-list</var><span class="r">]</span></code><a class="copiable-link" href="#index-info-threads"> &para;</a></span></dt>
<dd>
<p>Display information about one or more threads.  With no arguments
displays information about all threads.  You can specify the list of
threads that you want to display using the thread ID list syntax
(see <a class="pxref" href="#thread-ID-lists">thread ID lists</a>).
</p>
<p><small class="sc">GDB</small> displays for each thread (in this order):
</p>
<ol class="enumerate">
<li> the per-inferior thread number assigned by <small class="sc">GDB</small>

</li><li> the global thread number assigned by <small class="sc">GDB</small>, if the &lsquo;<samp class="samp">-gid</samp>&rsquo;
option was specified

</li><li> the target system&rsquo;s thread identifier (<var class="var">systag</var>)

</li><li> the thread&rsquo;s name, if one is known.  A thread can either be named by
the user (see <code class="code">thread name</code>, below), or, in some cases, by the
program itself.

</li><li> the current stack frame summary for that thread
</li></ol>

<p>An asterisk &lsquo;<samp class="samp">*</samp>&rsquo; to the left of the <small class="sc">GDB</small> thread number
indicates the current thread.
</p>
<p>For example,
</p></dd>
</dl>

<div class="example smallexample">
<pre class="example-preformatted">(gdb) info threads
  Id   Target Id             Frame
* 1    process 35 thread 13  main (argc=1, argv=0x7ffffff8)
  2    process 35 thread 23  0x34e5 in sigpause ()
  3    process 35 thread 27  0x34e5 in sigpause ()
    at threadtest.c:68
</pre></div>

<p>If you&rsquo;re debugging multiple inferiors, <small class="sc">GDB</small> displays thread
IDs using the qualified <var class="var">inferior-num</var>.<var class="var">thread-num</var> format.
Otherwise, only <var class="var">thread-num</var> is shown.
</p>
<p>If you specify the &lsquo;<samp class="samp">-gid</samp>&rsquo; option, <small class="sc">GDB</small> displays a column
indicating each thread&rsquo;s global thread ID:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(gdb) info threads
  Id   GId  Target Id             Frame
  1.1  1    process 35 thread 13  main (argc=1, argv=0x7ffffff8)
  1.2  3    process 35 thread 23  0x34e5 in sigpause ()
  1.3  4    process 35 thread 27  0x34e5 in sigpause ()
* 2.1  2    process 65 thread 1   main (argc=1, argv=0x7ffffff8)
</pre></div>

<p>On Solaris, you can display more information about user threads with a
Solaris-specific command:
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-thread-info-_0028Solaris_0029"></a>
<a id="index-maint-info-sol_002dthreads"></a><span><code class="code">maint info sol-threads</code><a class="copiable-link" href="#index-maint-info-sol_002dthreads"> &para;</a></span></dt>
<dd><p>Display info on Solaris user threads.
</p></dd>
</dl>

<dl class="table">
<dt><a id="index-thread-thread_002did"></a><span><code class="code">thread <var class="var">thread-id</var></code><a class="copiable-link" href="#index-thread-thread_002did"> &para;</a></span></dt>
<dd><p>Make thread ID <var class="var">thread-id</var> the current thread.  The command
argument <var class="var">thread-id</var> is the <small class="sc">GDB</small> thread ID, as shown in
the first field of the &lsquo;<samp class="samp">info threads</samp>&rsquo; display, with or without an
inferior qualifier (e.g., &lsquo;<samp class="samp">2.1</samp>&rsquo; or &lsquo;<samp class="samp">1</samp>&rsquo;).
</p>
<p><small class="sc">GDB</small> responds by displaying the system identifier of the
thread you selected, and its current stack frame summary:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(gdb) thread 2
[Switching to thread 2 (Thread 0xb7fdab70 (LWP 12747))]
#0  some_function (ignore=0x0) at example.c:8
8	    printf (&quot;hello\n&quot;);
</pre></div>

<p>As with the &lsquo;<samp class="samp">[New &hellip;]</samp>&rsquo; message, the form of the text after
&lsquo;<samp class="samp">Switching to</samp>&rsquo; depends on your system&rsquo;s conventions for identifying
threads.
</p>
<a class="anchor" id="thread-apply-all"></a></dd>
<dt><a class="index-entry-id" id="index-apply-command-to-several-threads"></a>
<a id="index-thread-apply"></a><span><code class="code">thread apply [<var class="var">thread-id-list</var> | all [-ascending]] [<var class="var">flag</var>]&hellip; <var class="var">command</var></code><a class="copiable-link" href="#index-thread-apply"> &para;</a></span></dt>
<dd><p>The <code class="code">thread apply</code> command allows you to apply the named
<var class="var">command</var> to one or more threads.  Specify the threads that you
want affected using the thread ID list syntax (see <a class="pxref" href="#thread-ID-lists">thread ID lists</a>), or specify <code class="code">all</code> to apply to all threads.  To apply a
command to all threads in descending order, type <kbd class="kbd">thread apply all
<var class="var">command</var></kbd>.  To apply a command to all threads in ascending order,
type <kbd class="kbd">thread apply all -ascending <var class="var">command</var></kbd>.
</p>
<p>The <var class="var">flag</var> arguments control what output to produce and how to handle
errors raised when applying <var class="var">command</var> to a thread.  <var class="var">flag</var>
must start with a <code class="code">-</code> directly followed by one letter in
<code class="code">qcs</code>.  If several flags are provided, they must be given
individually, such as <code class="code">-c -q</code>.
</p>
<p>By default, <small class="sc">GDB</small> displays some thread information before the
output produced by <var class="var">command</var>, and an error raised during the
execution of a <var class="var">command</var> will abort <code class="code">thread apply</code>.  The
following flags can be used to fine-tune this behavior:
</p>
<dl class="table">
<dt><code class="code">-c</code></dt>
<dd><p>The flag <code class="code">-c</code>, which stands for &lsquo;<samp class="samp">continue</samp>&rsquo;, causes any
errors in <var class="var">command</var> to be displayed, and the execution of
<code class="code">thread apply</code> then continues.
</p></dd>
<dt><code class="code">-s</code></dt>
<dd><p>The flag <code class="code">-s</code>, which stands for &lsquo;<samp class="samp">silent</samp>&rsquo;, causes any errors
or empty output produced by a <var class="var">command</var> to be silently ignored.
That is, the execution continues, but the thread information and errors
are not printed.
</p></dd>
<dt><code class="code">-q</code></dt>
<dd><p>The flag <code class="code">-q</code> (&lsquo;<samp class="samp">quiet</samp>&rsquo;) disables printing the thread
information.
</p></dd>
</dl>

<p>Flags <code class="code">-c</code> and <code class="code">-s</code> cannot be used together.
</p>
</dd>
<dt><a class="index-entry-id" id="index-apply-command-to-all-threads-_0028ignoring-errors-and-empty-output_0029"></a>
<a id="index-taas"></a><span><code class="code">taas [<var class="var">option</var>]&hellip; <var class="var">command</var></code><a class="copiable-link" href="#index-taas"> &para;</a></span></dt>
<dd><p>Shortcut for <code class="code">thread apply all -s [<var class="var">option</var>]&hellip; <var class="var">command</var></code>.
Applies <var class="var">command</var> on all threads, ignoring errors and empty output.
</p>
<p>The <code class="code">taas</code> command accepts the same options as the <code class="code">thread
apply all</code> command.  See <a class="xref" href="#thread-apply-all">thread apply all</a>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-apply-a-command-to-all-frames-of-all-threads-_0028ignoring-errors-and-empty-output_0029"></a>
<a id="index-tfaas"></a><span><code class="code">tfaas [<var class="var">option</var>]&hellip; <var class="var">command</var></code><a class="copiable-link" href="#index-tfaas"> &para;</a></span></dt>
<dd><p>Shortcut for <code class="code">thread apply all -s -- frame apply all -s [<var class="var">option</var>]&hellip; <var class="var">command</var></code>.
Applies <var class="var">command</var> on all frames of all threads, ignoring errors
and empty output.  Note that the flag <code class="code">-s</code> is specified twice:
The first <code class="code">-s</code> ensures that <code class="code">thread apply</code> only shows the thread
information of the threads for which <code class="code">frame apply</code> produces
some output.  The second <code class="code">-s</code> is needed to ensure that <code class="code">frame
apply</code> shows the frame information of a frame only if the
<var class="var">command</var> successfully produced some output.
</p>
<p>It can for example be used to print a local variable or a function
argument without knowing the thread or frame where this variable or argument
is, using:
</p><div class="example smallexample">
<pre class="example-preformatted">(gdb) tfaas p some_local_var_i_do_not_remember_where_it_is
</pre></div>

<p>The <code class="code">tfaas</code> command accepts the same options as the <code class="code">frame
apply</code> command.  See <a class="xref" href="Frame-Apply.html">frame apply</a>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-name-a-thread"></a>
<a id="index-thread-name"></a><span><code class="code">thread name [<var class="var">name</var>]</code><a class="copiable-link" href="#index-thread-name"> &para;</a></span></dt>
<dd><p>This command assigns a name to the current thread.  If no argument is
given, any existing user-specified name is removed.  The thread name
appears in the &lsquo;<samp class="samp">info threads</samp>&rsquo; display.
</p>
<p>On some systems, such as <small class="sc">GNU</small>/Linux, <small class="sc">GDB</small> is able to
determine the name of the thread as given by the OS.  On these
systems, a name specified with &lsquo;<samp class="samp">thread name</samp>&rsquo; will override the
system-give name, and removing the user-specified name will cause
<small class="sc">GDB</small> to once again display the system-specified name.
</p>
</dd>
<dt><a class="index-entry-id" id="index-search-for-a-thread"></a>
<a id="index-thread-find"></a><span><code class="code">thread find [<var class="var">regexp</var>]</code><a class="copiable-link" href="#index-thread-find"> &para;</a></span></dt>
<dd><p>Search for and display thread ids whose name or <var class="var">systag</var>
matches the supplied regular expression.
</p>
<p>As well as being the complement to the &lsquo;<samp class="samp">thread name</samp>&rsquo; command, 
this command also allows you to identify a thread by its target 
<var class="var">systag</var>.  For instance, on <small class="sc">GNU</small>/Linux, the target <var class="var">systag</var>
is the LWP id.
</p>
<div class="example smallexample">
<pre class="example-preformatted">(gdb) thread find 26688
Thread 4 has target id 'Thread 0x41e02940 (LWP 26688)'
(gdb) info thread 4
  Id   Target Id         Frame 
  4    Thread 0x41e02940 (LWP 26688) 0x00000031ca6cd372 in select ()
</pre></div>

</dd>
<dt><a class="index-entry-id" id="index-print-messages-on-thread-start-and-exit"></a>
<a id="index-set-print-thread_002devents"></a><span><code class="code">set print thread-events</code><a class="copiable-link" href="#index-set-print-thread_002devents"> &para;</a></span></dt>
<dt><code class="code">set print thread-events on</code></dt>
<dt><code class="code">set print thread-events off</code></dt>
<dd><p>The <code class="code">set print thread-events</code> command allows you to enable or
disable printing of messages when <small class="sc">GDB</small> notices that new threads have
started or that threads have exited.  By default, these messages will
be printed if detection of these events is supported by the target.
Note that these messages cannot be disabled on all targets.
</p>
</dd>
<dt><a id="index-show-print-thread_002devents"></a><span><code class="code">show print thread-events</code><a class="copiable-link" href="#index-show-print-thread_002devents"> &para;</a></span></dt>
<dd><p>Show whether messages will be printed when <small class="sc">GDB</small> detects that threads
have started and exited.
</p></dd>
</dl>

<p>See <a class="xref" href="Thread-Stops.html">Stopping and Starting Multi-thread Programs</a>, for
more information about how <small class="sc">GDB</small> behaves when you stop and start
programs with multiple threads.
</p>
<p>See <a class="xref" href="Set-Watchpoints.html">Setting Watchpoints</a>, for information about
watchpoints in programs with multiple threads.
</p>
<a class="anchor" id="set-libthread_002ddb_002dsearch_002dpath"></a><dl class="table">
<dt><a class="index-entry-id" id="index-search-path-for-libthread_005fdb"></a>
<a id="index-set-libthread_002ddb_002dsearch_002dpath"></a><span><code class="code">set libthread-db-search-path <span class="r">[</span><var class="var">path</var><span class="r">]</span></code><a class="copiable-link" href="#index-set-libthread_002ddb_002dsearch_002dpath"> &para;</a></span></dt>
<dd><p>If this variable is set, <var class="var">path</var> is a colon-separated list of
directories <small class="sc">GDB</small> will use to search for <code class="code">libthread_db</code>.
If you omit <var class="var">path</var>, &lsquo;<samp class="samp">libthread-db-search-path</samp>&rsquo; will be reset to
its default value (<code class="code">$sdir:$pdir</code> on <small class="sc">GNU</small>/Linux and Solaris systems).
Internally, the default value comes from the <code class="code">LIBTHREAD_DB_SEARCH_PATH</code>
macro.
</p>
<p>On <small class="sc">GNU</small>/Linux and Solaris systems, <small class="sc">GDB</small> uses a &ldquo;helper&rdquo;
<code class="code">libthread_db</code> library to obtain information about threads in the
inferior process.  <small class="sc">GDB</small> will use &lsquo;<samp class="samp">libthread-db-search-path</samp>&rsquo;
to find <code class="code">libthread_db</code>.  <small class="sc">GDB</small> also consults first if inferior
specific thread debugging library loading is enabled
by &lsquo;<samp class="samp">set auto-load libthread-db</samp>&rsquo; (see <a class="pxref" href="libthread_005fdb_002eso_002e1-file.html">Automatically loading thread debugging library</a>).
</p>
<p>A special entry &lsquo;<samp class="samp">$sdir</samp>&rsquo; for &lsquo;<samp class="samp">libthread-db-search-path</samp>&rsquo;
refers to the default system directories that are
normally searched for loading shared libraries.  The &lsquo;<samp class="samp">$sdir</samp>&rsquo; entry
is the only kind not needing to be enabled by &lsquo;<samp class="samp">set auto-load libthread-db</samp>&rsquo;
(see <a class="pxref" href="libthread_005fdb_002eso_002e1-file.html">Automatically loading thread debugging library</a>).
</p>
<p>A special entry &lsquo;<samp class="samp">$pdir</samp>&rsquo; for &lsquo;<samp class="samp">libthread-db-search-path</samp>&rsquo;
refers to the directory from which <code class="code">libpthread</code>
was loaded in the inferior process.
</p>
<p>For any <code class="code">libthread_db</code> library <small class="sc">GDB</small> finds in above directories,
<small class="sc">GDB</small> attempts to initialize it with the current inferior process.
If this initialization fails (which could happen because of a version
mismatch between <code class="code">libthread_db</code> and <code class="code">libpthread</code>), <small class="sc">GDB</small>
will unload <code class="code">libthread_db</code>, and continue with the next directory.
If none of <code class="code">libthread_db</code> libraries initialize successfully,
<small class="sc">GDB</small> will issue a warning and thread debugging will be disabled.
</p>
<p>Setting <code class="code">libthread-db-search-path</code> is currently implemented
only on some platforms.
</p>
</dd>
<dt><a id="index-show-libthread_002ddb_002dsearch_002dpath"></a><span><code class="code">show libthread-db-search-path</code><a class="copiable-link" href="#index-show-libthread_002ddb_002dsearch_002dpath"> &para;</a></span></dt>
<dd><p>Display current libthread_db search path.
</p>
</dd>
<dt><a class="index-entry-id" id="index-show-debug-libthread_002ddb"></a>
<a class="index-entry-id" id="index-debugging-libthread_005fdb"></a>
<a id="index-set-debug-libthread_002ddb"></a><span><code class="code">set debug libthread-db</code><a class="copiable-link" href="#index-set-debug-libthread_002ddb"> &para;</a></span></dt>
<dt><code class="code">show debug libthread-db</code></dt>
<dd><p>Turns on or off display of <code class="code">libthread_db</code>-related events.
Use <code class="code">1</code> to enable, <code class="code">0</code> to disable.
</p>
</dd>
<dt><a class="index-entry-id" id="index-show-debug-threads"></a>
<a class="index-entry-id" id="index-debugging-threads"></a>
<a id="index-set-debug-threads"></a><span><code class="code">set debug threads <span class="r">[</span>on<span class="r">|</span>off<span class="r">]</span></code><a class="copiable-link" href="#index-set-debug-threads"> &para;</a></span></dt>
<dt><code class="code">show debug threads</code></dt>
<dd><p>When &lsquo;<samp class="samp">on</samp>&rsquo; <small class="sc">GDB</small> will print additional messages when
threads are created and deleted.
</p></dd>
</dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Forks.html">Debugging Forks</a>, Previous: <a href="Inferiors-Connections-and-Programs.html">Debugging Multiple Inferiors Connections and Programs</a>, Up: <a href="Running.html">Running Programs Under <small class="sc">GDB</small></a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

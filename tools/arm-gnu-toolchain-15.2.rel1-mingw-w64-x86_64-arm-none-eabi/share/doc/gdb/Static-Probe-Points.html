<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>Static Probe Points (Debugging with GDB)</title>

<meta name="description" content="Static Probe Points (Debugging with GDB)">
<meta name="keywords" content="Static Probe Points (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Breakpoints.html" rel="up" title="Breakpoints">
<link href="Error-in-Breakpoints.html" rel="next" title="Error in Breakpoints">
<link href="Save-Breakpoints.html" rel="prev" title="Save Breakpoints">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="en">
<div class="subsection-level-extent" id="Static-Probe-Points">
<div class="nav-panel">
<p>
Next: <a href="Error-in-Breakpoints.html" accesskey="n" rel="next">&ldquo;Cannot insert breakpoints&rdquo;</a>, Previous: <a href="Save-Breakpoints.html" accesskey="p" rel="prev">How to save breakpoints to a file</a>, Up: <a href="Breakpoints.html" accesskey="u" rel="up">Breakpoints, Watchpoints, and Catchpoints</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Static-Probe-Points-1"><span>5.1.10 Static Probe Points<a class="copiable-link" href="#Static-Probe-Points-1"> &para;</a></span></h4>

<a class="index-entry-id" id="index-static-probe-point_002c-SystemTap"></a>
<a class="index-entry-id" id="index-static-probe-point_002c-DTrace"></a>
<p><small class="sc">GDB</small> supports <em class="dfn">SDT</em> probes in the code.  <abbr class="acronym">SDT</abbr> stands
for Statically Defined Tracing, and the probes are designed to have a tiny
runtime code and data footprint, and no dynamic relocations.
</p>
<p>Currently, the following types of probes are supported on
ELF-compatible systems:
</p>
<ul class="itemize mark-bullet">
<li><code class="code">SystemTap</code> (<a class="uref" href="http://sourceware.org/systemtap/">http://sourceware.org/systemtap/</a>)
<abbr class="acronym">SDT</abbr> probes<a class="footnote" id="DOCF5" href="#FOOT5"><sup>5</sup></a>.  <code class="code">SystemTap</code> probes are usable
from assembly, C and C<code class="t">++</code> languages<a class="footnote" id="DOCF6" href="#FOOT6"><sup>6</sup></a>.  

</li><li><code class="code">DTrace</code> (<a class="uref" href="http://oss.oracle.com/projects/DTrace">http://oss.oracle.com/projects/DTrace</a>)
<abbr class="acronym">USDT</abbr> probes.  <code class="code">DTrace</code> probes are usable from C and
C<code class="t">++</code> languages.
</li></ul>

<a class="index-entry-id" id="index-semaphores-on-static-probe-points"></a>
<p>Some <code class="code">SystemTap</code> probes have an associated semaphore variable;
for instance, this happens automatically if you defined your probe
using a DTrace-style <samp class="file">.d</samp> file.  If your probe has a semaphore,
<small class="sc">GDB</small> will automatically enable it when you specify a
breakpoint using the &lsquo;<samp class="samp">-probe-stap</samp>&rsquo; notation.  But, if you put a
breakpoint at a probe&rsquo;s location by some other method (e.g.,
<code class="code">break file:line</code>), then <small class="sc">GDB</small> will not automatically set
the semaphore.  <code class="code">DTrace</code> probes do not support semaphores.
</p>
<p>You can examine the available static static probes using <code class="code">info
probes</code>, with optional arguments:
</p>
<dl class="table">
<dt><a id="index-info-probes"></a><span><code class="code">info probes <span class="r">[</span><var class="var">type</var><span class="r">]</span> <span class="r">[</span><var class="var">provider</var> <span class="r">[</span><var class="var">name</var> <span class="r">[</span><var class="var">objfile</var><span class="r">]</span><span class="r">]</span><span class="r">]</span></code><a class="copiable-link" href="#index-info-probes"> &para;</a></span></dt>
<dd><p>If given, <var class="var">type</var> is either <code class="code">stap</code> for listing
<code class="code">SystemTap</code> probes or <code class="code">dtrace</code> for listing <code class="code">DTrace</code>
probes.  If omitted all probes are listed regardless of their types.
</p>
<p>If given, <var class="var">provider</var> is a regular expression used to match against provider
names when selecting which probes to list.  If omitted, probes by all
probes from all providers are listed.
</p>
<p>If given, <var class="var">name</var> is a regular expression to match against probe names
when selecting which probes to list.  If omitted, probe names are not
considered when deciding whether to display them.
</p>
<p>If given, <var class="var">objfile</var> is a regular expression used to select which
object files (executable or shared libraries) to examine.  If not
given, all object files are considered.
</p>
</dd>
<dt><code class="code">info probes all</code></dt>
<dd><p>List the available static probes, from all types.
</p></dd>
</dl>

<a class="index-entry-id" id="index-enabling-and-disabling-probes"></a>
<p>Some probe points can be enabled and/or disabled.  The effect of
enabling or disabling a probe depends on the type of probe being
handled.  Some <code class="code">DTrace</code> probes can be enabled or
disabled, but <code class="code">SystemTap</code> probes cannot be disabled.
</p>
<p>You can enable (or disable) one or more probes using the following
commands, with optional arguments:
</p>
<a class="anchor" id="enable-probes"></a><dl class="table">
<dt><a id="index-enable-probes"></a><span><code class="code">enable probes <span class="r">[</span><var class="var">provider</var> <span class="r">[</span><var class="var">name</var> <span class="r">[</span><var class="var">objfile</var><span class="r">]</span><span class="r">]</span><span class="r">]</span></code><a class="copiable-link" href="#index-enable-probes"> &para;</a></span></dt>
<dd><p>If given, <var class="var">provider</var> is a regular expression used to match against
provider names when selecting which probes to enable.  If omitted,
all probes from all providers are enabled.
</p>
<p>If given, <var class="var">name</var> is a regular expression to match against probe
names when selecting which probes to enable.  If omitted, probe names
are not considered when deciding whether to enable them.
</p>
<p>If given, <var class="var">objfile</var> is a regular expression used to select which
object files (executable or shared libraries) to examine.  If not
given, all object files are considered.
</p>
</dd>
<dt><a id="index-disable-probes"></a><span><code class="code">disable probes <span class="r">[</span><var class="var">provider</var> <span class="r">[</span><var class="var">name</var> <span class="r">[</span><var class="var">objfile</var><span class="r">]</span><span class="r">]</span><span class="r">]</span></code><a class="copiable-link" href="#index-disable-probes"> &para;</a></span></dt>
<dd><p>See the <code class="code">enable probes</code> command above for a description of the
optional arguments accepted by this command.
</p></dd>
</dl>

<a class="index-entry-id" id="index-_0024_005fprobe_005farg_002c-convenience-variable"></a>
<p>A probe may specify up to twelve arguments.  These are available at the
point at which the probe is defined&mdash;that is, when the current PC is
at the probe&rsquo;s location.  The arguments are available using the
convenience variables (see <a class="pxref" href="Convenience-Vars.html">Convenience Variables</a>)
<code class="code">$_probe_arg0</code>&hellip;<code class="code">$_probe_arg11</code>.  In <code class="code">SystemTap</code>
probes each probe argument is an integer of the appropriate size;
types are not preserved.  In <code class="code">DTrace</code> probes types are preserved
provided that they are recognized as such by <small class="sc">GDB</small>; otherwise
the value of the probe argument will be a long integer.  The
convenience variable <code class="code">$_probe_argc</code> holds the number of arguments
at the current probe point.
</p>
<p>These variables are always available, but attempts to access them at
any location other than a probe point will cause <small class="sc">GDB</small> to give
an error message.
</p>

</div>
<div class="footnotes-segment">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5 class="footnote-body-heading"><a id="FOOT5" href="#DOCF5">(5)</a></h5>
<p>See
<a class="uref" href="http://sourceware.org/systemtap/wiki/AddingUserSpaceProbingToApps">http://sourceware.org/systemtap/wiki/AddingUserSpaceProbingToApps</a>
for more information on how to add <code class="code">SystemTap</code> <abbr class="acronym">SDT</abbr>
probes in your applications.</p>
<h5 class="footnote-body-heading"><a id="FOOT6" href="#DOCF6">(6)</a></h5>
<p>See
<a class="uref" href="http://sourceware.org/systemtap/wiki/UserSpaceProbeImplementation">http://sourceware.org/systemtap/wiki/UserSpaceProbeImplementation</a>
for a good reference on how the <abbr class="acronym">SDT</abbr> probes are implemented.</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Error-in-Breakpoints.html">&ldquo;Cannot insert breakpoints&rdquo;</a>, Previous: <a href="Save-Breakpoints.html">How to save breakpoints to a file</a>, Up: <a href="Breakpoints.html">Breakpoints, Watchpoints, and Catchpoints</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

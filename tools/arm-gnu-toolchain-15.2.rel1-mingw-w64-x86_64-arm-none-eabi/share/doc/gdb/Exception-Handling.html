<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>Exception Handling (Debugging with GDB)</title>

<meta name="description" content="Exception Handling (Debugging with GDB)">
<meta name="keywords" content="Exception Handling (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Python-API.html" rel="up" title="Python API">
<link href="Values-From-Inferior.html" rel="next" title="Values From Inferior">
<link href="Threading-in-GDB.html" rel="prev" title="Threading in GDB">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.kbd {font-style: oblique}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="subsubsection-level-extent" id="Exception-Handling">
<div class="nav-panel">
<p>
Next: <a href="Values-From-Inferior.html" accesskey="n" rel="next">Values From Inferior</a>, Previous: <a href="Threading-in-GDB.html" accesskey="p" rel="prev">Threading in GDB</a>, Up: <a href="Python-API.html" accesskey="u" rel="up">Python API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="Exception-Handling-1"><span>23.3.2.3 Exception Handling<a class="copiable-link" href="#Exception-Handling-1"> &para;</a></span></h4>
<a class="index-entry-id" id="index-python-exceptions"></a>
<a class="index-entry-id" id="index-exceptions_002c-python"></a>

<p>When executing the <code class="code">python</code> command, Python exceptions
uncaught within the Python code are translated to calls to
<small class="sc">GDB</small> error-reporting mechanism.  If the command that called
<code class="code">python</code> does not handle the error, <small class="sc">GDB</small> will
terminate it and print an error message.  Exactly what will be printed
depends on <code class="code">set python print-stack</code> (see <a class="pxref" href="Python-Commands.html">Python Commands</a>).
Example:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(gdb) python print foo
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt;
NameError: name 'foo' is not defined
</pre></div>

<p><small class="sc">GDB</small> errors that happen in <small class="sc">GDB</small> commands invoked by
Python code are converted to Python exceptions.  The type of the
Python exception depends on the error.
</p>
<dl class="ftable">
<dt><a id="index-gdb_002eerror"></a><span><code class="code">gdb.error</code><a class="copiable-link" href="#index-gdb_002eerror"> &para;</a></span></dt>
<dd><p>This is the base class for most exceptions generated by <small class="sc">GDB</small>.
It is derived from <code class="code">RuntimeError</code>, for compatibility with earlier
versions of <small class="sc">GDB</small>.
</p>
<p>If an error occurring in <small class="sc">GDB</small> does not fit into some more
specific category, then the generated exception will have this type.
</p>
</dd>
<dt><a id="index-gdb_002eMemoryError"></a><span><code class="code">gdb.MemoryError</code><a class="copiable-link" href="#index-gdb_002eMemoryError"> &para;</a></span></dt>
<dd><p>This is a subclass of <code class="code">gdb.error</code> which is thrown when an
operation tried to access invalid memory in the inferior.
</p>
</dd>
<dt><a id="index-KeyboardInterrupt"></a><span><code class="code">KeyboardInterrupt</code><a class="copiable-link" href="#index-KeyboardInterrupt"> &para;</a></span></dt>
<dd><p>User interrupt (via <kbd class="kbd">C-c</kbd> or by typing <kbd class="kbd">q</kbd> at a pagination
prompt) is translated to a Python <code class="code">KeyboardInterrupt</code> exception.
</p></dd>
</dl>

<p>In all cases, your exception handler will see the <small class="sc">GDB</small> error
message as its value and the Python call stack backtrace at the Python
statement closest to where the <small class="sc">GDB</small> error occurred as the
traceback.
</p>

<p>When implementing <small class="sc">GDB</small> commands in Python via
<code class="code">gdb.Command</code>, or functions via <code class="code">gdb.Function</code>, it is useful
to be able to throw an exception that doesn&rsquo;t cause a traceback to be
printed.  For example, the user may have invoked the command
incorrectly.  <small class="sc">GDB</small> provides a special exception class that can
be used for this purpose.
</p>
<dl class="ftable">
<dt><a id="index-gdb_002eGdbError"></a><span><code class="code">gdb.GdbError</code><a class="copiable-link" href="#index-gdb_002eGdbError"> &para;</a></span></dt>
<dd><p>When thrown from a command or function, this exception will cause the
command or function to fail, but the Python stack will not be
displayed.  <small class="sc">GDB</small> does not throw this exception itself, but
rather recognizes it when thrown from user Python code.  Example:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(gdb) python
&gt;class HelloWorld (gdb.Command):
&gt;  &quot;&quot;&quot;Greet the whole world.&quot;&quot;&quot;
&gt;  def __init__ (self):
&gt;    super (HelloWorld, self).__init__ (&quot;hello-world&quot;, gdb.COMMAND_USER)
&gt;  def invoke (self, args, from_tty):
&gt;    argv = gdb.string_to_argv (args)
&gt;    if len (argv) != 0:
&gt;      raise gdb.GdbError (&quot;hello-world takes no arguments&quot;)
&gt;    print (&quot;Hello, World!&quot;)
&gt;HelloWorld ()
&gt;end
(gdb) hello-world 42
hello-world takes no arguments
</pre></div>
</dd>
</dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Values-From-Inferior.html">Values From Inferior</a>, Previous: <a href="Threading-in-GDB.html">Threading in GDB</a>, Up: <a href="Python-API.html">Python API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2024 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Free Software" and "Free Software Needs
Free Documentation", with the Front-Cover Texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.

(a) The FSF's Back-Cover Text is: "You are free to copy and modify
this GNU Manual.  Buying copies from GNU Press supports the FSF in
developing GNU and promoting software freedom." -->
<title>Frames In Python (Debugging with GDB)</title>

<meta name="description" content="Frames In Python (Debugging with GDB)">
<meta name="keywords" content="Frames In Python (Debugging with GDB)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Concept-Index.html" rel="index" title="Concept Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Python-API.html" rel="up" title="Python API">
<link href="Blocks-In-Python.html" rel="next" title="Blocks In Python">
<link href="Objfiles-In-Python.html" rel="prev" title="Objfiles In Python">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span.r {font-family: initial; font-weight: normal; font-style: normal}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="subsubsection-level-extent" id="Frames-In-Python">
<div class="nav-panel">
<p>
Next: <a href="Blocks-In-Python.html" accesskey="n" rel="next">Accessing blocks from Python</a>, Previous: <a href="Objfiles-In-Python.html" accesskey="p" rel="prev">Objfiles In Python</a>, Up: <a href="Python-API.html" accesskey="u" rel="up">Python API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsubsection" id="Accessing-inferior-stack-frames-from-Python"><span>23.3.2.28 Accessing inferior stack frames from Python<a class="copiable-link" href="#Accessing-inferior-stack-frames-from-Python"> &para;</a></span></h4>

<a class="index-entry-id" id="index-frames-in-python"></a>
<p>When the debugged program stops, <small class="sc">GDB</small> is able to analyze its call
stack (see <a class="pxref" href="Frames.html">Stack frames</a>).  The <code class="code">gdb.Frame</code> class
represents a frame in the stack.  A <code class="code">gdb.Frame</code> object is only valid
while its corresponding frame exists in the inferior&rsquo;s stack.  If you try
to use an invalid frame object, <small class="sc">GDB</small> will throw a <code class="code">gdb.error</code>
exception (see <a class="pxref" href="Exception-Handling.html">Exception Handling</a>).
</p>
<p>Two <code class="code">gdb.Frame</code> objects can be compared for equality with the <code class="code">==</code>
operator, like:
</p>
<div class="example smallexample">
<pre class="example-preformatted">(gdb) python print gdb.newest_frame() == gdb.selected_frame ()
True
</pre></div>

<p>The following frame-related functions are available in the <code class="code">gdb</code> module:
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eselected_005fframe"><span class="category-def">Function: </span><span><strong class="def-name">gdb.selected_frame</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-gdb_002eselected_005fframe"> &para;</a></span></dt>
<dd><p>Return the selected frame object.  (see <a class="pxref" href="Selection.html">Selecting a Frame</a>).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002enewest_005fframe"><span class="category-def">Function: </span><span><strong class="def-name">gdb.newest_frame</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-gdb_002enewest_005fframe"> &para;</a></span></dt>
<dd><p>Return the newest frame object for the selected thread.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002eframe_005fstop_005freason_005fstring"><span class="category-def">Function: </span><span><strong class="def-name">gdb.frame_stop_reason_string</strong> <var class="def-var-arguments">(reason)</var><a class="copiable-link" href="#index-gdb_002eframe_005fstop_005freason_005fstring"> &para;</a></span></dt>
<dd><p>Return a string explaining the reason why <small class="sc">GDB</small> stopped unwinding
frames, as expressed by the given <var class="var">reason</var> code (an integer, see the
<code class="code">unwind_stop_reason</code> method further down in this section).
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-gdb_002einvalidate_005fcached_005fframes"><span class="category-def">Function: </span><span><strong class="def-name">gdb.invalidate_cached_frames</strong><a class="copiable-link" href="#index-gdb_002einvalidate_005fcached_005fframes"> &para;</a></span></dt>
<dd><p><small class="sc">GDB</small> internally keeps a cache of the frames that have been
unwound.  This function invalidates this cache.
</p>
<p>This function should not generally be called by ordinary Python code.
It is documented for the sake of completeness.
</p></dd></dl>

<p>A <code class="code">gdb.Frame</code> object has the following methods:
</p>
<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002eis_005fvalid"><span class="category-def">Function: </span><span><strong class="def-name">Frame.is_valid</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002eis_005fvalid"> &para;</a></span></dt>
<dd><p>Returns true if the <code class="code">gdb.Frame</code> object is valid, false if not.
A frame object can become invalid if the frame it refers to doesn&rsquo;t
exist anymore in the inferior.  All <code class="code">gdb.Frame</code> methods will throw
an exception if it is invalid at the time the method is called.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002ename"><span class="category-def">Function: </span><span><strong class="def-name">Frame.name</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002ename"> &para;</a></span></dt>
<dd><p>Returns the function name of the frame, or <code class="code">None</code> if it can&rsquo;t be
obtained.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002earchitecture"><span class="category-def">Function: </span><span><strong class="def-name">Frame.architecture</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002earchitecture"> &para;</a></span></dt>
<dd><p>Returns the <code class="code">gdb.Architecture</code> object corresponding to the frame&rsquo;s
architecture.  See <a class="xref" href="Architectures-In-Python.html">Python representation of architectures</a>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002etype"><span class="category-def">Function: </span><span><strong class="def-name">Frame.type</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002etype"> &para;</a></span></dt>
<dd><p>Returns the type of the frame.  The value can be one of:
</p><dl class="table">
<dt><code class="code">gdb.NORMAL_FRAME</code></dt>
<dd><p>An ordinary stack frame.
</p>
</dd>
<dt><code class="code">gdb.DUMMY_FRAME</code></dt>
<dd><p>A fake stack frame that was created by <small class="sc">GDB</small> when performing an
inferior function call.
</p>
</dd>
<dt><code class="code">gdb.INLINE_FRAME</code></dt>
<dd><p>A frame representing an inlined function.  The function was inlined
into a <code class="code">gdb.NORMAL_FRAME</code> that is older than this one.
</p>
</dd>
<dt><code class="code">gdb.TAILCALL_FRAME</code></dt>
<dd><p>A frame representing a tail call.  See <a class="xref" href="Tail-Call-Frames.html">Tail Call Frames</a>.
</p>
</dd>
<dt><code class="code">gdb.SIGTRAMP_FRAME</code></dt>
<dd><p>A signal trampoline frame.  This is the frame created by the OS when
it calls into a signal handler.
</p>
</dd>
<dt><code class="code">gdb.ARCH_FRAME</code></dt>
<dd><p>A fake stack frame representing a cross-architecture call.
</p>
</dd>
<dt><code class="code">gdb.SENTINEL_FRAME</code></dt>
<dd><p>This is like <code class="code">gdb.NORMAL_FRAME</code>, but it is only used for the
newest frame.
</p></dd>
</dl>
</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002eunwind_005fstop_005freason"><span class="category-def">Function: </span><span><strong class="def-name">Frame.unwind_stop_reason</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002eunwind_005fstop_005freason"> &para;</a></span></dt>
<dd><p>Return an integer representing the reason why it&rsquo;s not possible to find
more frames toward the outermost frame.  Use
<code class="code">gdb.frame_stop_reason_string</code> to convert the value returned by this
function to a string. The value can be one of:
</p>
<dl class="table">
<dt><code class="code">gdb.FRAME_UNWIND_NO_REASON</code></dt>
<dd><p>No particular reason (older frames should be available).
</p>
</dd>
<dt><code class="code">gdb.FRAME_UNWIND_NULL_ID</code></dt>
<dd><p>The previous frame&rsquo;s analyzer returns an invalid result.  This is no
longer used by <small class="sc">GDB</small>, and is kept only for backward
compatibility.
</p>
</dd>
<dt><code class="code">gdb.FRAME_UNWIND_OUTERMOST</code></dt>
<dd><p>This frame is the outermost.
</p>
</dd>
<dt><code class="code">gdb.FRAME_UNWIND_UNAVAILABLE</code></dt>
<dd><p>Cannot unwind further, because that would require knowing the 
values of registers or memory that have not been collected.
</p>
</dd>
<dt><code class="code">gdb.FRAME_UNWIND_INNER_ID</code></dt>
<dd><p>This frame ID looks like it ought to belong to a NEXT frame,
but we got it for a PREV frame.  Normally, this is a sign of
unwinder failure.  It could also indicate stack corruption.
</p>
</dd>
<dt><code class="code">gdb.FRAME_UNWIND_SAME_ID</code></dt>
<dd><p>This frame has the same ID as the previous one.  That means
that unwinding further would almost certainly give us another
frame with exactly the same ID, so break the chain.  Normally,
this is a sign of unwinder failure.  It could also indicate
stack corruption.
</p>
</dd>
<dt><code class="code">gdb.FRAME_UNWIND_NO_SAVED_PC</code></dt>
<dd><p>The frame unwinder did not find any saved PC, but we needed
one to unwind further.
</p>
</dd>
<dt><code class="code">gdb.FRAME_UNWIND_MEMORY_ERROR</code></dt>
<dd><p>The frame unwinder caused an error while trying to access memory.
</p>
</dd>
<dt><code class="code">gdb.FRAME_UNWIND_FIRST_ERROR</code></dt>
<dd><p>Any stop reason greater or equal to this value indicates some kind
of error.  This special value facilitates writing code that tests
for errors in unwinding in a way that will work correctly even if
the list of the other values is modified in future <small class="sc">GDB</small>
versions.  Using it, you could write:
</p><div class="example smallexample">
<pre class="example-preformatted">reason = gdb.selected_frame().unwind_stop_reason ()
reason_str =  gdb.frame_stop_reason_string (reason)
if reason &gt;=  gdb.FRAME_UNWIND_FIRST_ERROR:
    print (&quot;An error occurred: %s&quot; % reason_str)
</pre></div>
</dd>
</dl>

</dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002epc"><span class="category-def">Function: </span><span><strong class="def-name">Frame.pc</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002epc"> &para;</a></span></dt>
<dd><p>Returns the frame&rsquo;s resume address.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002eblock"><span class="category-def">Function: </span><span><strong class="def-name">Frame.block</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002eblock"> &para;</a></span></dt>
<dd><p>Return the frame&rsquo;s code block.  See <a class="xref" href="Blocks-In-Python.html">Accessing blocks from Python</a>.  If the frame
does not have a block &ndash; for example, if there is no debugging
information for the code in question &ndash; then this will throw an
exception.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002efunction"><span class="category-def">Function: </span><span><strong class="def-name">Frame.function</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002efunction"> &para;</a></span></dt>
<dd><p>Return the symbol for the function corresponding to this frame.
See <a class="xref" href="Symbols-In-Python.html">Python representation of Symbols</a>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002eolder"><span class="category-def">Function: </span><span><strong class="def-name">Frame.older</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002eolder"> &para;</a></span></dt>
<dd><p>Return the frame that called this frame.  If this is the oldest frame,
return <code class="code">None</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002enewer"><span class="category-def">Function: </span><span><strong class="def-name">Frame.newer</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002enewer"> &para;</a></span></dt>
<dd><p>Return the frame called by this frame.  If this is the newest frame,
return <code class="code">None</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002efind_005fsal"><span class="category-def">Function: </span><span><strong class="def-name">Frame.find_sal</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002efind_005fsal"> &para;</a></span></dt>
<dd><p>Return the frame&rsquo;s symtab and line object.
See <a class="xref" href="Symbol-Tables-In-Python.html">Symbol table representation in Python</a>.
</p></dd></dl>

<a class="anchor" id="gdbpy_005fframe_005fread_005fregister"></a><dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002eread_005fregister"><span class="category-def">Function: </span><span><strong class="def-name">Frame.read_register</strong> <var class="def-var-arguments">(register)</var><a class="copiable-link" href="#index-Frame_002eread_005fregister"> &para;</a></span></dt>
<dd><p>Return the value of <var class="var">register</var> in this frame.  Returns a
<code class="code">Gdb.Value</code> object.  Throws an exception if <var class="var">register</var> does
not exist.  The <var class="var">register</var> argument must be one of the following:
</p><ol class="enumerate">
<li> A string that is the name of a valid register (e.g., <code class="code">'sp'</code> or
<code class="code">'rax'</code>).
</li><li> A <code class="code">gdb.RegisterDescriptor</code> object (see <a class="pxref" href="Registers-In-Python.html">Registers In Python</a>).
</li><li> A <small class="sc">GDB</small> internal, platform specific number.  Using these
numbers is supported for historic reasons, but is not recommended as
future changes to <small class="sc">GDB</small> could change the mapping between
numbers and the registers they represent, breaking any Python code
that uses the platform-specific numbers.  The numbers are usually
found in the corresponding <samp class="file"><var class="var">platform</var>-tdep.h</samp> file in the
<small class="sc">GDB</small> source tree.
</li></ol>
<p>Using a string to access registers will be slightly slower than the
other two methods as <small class="sc">GDB</small> must look up the mapping between
name and internal register number.  If performance is critical
consider looking up and caching a <code class="code">gdb.RegisterDescriptor</code>
object.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002eread_005fvar"><span class="category-def">Function: </span><span><strong class="def-name">Frame.read_var</strong> <var class="def-var-arguments">(variable <span class="r">[</span>, block<span class="r">]</span>)</var><a class="copiable-link" href="#index-Frame_002eread_005fvar"> &para;</a></span></dt>
<dd><p>Return the value of <var class="var">variable</var> in this frame.  If the optional
argument <var class="var">block</var> is provided, search for the variable from that
block; otherwise start at the frame&rsquo;s current block (which is
determined by the frame&rsquo;s current program counter).  The <var class="var">variable</var>
argument must be a string or a <code class="code">gdb.Symbol</code> object; <var class="var">block</var> must be a
<code class="code">gdb.Block</code> object.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002eselect"><span class="category-def">Function: </span><span><strong class="def-name">Frame.select</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002eselect"> &para;</a></span></dt>
<dd><p>Set this frame to be the selected frame.  See <a class="xref" href="Stack.html">Examining the
Stack</a>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002estatic_005flink"><span class="category-def">Function: </span><span><strong class="def-name">Frame.static_link</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002estatic_005flink"> &para;</a></span></dt>
<dd><p>In some languages (e.g., Ada, but also a GNU C extension), a nested
function can access the variables in the outer scope.  This is done
via a &ldquo;static link&rdquo;, which is a reference from the nested frame to
the appropriate outer frame.
</p>
<p>This method returns this frame&rsquo;s static link frame, if one exists.  If
there is no static link, this method returns <code class="code">None</code>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002elevel"><span class="category-def">Function: </span><span><strong class="def-name">Frame.level</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002elevel"> &para;</a></span></dt>
<dd><p>Return an integer, the stack frame level for this frame.  See <a class="xref" href="Frames.html">Stack Frames</a>.
</p></dd></dl>

<dl class="first-deffn first-defun-alias-first-deffn">
<dt class="deffn defun-alias-deffn" id="index-Frame_002elanguage"><span class="category-def">Function: </span><span><strong class="def-name">Frame.language</strong> <var class="def-var-arguments">()</var><a class="copiable-link" href="#index-Frame_002elanguage"> &para;</a></span></dt>
<dd><p>Return a string, the source language for this frame.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Blocks-In-Python.html">Accessing blocks from Python</a>, Previous: <a href="Objfiles-In-Python.html">Objfiles In Python</a>, Up: <a href="Python-API.html">Python API</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Concept-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

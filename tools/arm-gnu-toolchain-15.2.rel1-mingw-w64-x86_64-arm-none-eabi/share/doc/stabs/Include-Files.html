<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1992-2024 Free Software Foundation, Inc.
Contributed by Cygnus Support.  Written by Julia Menapace, Jim Kingdon,
and David MacKenzie.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with no Front-Cover Texts, and with no Back-Cover
Texts.  A copy of the license is included in the section entitled "GNU
Free Documentation License". -->
<title>Include Files (STABS)</title>

<meta name="description" content="Include Files (STABS)">
<meta name="keywords" content="Include Files (STABS)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Symbol-Types-Index.html" rel="index" title="Symbol Types Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Program-Structure.html" rel="up" title="Program Structure">
<link href="Line-Numbers.html" rel="next" title="Line Numbers">
<link href="Source-Files.html" rel="prev" title="Source Files">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Include-Files">
<div class="nav-panel">
<p>
Next: <a href="Line-Numbers.html" accesskey="n" rel="next">Line Numbers</a>, Previous: <a href="Source-Files.html" accesskey="p" rel="prev">Paths and Names of the Source Files</a>, Up: <a href="Program-Structure.html" accesskey="u" rel="up">Encoding the Structure of the Program</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Types-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Names-of-Include-Files"><span>2.3 Names of Include Files<a class="copiable-link" href="#Names-of-Include-Files"> &para;</a></span></h3>

<p>There are several schemes for dealing with include files: the
traditional <code class="code">N_SOL</code> approach, Sun&rsquo;s <code class="code">N_BINCL</code> approach, and the
XCOFF <code class="code">C_BINCL</code> approach (which despite the similar name has little in
common with <code class="code">N_BINCL</code>).
</p>
<a class="index-entry-id" id="index-N_005fSOL"></a>
<p>An <code class="code">N_SOL</code> symbol specifies which include file subsequent symbols
refer to.  The string field is the name of the file and the value is the
text address corresponding to the end of the previous include file and
the start of this one.  To specify the main source file again, use an
<code class="code">N_SOL</code> symbol with the name of the main source file.
</p>
<a class="index-entry-id" id="index-N_005fBINCL"></a>
<a class="index-entry-id" id="index-N_005fEINCL"></a>
<a class="index-entry-id" id="index-N_005fEXCL"></a>
<p>The <code class="code">N_BINCL</code> approach works as follows.  An <code class="code">N_BINCL</code> symbol
specifies the start of an include file.  In an object file, only the
string is significant; the linker puts data into some of the other
fields.  The end of the include file is marked by an <code class="code">N_EINCL</code>
symbol (which has no string field).  In an object file, there is no
significant data in the <code class="code">N_EINCL</code> symbol.  <code class="code">N_BINCL</code> and
<code class="code">N_EINCL</code> can be nested.
</p>
<p>If the linker detects that two source files have identical stabs between
an <code class="code">N_BINCL</code> and <code class="code">N_EINCL</code> pair (as will generally be the case
for a header file), then it only puts out the stabs once.  Each
additional occurrence is replaced by an <code class="code">N_EXCL</code> symbol.  I believe
the GNU linker and the Sun (both SunOS4 and Solaris) linker are the only
ones which supports this feature.
</p>
<p>A linker which supports this feature will set the value of a
<code class="code">N_BINCL</code> symbol to the total of all the characters in the stabs
strings included in the header file, omitting any file numbers.  The
value of an <code class="code">N_EXCL</code> symbol is the same as the value of the
<code class="code">N_BINCL</code> symbol it replaces.  This information can be used to
match up <code class="code">N_EXCL</code> and <code class="code">N_BINCL</code> symbols which have the same
filename.  The <code class="code">N_EINCL</code> value, and the values of the other and
description fields for all three, appear to always be zero.
</p>
<a class="index-entry-id" id="index-C_005fBINCL"></a>
<a class="index-entry-id" id="index-C_005fEINCL"></a>
<p>For the start of an include file in XCOFF, use the <samp class="file">.bi</samp> assembler
directive, which generates a <code class="code">C_BINCL</code> symbol.  A <samp class="file">.ei</samp>
directive, which generates a <code class="code">C_EINCL</code> symbol, denotes the end of
the include file.  Both directives are followed by the name of the
source file in quotes, which becomes the string for the symbol.
The value of each symbol, produced automatically by the assembler
and linker, is the offset into the executable of the beginning
(inclusive, as you&rsquo;d expect) or end (inclusive, as you would not expect)
of the portion of the COFF line table that corresponds to this include
file.  <code class="code">C_BINCL</code> and <code class="code">C_EINCL</code> do not nest.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Line-Numbers.html">Line Numbers</a>, Previous: <a href="Source-Files.html">Paths and Names of the Source Files</a>, Up: <a href="Program-Structure.html">Encoding the Structure of the Program</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Symbol-Types-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- This file documents the use of the GNU compilers.

Copyright Â© 1988-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Funding Free Software", the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
"GNU Free Documentation License".

(a) The FSF's Front-Cover Text is:

A GNU Manual

(b) The FSF's Back-Cover Text is:

You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development. -->
<title>Enum Extensions (Using the GNU Compiler Collection (GCC))</title>

<meta name="description" content="Enum Extensions (Using the GNU Compiler Collection (GCC))">
<meta name="keywords" content="Enum Extensions (Using the GNU Compiler Collection (GCC))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Indices.html" rel="index" title="Indices">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Syntax-Extensions.html" rel="up" title="Syntax Extensions">
<link href="Boolean-Type.html" rel="next" title="Boolean Type">
<link href="Alignment.html" rel="prev" title="Alignment">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
kbd.key {font-style: normal}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en_US">
<div class="subsection-level-extent" id="Enum-Extensions">
<div class="nav-panel">
<p>
Next: <a href="Boolean-Type.html" accesskey="n" rel="next">Support for the <code class="code">_Bool</code> Type</a>, Previous: <a href="Alignment.html" accesskey="p" rel="prev">Determining the Alignment of Functions, Types or Variables</a>, Up: <a href="Syntax-Extensions.html" accesskey="u" rel="up">Other Extensions to C Syntax</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Extensions-to-enum-Type-Declarations"><span>6.12.8 Extensions to <code class="code">enum</code> Type Declarations<a class="copiable-link" href="#Extensions-to-enum-Type-Declarations"> &para;</a></span></h4>
<a class="anchor" id="Incomplete-Enums"></a><a class="index-entry-id" id="index-enum-extensions"></a>
<a class="index-entry-id" id="index-base-type-of-an-enum"></a>
<a class="index-entry-id" id="index-underlying-type-of-an-enum"></a>
<a class="index-entry-id" id="index-forward-declaration-of-an-enum"></a>
<a class="index-entry-id" id="index-opaque-enum-types"></a>
<a class="index-entry-id" id="index-incomplete-enum-types"></a>

<p>The C23 and C++11 standards added new syntax to specify the underlying
type of an <code class="code">enum</code> type.  For example,
</p>
<div class="example smallexample">
<pre class="example-preformatted">enum pet : unsigned char { CAT, DOG, ROCK };
</pre></div>

<p>In GCC, this feature is supported as an extension in all older
dialects of C and C++ as well.  For C++ dialects before C++11, use
<samp class="option">-Wno-c++11-extensions</samp> to silence the associated warnings.
</p>
<p>You can also forward-declare an <code class="code">enum</code> type, without specifying
its possible values.  The enumerators are supplied in a later
redeclaration of the type, which must match the underlying type of the
first declaration.
</p>
<div class="example smallexample">
<pre class="example-preformatted">enum pet : unsigned char;
static enum pet my_pet;
...
enum pet : unsigned char { CAT, DOG, ROCK };
</pre></div>

<p>Forward declaration of <code class="code">enum</code> types with an explicit underlying
type is also a feature of C++11 that is supported as an extension by
GCC for all C dialects.  However, it&rsquo;s not available in C++ dialects
prior to C++11.
</p>
<p>The C++ standard refers to a forward declaration of an <code class="code">enum</code>
with an explicit underlying type as an <em class="dfn">opaque type</em>.  It is not
considered an incomplete type, since its size is known.  That means
you can declare variables or allocate storage using the type before
the redeclaration, not just use pointers of that type.
</p>
<p>GCC has also traditionally supported forward declarations of
<code class="code">enum</code> types that don&rsquo;t include an explicit underlying type
specification.  This results in an incomplete type, much like what you
get if you write <code class="code">struct foo</code> without describing the elements.
You cannot allocate variables or storage using the type while it is
incomplete.  However, you can work with pointers to that type.
</p>
<p>Forward-declaring an incomplete enum type without an explicit
underlying type is supported as an extension in all GNU C dialects,
but is not supported at all in GNU C++.
</p>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Boolean-Type.html">Support for the <code class="code">_Bool</code> Type</a>, Previous: <a href="Alignment.html">Determining the Alignment of Functions, Types or Variables</a>, Up: <a href="Syntax-Extensions.html">Other Extensions to C Syntax</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Indices.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

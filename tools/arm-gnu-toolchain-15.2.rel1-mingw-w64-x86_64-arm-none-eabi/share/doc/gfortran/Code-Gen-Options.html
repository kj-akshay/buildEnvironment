<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1999-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Funding Free Software", the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
"GNU Free Documentation License".

(a) The FSF's Front-Cover Text is:

A GNU Manual

(b) The FSF's Back-Cover Text is:

You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development. -->
<title>Code Gen Options (The GNU Fortran Compiler)</title>

<meta name="description" content="Code Gen Options (The GNU Fortran Compiler)">
<meta name="keywords" content="Code Gen Options (The GNU Fortran Compiler)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Option-Index.html" rel="index" title="Option Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Invoking-GNU-Fortran.html" rel="up" title="Invoking GNU Fortran">
<link href="Interoperability-Options.html" rel="next" title="Interoperability Options">
<link href="Developer-Options.html" rel="prev" title="Developer Options">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="Code-Gen-Options">
<div class="nav-panel">
<p>
Next: <a href="Interoperability-Options.html" accesskey="n" rel="next">Options for interoperability with other languages</a>, Previous: <a href="Developer-Options.html" accesskey="p" rel="prev">GNU Fortran Developer Options</a>, Up: <a href="Invoking-GNU-Fortran.html" accesskey="u" rel="up">GNU Fortran Command Options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="Options-for-code-generation-conventions"><span>2.10 Options for code generation conventions<a class="copiable-link" href="#Options-for-code-generation-conventions"> &para;</a></span></h3>
<a class="index-entry-id" id="index-code-generation_002c-conventions"></a>
<a class="index-entry-id" id="index-options_002c-code-generation"></a>
<a class="index-entry-id" id="index-options_002c-run_002dtime"></a>

<p>These machine-independent options control the interface conventions
used in code generation.
</p>
<p>Most of them have both positive and negative forms; the negative form
of <samp class="option">-ffoo</samp> would be <samp class="option">-fno-foo</samp>.  In the table below, only
one of the forms is listed&mdash;the one that is not the default.  You
can figure out the other form by either removing <samp class="option">no-</samp> or adding
it.
</p>
<dl class="table">
<dt><a class="index-entry-id" id="index-SAVE-statement"></a>
<a class="index-entry-id" id="index-statement_002c-SAVE"></a>
<a id="index-fno_002dautomatic"></a><span><code class="code">-fno-automatic</code><a class="copiable-link" href="#index-fno_002dautomatic"> &para;</a></span></dt>
<dd><p>Treat each program unit (except those marked as <code class="code">RECURSIVE</code>) as if the
<code class="code">SAVE</code> statement were specified for every local variable and array
referenced in it. Does not affect common blocks. (Some Fortran compilers
provide this option under the name <samp class="option">-static</samp> or <samp class="option">-save</samp>.)
The default, which is <samp class="option">-fautomatic</samp>, uses the stack for local
variables smaller than the value given by <samp class="option">-fmax-stack-var-size</samp>.
Use the option <samp class="option">-frecursive</samp> to use no static memory.
</p>
<p>Local variables or arrays having an explicit <code class="code">SAVE</code> attribute are
silently ignored unless the <samp class="option">-pedantic</samp> option is added.
</p>
</dd>
<dt><a class="index-entry-id" id="index-calling-convention"></a>
<a class="index-entry-id" id="index-f2c-calling-convention"></a>
<a class="index-entry-id" id="index-g77-calling-convention"></a>
<a class="index-entry-id" id="index-libf2c-calling-convention"></a>
<a id="index-ff2c"></a><span><code class="code">-ff2c</code><a class="copiable-link" href="#index-ff2c"> &para;</a></span></dt>
<dd><p>Generate code designed to be compatible with code generated
by <code class="command">g77</code> and <code class="command">f2c</code>.
</p>
<p>The calling conventions used by <code class="command">g77</code> (originally implemented
in <code class="command">f2c</code>) require functions that return type
default <code class="code">REAL</code> to actually return the C type <code class="code">double</code>, and
functions that return type <code class="code">COMPLEX</code> to return the values via an
extra argument in the calling sequence that points to where to
store the return value.  Under the default GNU calling conventions, such
functions simply return their results as they would in GNU
C&mdash;default <code class="code">REAL</code> functions return the C type <code class="code">float</code>, and
<code class="code">COMPLEX</code> functions return the GNU C type <code class="code">complex</code>.
Additionally, this option implies the <samp class="option">-fsecond-underscore</samp>
option, unless <samp class="option">-fno-second-underscore</samp> is explicitly requested.
</p>
<p>This does not affect the generation of code that interfaces with
the <code class="command">libgfortran</code> library.
</p>
<p><em class="emph">Caution:</em> It is not a good idea to mix Fortran code compiled with
<samp class="option">-ff2c</samp> with code compiled with the default <samp class="option">-fno-f2c</samp>
calling conventions as, calling <code class="code">COMPLEX</code> or default <code class="code">REAL</code>
functions between program parts that were compiled with different
calling conventions will break at execution time.
</p>
<p><em class="emph">Caution:</em> This breaks code that passes intrinsic functions
of type default <code class="code">REAL</code> or <code class="code">COMPLEX</code> as actual arguments, as
the library implementations use the <samp class="option">-fno-f2c</samp> calling conventions.
</p>
</dd>
<dt><a class="index-entry-id" id="index-underscore"></a>
<a class="index-entry-id" id="index-symbol-names_002c-underscores"></a>
<a class="index-entry-id" id="index-transforming-symbol-names"></a>
<a class="index-entry-id" id="index-symbol-names_002c-transforming"></a>
<a id="index-fno_002dunderscoring"></a><span><code class="code">-fno-underscoring</code><a class="copiable-link" href="#index-fno_002dunderscoring"> &para;</a></span></dt>
<dd><p>Do not transform names of entities specified in the Fortran
source file by appending underscores to them.
</p>
<p>With <samp class="option">-funderscoring</samp> in effect, GNU Fortran appends one
underscore to external names.  This is done to ensure
compatibility with code produced by many UNIX Fortran compilers.
Note this does not apply to names declared with C binding, or within
a module.
</p>
<p><em class="emph">Caution</em>: The default behavior of GNU Fortran is
incompatible with <code class="command">f2c</code> and <code class="command">g77</code>, please use the
<samp class="option">-ff2c</samp> option if you want object files compiled with
GNU Fortran to be compatible with object code created with these
tools.
</p>
<p>Use of <samp class="option">-fno-underscoring</samp> is not recommended unless you are
experimenting with issues such as integration of GNU Fortran into
existing system environments (vis-&agrave;-vis existing libraries, tools,
and so on).
</p>
<p>For example, with <samp class="option">-funderscoring</samp>, and assuming that <code class="code">j()</code> and
<code class="code">max_count()</code> are external functions while <code class="code">my_var</code> and
<code class="code">lvar</code> are local variables, a Fortran statement like
</p><div class="example smallexample">
<pre class="example-preformatted">I = J() + MAX_COUNT (MY_VAR, LVAR)
</pre></div>
<p>is implemented as something akin to the C code:
</p><div class="example smallexample">
<pre class="example-preformatted">i = j_() + max_count_(&amp;my_var, &amp;lvar);
</pre></div>

<p>With <samp class="option">-fno-underscoring</samp>, the same statement is implemented as:
</p>
<div class="example smallexample">
<pre class="example-preformatted">i = j() + max_count(&amp;my_var, &amp;lvar);
</pre></div>

<p>Use of <samp class="option">-fno-underscoring</samp> allows direct specification of
user-defined names while debugging and when interfacing GNU Fortran
code with other languages.
</p>
<p>Note that just because the names match does <em class="emph">not</em> mean that the
interface implemented by GNU Fortran for an external name matches the
interface implemented by some other language for that same name.
That is, getting code produced by GNU Fortran to link to code produced
by some other compiler using this or any other method can be only a
small part of the overall solution&mdash;getting the code generated by
both compilers to agree on issues other than naming can require
significant effort, and, unlike naming disagreements, linkers normally
cannot detect disagreements in these other areas.
</p>
<p>Also, note that with <samp class="option">-fno-underscoring</samp>, the lack of appended
underscores introduces the very real possibility that a user-defined
external name conflicts with a name in a system library, which
could make finding unresolved-reference bugs quite difficult in some
cases&mdash;they might occur at program run time, and show up only as
buggy behavior at run time.
</p>
<p>See <a class="xref" href="Naming-and-argument_002dpassing-conventions.html">Naming and argument-passing conventions</a>, for more information.
Also note that declaring symbols as <code class="code">bind(C)</code> is a more robust way to
interface with code written in other languages or compiled with different
Fortran compilers than the command-line options documented in this section.
</p>
</dd>
<dt><a class="index-entry-id" id="index-underscore-1"></a>
<a class="index-entry-id" id="index-symbol-names_002c-underscores-1"></a>
<a class="index-entry-id" id="index-transforming-symbol-names-1"></a>
<a class="index-entry-id" id="index-symbol-names_002c-transforming-1"></a>
<a class="index-entry-id" id="index-f2c-calling-convention-1"></a>
<a class="index-entry-id" id="index-g77-calling-convention-1"></a>
<a class="index-entry-id" id="index-libf2c-calling-convention-1"></a>
<a id="index-fsecond_002dunderscore"></a><span><code class="code">-fsecond-underscore</code><a class="copiable-link" href="#index-fsecond_002dunderscore"> &para;</a></span></dt>
<dd><p>By default, GNU Fortran appends an underscore to external
names.  If this option is used, GNU Fortran appends two
underscores to names with underscores and one underscore to names
with no underscores.
</p>
<p>For example, an external name such as <code class="code">MAX_COUNT</code>
is implemented as a reference to the link-time external symbol
<code class="code">max_count__</code>, instead of <code class="code">max_count_</code>.  This is required
for compatibility with <code class="command">g77</code> and <code class="command">f2c</code>, and is implied
by use of the <samp class="option">-ff2c</samp> option.
</p>
<p>This option has no effect if <samp class="option">-fno-underscoring</samp> is
in effect.  It is implied by the <samp class="option">-ff2c</samp> option.
</p>
</dd>
<dt><a class="index-entry-id" id="index-coarrays"></a>
<a id="index-fcoarray"></a><span><code class="code">-fcoarray=<var class="var">&lt;keyword&gt;</var></code><a class="copiable-link" href="#index-fcoarray"> &para;</a></span></dt>
<dd>
<dl class="table">
<dt>&lsquo;<samp class="samp">none</samp>&rsquo;</dt>
<dd><p>Disable coarray support; using coarray declarations and image-control
statements produces a compile-time error. (Default)
</p>
</dd>
<dt>&lsquo;<samp class="samp">single</samp>&rsquo;</dt>
<dd><p>Single-image mode, i.e. <code class="code">num_images()</code> is always one.
</p>
</dd>
<dt>&lsquo;<samp class="samp">lib</samp>&rsquo;</dt>
<dd><p>Library-based coarray parallelization; a suitable GNU Fortran coarray
library such as <a class="url" href="http://opencoarrays.org">http://opencoarrays.org</a> needs to be linked.
Alternatively, GCC&rsquo;s <code class="code">libcaf_single</code> library can be linked,
albeit it only supports a single image.
</p>
</dd>
</dl>


</dd>
<dt><a class="index-entry-id" id="index-array_002c-bounds-checking"></a>
<a class="index-entry-id" id="index-bit-intrinsics-checking"></a>
<a class="index-entry-id" id="index-bounds-checking"></a>
<a class="index-entry-id" id="index-pointer-checking"></a>
<a class="index-entry-id" id="index-memory-checking"></a>
<a class="index-entry-id" id="index-range-checking"></a>
<a class="index-entry-id" id="index-subscript-checking"></a>
<a class="index-entry-id" id="index-checking-subscripts"></a>
<a class="index-entry-id" id="index-run_002dtime-checking"></a>
<a class="index-entry-id" id="index-checking-array-temporaries"></a>
<a id="index-fcheck"></a><span><code class="code">-fcheck=<var class="var">&lt;keyword&gt;</var></code><a class="copiable-link" href="#index-fcheck"> &para;</a></span></dt>
<dd>
<p>Enable the generation of run-time checks; the argument shall be
a comma-delimited list of the following keywords.  Prefixing a check with
<samp class="option">no-</samp> disables it if it was activated by a previous specification.
</p>
<dl class="table">
<dt>&lsquo;<samp class="samp">all</samp>&rsquo;</dt>
<dd><p>Enable all run-time test of <samp class="option">-fcheck</samp>.
</p>
</dd>
<dt>&lsquo;<samp class="samp">array-temps</samp>&rsquo;</dt>
<dd><p>Warns at run time when for passing an actual argument a temporary array
had to be generated. The information generated by this warning is
sometimes useful in optimization, in order to avoid such temporaries.
</p>
<p>Note: The warning is only printed once per location.
</p>
</dd>
<dt>&lsquo;<samp class="samp">bits</samp>&rsquo;</dt>
<dd><p>Enable generation of run-time checks for invalid arguments to the bit
manipulation intrinsics.
</p>
</dd>
<dt>&lsquo;<samp class="samp">bounds</samp>&rsquo;</dt>
<dd><p>Enable generation of run-time checks for array subscripts
and against the declared minimum and maximum values.  It also
checks array indices for assumed and deferred
shape arrays against the actual allocated bounds and ensures that all string
lengths are equal for character array constructors without an explicit
typespec.
</p>
<p>Some checks require that <samp class="option">-fcheck=bounds</samp> is set for
the compilation of the main program.
</p>
<p>Note: In the future this may also include other forms of checking, e.g.,
checking substring references.
</p>
</dd>
<dt>&lsquo;<samp class="samp">do</samp>&rsquo;</dt>
<dd><p>Enable generation of run-time checks for invalid modification of loop
iteration variables.
</p>
</dd>
<dt>&lsquo;<samp class="samp">mem</samp>&rsquo;</dt>
<dd><p>Enable generation of run-time checks for memory allocation.
Note: This option does not affect explicit allocations using the
<code class="code">ALLOCATE</code> statement, which are always checked.
</p>
</dd>
<dt>&lsquo;<samp class="samp">pointer</samp>&rsquo;</dt>
<dd><p>Enable generation of run-time checks for pointers and allocatables.
</p>
</dd>
<dt>&lsquo;<samp class="samp">recursion</samp>&rsquo;</dt>
<dd><p>Enable generation of run-time checks for recursively called subroutines and
functions that are not marked as recursive. See also <samp class="option">-frecursive</samp>.
Note: This check does not work for OpenMP programs and is disabled if used
together with <samp class="option">-frecursive</samp> and <samp class="option">-fopenmp</samp>.
</p></dd>
</dl>

<p>Example: Assuming you have a file <samp class="file">foo.f90</samp>, the command
</p><div class="example smallexample">
<pre class="example-preformatted">  gfortran -fcheck=all,no-array-temps foo.f90
</pre></div>
<p>compiles the file with all checks enabled as specified above except
warnings for generated array temporaries.
</p>

</dd>
<dt><a id="index-fbounds_002dcheck"></a><span><code class="code">-fbounds-check</code><a class="copiable-link" href="#index-fbounds_002dcheck"> &para;</a></span></dt>
<dd><p>Deprecated alias for <samp class="option">-fcheck=bounds</samp>.
</p>
</dd>
<dt><a id="index-tail_002dcall_002dworkaround"></a><span><code class="code">-ftail-call-workaround</code><a class="copiable-link" href="#index-tail_002dcall_002dworkaround"> &para;</a></span></dt>
<dt><code class="code">-ftail-call-workaround=<var class="var">n</var></code></dt>
<dd><p>Some C interfaces to Fortran codes violate the gfortran ABI by
omitting the hidden character length arguments as described in
See <a class="xref" href="Argument-passing-conventions.html">Argument passing conventions</a>.  This can lead to crashes
because pushing arguments for tail calls can overflow the stack.
</p>
<p>To provide a workaround for existing binary packages, this option
disables tail call optimization for gfortran procedures with character
arguments.  With <samp class="option">-ftail-call-workaround=2</samp> tail call optimization
is disabled in all gfortran procedures with character arguments,
with <samp class="option">-ftail-call-workaround=1</samp> or equivalent
<samp class="option">-ftail-call-workaround</samp> only in gfortran procedures with character
arguments that call implicitly prototyped procedures.
</p>
<p>Using this option can lead to problems including crashes due to
insufficient stack space.
</p>
<p>It is <em class="emph">very strongly</em> recommended to fix the code in question.
The <samp class="option">-fc-prototypes-external</samp> option can be used to generate
prototypes that conform to gfortran&rsquo;s ABI, for inclusion in the
source code.
</p>
<p>Support for this option will likely be withdrawn in a future release
of gfortran.
</p>
<p>The negative form, <samp class="option">-fno-tail-call-workaround</samp> or equivalent
<samp class="option">-ftail-call-workaround=0</samp>, can be used to disable this option.
</p>
<p>Default is currently <samp class="option">-ftail-call-workaround</samp>, this will change
in future releases.
</p>
</dd>
<dt><a id="index-fcheck_002darray_002dtemporaries"></a><span><code class="code">-fcheck-array-temporaries</code><a class="copiable-link" href="#index-fcheck_002darray_002dtemporaries"> &para;</a></span></dt>
<dd><p>Deprecated alias for <samp class="option">-fcheck=array-temps</samp>.
</p>
</dd>
<dt><a id="index-fmax_002darray_002dconstructor"></a><span><code class="code">-fmax-array-constructor=<var class="var">n</var></code><a class="copiable-link" href="#index-fmax_002darray_002dconstructor"> &para;</a></span></dt>
<dd><p>This option can be used to increase the upper limit permitted in
array constructors.  The code below requires this option to expand
the array at compile time.
</p>
<div class="example smallexample">
<pre class="example-preformatted">program test
implicit none
integer j
integer, parameter :: n = 100000
integer, parameter :: i(n) = (/ (2*j, j = 1, n) /)
print '(10(I0,1X))', i
end program test
</pre></div>

<p><em class="emph">Caution:  This option can lead to long compile times and excessively
large object files.</em>
</p>
<p>The default value for <var class="var">n</var> is 65535.
</p>

</dd>
<dt><a id="index-fmax_002dstack_002dvar_002dsize"></a><span><code class="code">-fmax-stack-var-size=<var class="var">n</var></code><a class="copiable-link" href="#index-fmax_002dstack_002dvar_002dsize"> &para;</a></span></dt>
<dd><p>This option specifies the size in bytes of the largest array that is put
on the stack; if the size is exceeded static memory is used (except in
procedures marked as <code class="code">RECURSIVE</code>).
Use the option <samp class="option">-frecursive</samp> to
allow for recursive procedures that do not have a
<code class="code">RECURSIVE</code> attribute or
for parallel programs. Use <samp class="option">-fno-automatic</samp> to never use the stack.
</p>
<p>This option currently only affects local arrays declared with constant
bounds, and may not apply to all character variables.
Future versions of GNU Fortran may improve this behavior.
</p>
<p>The default value for <var class="var">n</var> is 65536.
</p>
</dd>
<dt><a id="index-fstack_002darrays"></a><span><code class="code">-fstack-arrays</code><a class="copiable-link" href="#index-fstack_002darrays"> &para;</a></span></dt>
<dd><p>Adding this option makes the Fortran compiler put all arrays of
unknown size and array temporaries onto stack memory.  If your program uses very
large local arrays it is possible that you have to extend your runtime
limits for stack memory on some operating systems. This flag is enabled
by default at optimization level <samp class="option">-Ofast</samp> unless
<samp class="option">-fmax-stack-var-size</samp> is specified.
</p>
</dd>
<dt><a class="index-entry-id" id="index-structure-packing"></a>
<a id="index-fpack_002dderived"></a><span><code class="code">-fpack-derived</code><a class="copiable-link" href="#index-fpack_002dderived"> &para;</a></span></dt>
<dd><p>This option tells GNU Fortran to pack derived type members as closely as
possible.  Code compiled with this option is likely to be incompatible
with code compiled without this option, and may execute slower.
</p>
</dd>
<dt><a class="index-entry-id" id="index-repacking-arrays"></a>
<a id="index-frepack_002darrays"></a><span><code class="code">-frepack-arrays</code><a class="copiable-link" href="#index-frepack_002darrays"> &para;</a></span></dt>
<dd><p>In some circumstances GNU Fortran may pass assumed shape array
sections via a descriptor describing a noncontiguous area of memory.
This option adds code to the function prologue to repack the data into
a contiguous block at runtime.
</p>
<p>This should result in faster accesses to the array.  However it can introduce
significant overhead to the function call, especially  when the passed data
is noncontiguous.
</p>
</dd>
<dt><a id="index-fshort_002denums"></a><span><code class="code">-fshort-enums</code><a class="copiable-link" href="#index-fshort_002denums"> &para;</a></span></dt>
<dd><p>This option is provided for interoperability with C code that was
compiled with the <samp class="option">-fshort-enums</samp> option.  It makes
GNU Fortran choose the smallest <code class="code">INTEGER</code> kind a given
enumerator set fits in, and give all its enumerators this kind.
</p>
</dd>
<dt><a id="index-finline_002darg_002dpacking"></a><span><code class="code">-finline-arg-packing</code><a class="copiable-link" href="#index-finline_002darg_002dpacking"> &para;</a></span></dt>
<dd><p>When passing an assumed-shape argument of a procedure as actual
argument to an assumed-size or explicit size or as argument to a
procedure that does not have an explicit interface, the argument may
have to be packed; that is, put into contiguous memory. An example is
the call to <code class="code">foo</code> in
</p><div class="example smallexample">
<pre class="example-preformatted">  subroutine foo(a)
     real, dimension(*) :: a
  end subroutine foo
  subroutine bar(b)
     real, dimension(:) :: b
     call foo(b)
  end subroutine bar
</pre></div>

<p>When <samp class="option">-finline-arg-packing</samp> is in effect, this packing is
performed by inline code. This allows for more optimization while
increasing code size.
</p>
<p><samp class="option">-finline-arg-packing</samp> is implied by any of the <samp class="option">-O</samp> options
except when optimizing for size via <samp class="option">-Os</samp>.  If the code
contains a very large number of argument that have to be packed, code
size and also compilation time may become excessive.  If that is the
case, it may be better to disable this option.  Instances of packing
can be found by using <samp class="option">-Warray-temporaries</samp>.
</p>
</dd>
<dt><a id="index-fexternal_002dblas"></a><span><code class="code">-fexternal-blas</code><a class="copiable-link" href="#index-fexternal_002dblas"> &para;</a></span></dt>
<dd><p>This option makes <code class="command">gfortran</code> generate calls to BLAS functions
for some matrix operations like <code class="code">MATMUL</code>, instead of using our own
algorithms, if the size of the matrices involved is larger than a given
limit (see <samp class="option">-fblas-matmul-limit</samp>).  This may be profitable if an
optimized vendor BLAS library is available.  The BLAS library has
to be specified at link time.
</p>
</dd>
<dt><a id="index-fblas_002dmatmul_002dlimit"></a><span><code class="code">-fblas-matmul-limit=<var class="var">n</var></code><a class="copiable-link" href="#index-fblas_002dmatmul_002dlimit"> &para;</a></span></dt>
<dd><p>Only significant when <samp class="option">-fexternal-blas</samp> is in effect.
Matrix multiplication of matrices with size larger than (or equal to) <var class="var">n</var>
is performed by calls to BLAS functions, while others are
handled by <code class="command">gfortran</code> internal algorithms. If the matrices
involved are not square, the size comparison is performed using the
geometric mean of the dimensions of the argument and result matrices.
</p>
<p>The default value for <var class="var">n</var> is 30.
</p>
</dd>
<dt><a id="index-finline_002dintrinsics"></a><span><code class="code">-finline-intrinsics</code><a class="copiable-link" href="#index-finline_002dintrinsics"> &para;</a></span></dt>
<dt><code class="code">-finline-intrinsics=<var class="var">intr1</var>,<var class="var">intr2</var>,...</code></dt>
<dd><p>Prefer generating inline code over calls to libgfortran functions to implement
intrinsics.
</p>
<p>Usage of intrinsics can be implemented either by generating a call to the
libgfortran library function or by directly generating inline code.  For most
intrinsics, only a single variant is available, and there is no choice of
implementation.  However, some intrinsics can use a library function or inline
code, where inline code typically offers opportunities for additional
optimization over a library function.  With <code class="code">-finline-intrinsics=...</code> or
<code class="code">-fno-inline-intrinsics=...</code>, the choice applies only to the intrinsics
present in the comma-separated list provided as argument.
</p>
<p>For each intrinsic, if no choice of implementation was made through either of
the flag variants, a default behavior is chosen depending on optimization:
library calls are generated when not optimizing or when optimizing for size;
otherwise inline code is preferred.
</p>
<p>The set of intrinsics allowed as argument to <code class="code">-finline-intrinsics=</code>
is currently limited to <code class="code">MAXLOC</code> and <code class="code">MINLOC</code>.  The effect of
the flag is moreover limited to calls of those intrinsics without
<code class="code">DIM</code> argument and with <code class="code">ARRAY</code> of a non-<code class="code">CHARACTER</code> type.
The case of rank-1 argument and <code class="code">DIM</code> argument present, i.e.
<code class="code">MAXLOC(A(:),DIM=1)</code> or <code class="code">MINLOC(A(:),DIM=1)</code> is inlined
unconditionally for numeric rank-1 array argument <code class="code">A</code>.
</p>
</dd>
<dt><a id="index-finline_002dmatmul_002dlimit"></a><span><code class="code">-finline-matmul-limit=<var class="var">n</var></code><a class="copiable-link" href="#index-finline_002dmatmul_002dlimit"> &para;</a></span></dt>
<dd><p>When front-end optimization is active, some calls to the <code class="code">MATMUL</code>
intrinsic function are inlined.  This may result in code size
increase if the size of the matrix cannot be determined at compile
time, as code for both cases is generated.  Setting
<code class="code">-finline-matmul-limit=0</code> disables inlining in all cases.
Setting this option with a value of <var class="var">n</var> produces inline code
for matrices with size up to <var class="var">n</var>. If the matrices involved are not
square, the size comparison is performed using the geometric mean of
the dimensions of the argument and result matrices.
</p>
<p>The default value for <var class="var">n</var> is 30.  The <code class="code">-fblas-matmul-limit</code>
can be used to change this value.
</p>
</dd>
<dt><a id="index-frecursive"></a><span><code class="code">-frecursive</code><a class="copiable-link" href="#index-frecursive"> &para;</a></span></dt>
<dd><p>Allow indirect recursion by forcing all local arrays to be allocated
on the stack. This flag cannot be used together with
<samp class="option">-fmax-stack-var-size=</samp> or <samp class="option">-fno-automatic</samp>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-finit_002dderived"></a>
<a class="index-entry-id" id="index-finit_002dinteger"></a>
<a class="index-entry-id" id="index-finit_002dreal"></a>
<a class="index-entry-id" id="index-finit_002dlogical"></a>
<a class="index-entry-id" id="index-finit_002dcharacter"></a>
<a id="index-finit_002dlocal_002dzero"></a><span><code class="code">-finit-local-zero</code><a class="copiable-link" href="#index-finit_002dlocal_002dzero"> &para;</a></span></dt>
<dt><code class="code">-finit-derived</code></dt>
<dt><code class="code">-finit-integer=<var class="var">n</var></code></dt>
<dt><code class="code">-finit-real=&lt;zero|inf|-inf|nan|snan&gt;</code></dt>
<dt><code class="code">-finit-logical=&lt;true|false&gt;</code></dt>
<dt><code class="code">-finit-character=<var class="var">n</var></code></dt>
<dd><p>The <samp class="option">-finit-local-zero</samp> option instructs the compiler to
initialize local <code class="code">INTEGER</code>, <code class="code">REAL</code>, and <code class="code">COMPLEX</code>
variables to zero, <code class="code">LOGICAL</code> variables to false, and
<code class="code">CHARACTER</code> variables to a string of null bytes.  Finer-grained
initialization options are provided by the
<samp class="option">-finit-integer=<var class="var">n</var></samp>,
<samp class="option">-finit-real=&lt;zero|inf|-inf|nan|snan&gt;</samp> (which also initializes
the real and imaginary parts of local <code class="code">COMPLEX</code> variables),
<samp class="option">-finit-logical=&lt;true|false&gt;</samp>, and
<samp class="option">-finit-character=<var class="var">n</var></samp> (where <var class="var">n</var> is an ASCII character
value) options.
</p>
<p>With <samp class="option">-finit-derived</samp>, components of derived type variables are
initialized according to these flags.  Components whose type is not covered by
an explicit <samp class="option">-finit-*</samp> flag are treated as described above with
<samp class="option">-finit-local-zero</samp>.
</p>
<p>These options do not initialize
</p><ul class="itemize mark-bullet">
<li>objects with the <code class="code">POINTER</code> attribute
</li><li>allocatable arrays
</li><li>variables that appear in an <code class="code">EQUIVALENCE</code> statement.
</li></ul>
<p>(These limitations may be removed in future releases).
</p>
<p>Note that the <samp class="option">-finit-real=nan</samp> option initializes <code class="code">REAL</code>
and <code class="code">COMPLEX</code> variables with a quiet NaN. For a signalling NaN
use <samp class="option">-finit-real=snan</samp>; note, however, that compile-time
optimizations may convert them into quiet NaN and that trapping
needs to be enabled (e.g. via <samp class="option">-ffpe-trap</samp>).
</p>
<p>The <samp class="option">-finit-integer</samp> option parses the value into an
integer of type <code class="code">INTEGER(kind=C_LONG)</code> on the host.  Said value
is then assigned to the integer variables in the Fortran code, which
might result in wraparound if the value is too large for the kind.
</p>
<p>Finally, note that enabling any of the <samp class="option">-finit-*</samp> options
silences warnings that would have been emitted by <samp class="option">-Wuninitialized</samp>
for the affected local variables.
</p>
</dd>
<dt><a class="index-entry-id" id="index-alignment-of-COMMON-blocks-1"></a>
<a id="index-falign_002dcommons"></a><span><code class="code">-falign-commons</code><a class="copiable-link" href="#index-falign_002dcommons"> &para;</a></span></dt>
<dd><p>By default, <code class="command">gfortran</code> enforces proper alignment of all variables in a
<code class="code">COMMON</code> block by padding them as needed. On certain platforms this is mandatory,
on others it increases performance. If a <code class="code">COMMON</code> block is not declared with
consistent data types everywhere, this padding can cause trouble, and
<samp class="option">-fno-align-commons</samp> can be used to disable automatic alignment. The
same form of this option should be used for all files that share a <code class="code">COMMON</code> block.
To avoid potential alignment issues in <code class="code">COMMON</code> blocks, it is recommended to order
objects from largest to smallest.
</p>
</dd>
<dt><a class="index-entry-id" id="index-reassociation-of-parenthesized-expressions"></a>
<a id="index-fno_002dprotect_002dparens"></a><span><code class="code">-fno-protect-parens</code><a class="copiable-link" href="#index-fno_002dprotect_002dparens"> &para;</a></span></dt>
<dd><p>By default the parentheses in expression are honored for all optimization
levels such that the compiler does not do any reassociation. Using
<samp class="option">-fno-protect-parens</samp> allows the compiler to reorder <code class="code">REAL</code> and
<code class="code">COMPLEX</code> expressions to produce faster code. Note that for the reassociation
optimization <samp class="option">-fno-signed-zeros</samp> and <samp class="option">-fno-trapping-math</samp>
need to be in effect. The parentheses protection is enabled by default, unless
<samp class="option">-Ofast</samp> is given.
</p>
</dd>
<dt><a class="index-entry-id" id="index-Reallocate-the-LHS-in-assignments"></a>
<a id="index-frealloc_002dlhs"></a><span><code class="code">-frealloc-lhs</code><a class="copiable-link" href="#index-frealloc_002dlhs"> &para;</a></span></dt>
<dd><p>An allocatable left-hand side of an intrinsic assignment is automatically
(re)allocated if it is either unallocated or has a different shape. The
option is enabled by default except when <samp class="option">-std=f95</samp> is given. See
also <samp class="option">-Wrealloc-lhs</samp>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-Elimination-of-functions-with-identical-argument-lists"></a>
<a id="index-faggressive_002dfunction_002delimination"></a><span><code class="code">-faggressive-function-elimination</code><a class="copiable-link" href="#index-faggressive_002dfunction_002delimination"> &para;</a></span></dt>
<dd><p>Functions with identical argument lists are eliminated within
statements, regardless of whether these functions are marked
<code class="code">PURE</code> or not. For example, in
</p><div class="example smallexample">
<pre class="example-preformatted">  a = f(b,c) + f(b,c)
</pre></div>
<p>there is only a single call to <code class="code">f</code>.  This option only works
if <samp class="option">-ffrontend-optimize</samp> is in effect.
</p>
</dd>
<dt><a class="index-entry-id" id="index-Front_002dend-optimization"></a>
<a id="index-frontend_002doptimize"></a><span><code class="code">-ffrontend-optimize</code><a class="copiable-link" href="#index-frontend_002doptimize"> &para;</a></span></dt>
<dd><p>This option performs front-end optimization, based on manipulating
parts of the Fortran parse tree.  Enabled by default by any <samp class="option">-O</samp> option
except <samp class="option">-O0</samp> and <samp class="option">-Og</samp>.  Optimizations enabled by this option
include:
</p><ul class="itemize mark-bullet">
<li>inlining calls to <code class="code">MATMUL</code>,
</li><li>elimination of identical function calls within expressions,
</li><li>removing unnecessary calls to <code class="code">TRIM</code> in comparisons and assignments,
</li><li>replacing <code class="code">TRIM(a)</code> with <code class="code">a(1:LEN_TRIM(a))</code> and
</li><li>short-circuiting of logical operators (<code class="code">.AND.</code> and <code class="code">.OR.</code>).
</li></ul>
<p>It can be deselected by specifying <samp class="option">-fno-frontend-optimize</samp>.
</p>
</dd>
<dt><a class="index-entry-id" id="index-loop-interchange_002c-Fortran"></a>
<a id="index-frontend_002dloop_002dinterchange"></a><span><code class="code">-ffrontend-loop-interchange</code><a class="copiable-link" href="#index-frontend_002dloop_002dinterchange"> &para;</a></span></dt>
<dd><p>Attempt to interchange loops in the Fortran front end where
profitable.  Enabled by default by any <samp class="option">-O</samp> option.
At the moment, this option only affects <code class="code">FORALL</code> and
<code class="code">DO CONCURRENT</code> statements with several forall triplets.
</p></dd>
</dl>

<p>See <a data-manual="gcc" href="https://gcc.gnu.org/onlinedocs/gcc/Code-Gen-Options.html#Code-Gen-Options">Options for Code Generation Conventions</a> in <cite class="cite">Using the GNU Compiler Collection (GCC)</cite>, for information on more options
offered by the back end
shared by <code class="command">gfortran</code>, <code class="command">gcc</code>, and other GNU compilers.
</p>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Interoperability-Options.html">Options for interoperability with other languages</a>, Previous: <a href="Developer-Options.html">GNU Fortran Developer Options</a>, Up: <a href="Invoking-GNU-Fortran.html">GNU Fortran Command Options</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Funding Free Software", the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
"GNU Free Documentation License".

(a) The FSF's Front-Cover Text is:

A GNU Manual

(b) The FSF's Back-Cover Text is:

You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development. -->
<title>RTL Classes (GNU Compiler Collection (GCC) Internals)</title>

<meta name="description" content="RTL Classes (GNU Compiler Collection (GCC) Internals)">
<meta name="keywords" content="RTL Classes (GNU Compiler Collection (GCC) Internals)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Option-Index.html" rel="index" title="Option Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="RTL.html" rel="up" title="RTL">
<link href="Accessors.html" rel="next" title="Accessors">
<link href="RTL-Objects.html" rel="prev" title="RTL Objects">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
-->
</style>


</head>

<body lang="en">
<div class="section-level-extent" id="RTL-Classes">
<div class="nav-panel">
<p>
Next: <a href="Accessors.html" accesskey="n" rel="next">Access to Operands</a>, Previous: <a href="RTL-Objects.html" accesskey="p" rel="prev">RTL Object Types</a>, Up: <a href="RTL.html" accesskey="u" rel="up">RTL Representation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h3 class="section" id="RTL-Classes-and-Formats"><span>13.2 RTL Classes and Formats<a class="copiable-link" href="#RTL-Classes-and-Formats"> &para;</a></span></h3>
<a class="index-entry-id" id="index-RTL-classes"></a>
<a class="index-entry-id" id="index-classes-of-RTX-codes"></a>
<a class="index-entry-id" id="index-RTX-codes_002c-classes-of"></a>
<a class="index-entry-id" id="index-GET_005fRTX_005fCLASS"></a>

<p>The various expression codes are divided into several <em class="dfn">classes</em>,
which are represented by single characters.  You can determine the class
of an RTX code with the macro <code class="code">GET_RTX_CLASS (<var class="var">code</var>)</code>.
Currently, <samp class="file">rtl.def</samp> defines these classes:
</p>
<dl class="table">
<dt><code class="code">RTX_OBJ</code></dt>
<dd><p>An RTX code that represents an actual object, such as a register
(<code class="code">REG</code>) or a memory location (<code class="code">MEM</code>, <code class="code">SYMBOL_REF</code>).
<code class="code">LO_SUM</code> is also included; instead, <code class="code">SUBREG</code> and
<code class="code">STRICT_LOW_PART</code> are not in this class, but in class
<code class="code">RTX_EXTRA</code>.
</p>
</dd>
<dt><code class="code">RTX_CONST_OBJ</code></dt>
<dd><p>An RTX code that represents a constant object.  <code class="code">HIGH</code> is also
included in this class.
</p>
</dd>
<dt><code class="code">RTX_COMPARE</code></dt>
<dd><p>An RTX code for a non-symmetric comparison, such as <code class="code">GEU</code> or
<code class="code">LT</code>.
</p>
</dd>
<dt><code class="code">RTX_COMM_COMPARE</code></dt>
<dd><p>An RTX code for a symmetric (commutative) comparison, such as <code class="code">EQ</code>
or <code class="code">ORDERED</code>.
</p>
</dd>
<dt><code class="code">RTX_UNARY</code></dt>
<dd><p>An RTX code for a unary arithmetic operation, such as <code class="code">NEG</code>,
<code class="code">NOT</code>, or <code class="code">ABS</code>.  This category also includes value extension
(sign or zero) and conversions between integer and floating point.
</p>
</dd>
<dt><code class="code">RTX_COMM_ARITH</code></dt>
<dd><p>An RTX code for a commutative binary operation, such as <code class="code">PLUS</code> or
<code class="code">AND</code>.  <code class="code">NE</code> and <code class="code">EQ</code> are comparisons, so they have class
<code class="code">RTX_COMM_COMPARE</code>.
</p>
</dd>
<dt><code class="code">RTX_BIN_ARITH</code></dt>
<dd><p>An RTX code for a non-commutative binary operation, such as <code class="code">MINUS</code>,
<code class="code">DIV</code>, or <code class="code">ASHIFTRT</code>.
</p>
</dd>
<dt><code class="code">RTX_BITFIELD_OPS</code></dt>
<dd><p>An RTX code for a bit-field operation.  Currently only
<code class="code">ZERO_EXTRACT</code> and <code class="code">SIGN_EXTRACT</code>.  These have three inputs
and are lvalues (so they can be used for insertion as well).
See <a class="xref" href="Bit_002dFields.html">Bit-Fields</a>.
</p>
</dd>
<dt><code class="code">RTX_TERNARY</code></dt>
<dd><p>An RTX code for other three input operations.  Currently only
<code class="code">IF_THEN_ELSE</code>,  <code class="code">VEC_MERGE</code>, <code class="code">SIGN_EXTRACT</code>,
<code class="code">ZERO_EXTRACT</code>, and <code class="code">FMA</code>.
</p>
</dd>
<dt><code class="code">RTX_INSN</code></dt>
<dd><p>An RTX code for an entire instruction:  <code class="code">INSN</code>, <code class="code">JUMP_INSN</code>, and
<code class="code">CALL_INSN</code>.  See <a class="xref" href="Insns.html">Insns</a>.
</p>
</dd>
<dt><code class="code">RTX_MATCH</code></dt>
<dd><p>An RTX code for something that matches in insns, such as
<code class="code">MATCH_DUP</code>.  These only occur in machine descriptions.
</p>
</dd>
<dt><code class="code">RTX_AUTOINC</code></dt>
<dd><p>An RTX code for an auto-increment addressing mode, such as
<code class="code">POST_INC</code>.  &lsquo;<samp class="samp">XEXP (<var class="var">x</var>, 0)</samp>&rsquo; gives the auto-modified
register.
</p>
</dd>
<dt><code class="code">RTX_EXTRA</code></dt>
<dd><p>All other RTX codes.  This category includes the remaining codes used
only in machine descriptions (<code class="code">DEFINE_*</code>, etc.).  It also includes
all the codes describing side effects (<code class="code">SET</code>, <code class="code">USE</code>,
<code class="code">CLOBBER</code>, etc.) and the non-insns that may appear on an insn
chain, such as <code class="code">NOTE</code>, <code class="code">BARRIER</code>, and <code class="code">CODE_LABEL</code>.
<code class="code">SUBREG</code> is also part of this class.
</p></dd>
</dl>

<a class="index-entry-id" id="index-RTL-format"></a>
<p>For each expression code, <samp class="file">rtl.def</samp> specifies the number of
contained objects and their kinds using a sequence of characters
called the <em class="dfn">format</em> of the expression code.  For example,
the format of <code class="code">subreg</code> is &lsquo;<samp class="samp">ep</samp>&rsquo;.
</p>
<a class="index-entry-id" id="index-RTL-format-characters"></a>
<p>These are the most commonly used format characters:
</p>
<dl class="table">
<dt><code class="code">e</code></dt>
<dd><p>An expression (actually a pointer to an expression).
</p>
</dd>
<dt><code class="code">i</code></dt>
<dd><p>An integer.
</p>
</dd>
<dt><code class="code">w</code></dt>
<dd><p>A wide integer.
</p>
</dd>
<dt><code class="code">s</code></dt>
<dd><p>A string.
</p>
</dd>
<dt><code class="code">E</code></dt>
<dd><p>A vector of expressions.
</p></dd>
</dl>

<p>A few other format characters are used occasionally:
</p>
<dl class="table">
<dt><code class="code">u</code></dt>
<dd><p>&lsquo;<samp class="samp">u</samp>&rsquo; is equivalent to &lsquo;<samp class="samp">e</samp>&rsquo; except that it is printed differently
in debugging dumps.  It is used for pointers to insns.
</p>
</dd>
<dt><code class="code">n</code></dt>
<dd><p>&lsquo;<samp class="samp">n</samp>&rsquo; is equivalent to &lsquo;<samp class="samp">i</samp>&rsquo; except that it is printed differently
in debugging dumps.  It is used for the line number or code number of a
<code class="code">note</code> insn.
</p>
</dd>
<dt><code class="code">S</code></dt>
<dd><p>&lsquo;<samp class="samp">S</samp>&rsquo; indicates a string which is optional.  In the RTL objects in
core, &lsquo;<samp class="samp">S</samp>&rsquo; is equivalent to &lsquo;<samp class="samp">s</samp>&rsquo;, but when the object is read,
from an &lsquo;<samp class="samp">md</samp>&rsquo; file, the string value of this operand may be omitted.
An omitted string is taken to be the null string.
</p>
</dd>
<dt><code class="code">V</code></dt>
<dd><p>&lsquo;<samp class="samp">V</samp>&rsquo; indicates a vector which is optional.  In the RTL objects in
core, &lsquo;<samp class="samp">V</samp>&rsquo; is equivalent to &lsquo;<samp class="samp">E</samp>&rsquo;, but when the object is read
from an &lsquo;<samp class="samp">md</samp>&rsquo; file, the vector value of this operand may be omitted.
An omitted vector is effectively the same as a vector of no elements.
</p>
</dd>
<dt><code class="code">B</code></dt>
<dd><p>&lsquo;<samp class="samp">B</samp>&rsquo; indicates a pointer to basic block structure.
</p>
</dd>
<dt><code class="code">p</code></dt>
<dd><p>A polynomial integer.  At present this is used only for <code class="code">SUBREG_BYTE</code>.
</p>
</dd>
<dt><code class="code">0</code></dt>
<dd><p>&lsquo;<samp class="samp">0</samp>&rsquo; means a slot whose contents do not fit any normal category.
&lsquo;<samp class="samp">0</samp>&rsquo; slots are not printed at all in dumps, and are often used in
special ways by small parts of the compiler.
</p></dd>
</dl>

<p>There are macros to get the number of operands and the format
of an expression code:
</p>
<dl class="table">
<dt><a id="index-GET_005fRTX_005fLENGTH"></a><span><code class="code">GET_RTX_LENGTH (<var class="var">code</var>)</code><a class="copiable-link" href="#index-GET_005fRTX_005fLENGTH"> &para;</a></span></dt>
<dd><p>Number of operands of an RTX of code <var class="var">code</var>.
</p>
</dd>
<dt><a id="index-GET_005fRTX_005fFORMAT"></a><span><code class="code">GET_RTX_FORMAT (<var class="var">code</var>)</code><a class="copiable-link" href="#index-GET_005fRTX_005fFORMAT"> &para;</a></span></dt>
<dd><p>The format of an RTX of code <var class="var">code</var>, as a C string.
</p></dd>
</dl>

<p>Some classes of RTX codes always have the same format.  For example, it
is safe to assume that all comparison operations have format <code class="code">ee</code>.
</p>
<dl class="table">
<dt><code class="code">RTX_UNARY</code></dt>
<dd><p>All codes of this class have format <code class="code">e</code>.
</p>
</dd>
<dt><code class="code">RTX_BIN_ARITH</code></dt>
<dt><code class="code">RTX_COMM_ARITH</code></dt>
<dt><code class="code">RTX_COMM_COMPARE</code></dt>
<dt><code class="code">RTX_COMPARE</code></dt>
<dd><p>All codes of these classes have format <code class="code">ee</code>.
</p>
</dd>
<dt><code class="code">RTX_BITFIELD_OPS</code></dt>
<dt><code class="code">RTX_TERNARY</code></dt>
<dd><p>All codes of these classes have format <code class="code">eee</code>.
</p>
</dd>
<dt><code class="code">RTX_INSN</code></dt>
<dd><p>All codes of this class have formats that begin with <code class="code">iuueiee</code>.
See <a class="xref" href="Insns.html">Insns</a>.  Note that not all RTL objects linked onto an insn chain
are of class <code class="code">RTX_INSN</code>.
</p>
</dd>
<dt><code class="code">RTX_CONST_OBJ</code></dt>
<dt><code class="code">RTX_OBJ</code></dt>
<dt><code class="code">RTX_MATCH</code></dt>
<dt><code class="code">RTX_EXTRA</code></dt>
<dd><p>You can make no assumptions about the format of these codes.
</p></dd>
</dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Accessors.html">Access to Operands</a>, Previous: <a href="RTL-Objects.html">RTL Object Types</a>, Up: <a href="RTL.html">RTL Representation</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Funding Free Software", the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
"GNU Free Documentation License".

(a) The FSF's Front-Cover Text is:

A GNU Manual

(b) The FSF's Back-Cover Text is:

You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development. -->
<title>Stack Smashing Protection (GNU Compiler Collection (GCC) Internals)</title>

<meta name="description" content="Stack Smashing Protection (GNU Compiler Collection (GCC) Internals)">
<meta name="keywords" content="Stack Smashing Protection (GNU Compiler Collection (GCC) Internals)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Option-Index.html" rel="index" title="Option Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Stack-and-Calling.html" rel="up" title="Stack and Calling">
<link href="Miscellaneous-Register-Hooks.html" rel="next" title="Miscellaneous Register Hooks">
<link href="Shrink_002dwrapping-separate-components.html" rel="prev" title="Shrink-wrapping separate components">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
span:hover a.copiable-link {visibility: visible}
strong.def-name {font-family: monospace; font-weight: bold; font-size: larger}
-->
</style>


</head>

<body lang="en">
<div class="subsection-level-extent" id="Stack-Smashing-Protection">
<div class="nav-panel">
<p>
Next: <a href="Miscellaneous-Register-Hooks.html" accesskey="n" rel="next">Miscellaneous register hooks</a>, Previous: <a href="Shrink_002dwrapping-separate-components.html" accesskey="p" rel="prev">Shrink-wrapping separate components</a>, Up: <a href="Stack-and-Calling.html" accesskey="u" rel="up">Stack Layout and Calling Conventions</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Stack-smashing-protection"><span>17.9.15 Stack smashing protection<a class="copiable-link" href="#Stack-smashing-protection"> &para;</a></span></h4>
<a class="index-entry-id" id="index-stack-smashing-protection"></a>

<dl class="first-deftypefn">
<dt class="deftypefn" id="index-TARGET_005fSTACK_005fPROTECT_005fGUARD"><span class="category-def">Target Hook: </span><span><code class="def-type">tree</code> <strong class="def-name">TARGET_STACK_PROTECT_GUARD</strong> <code class="def-code-arguments">(void)</code><a class="copiable-link" href="#index-TARGET_005fSTACK_005fPROTECT_005fGUARD"> &para;</a></span></dt>
<dd><p>This hook returns a <code class="code">DECL</code> node for the external variable to use
for the stack protection guard.  This variable is initialized by the
runtime to some random value and is used to initialize the guard value
that is placed at the top of the local stack frame.  The type of this
variable must be <code class="code">ptr_type_node</code>.
</p>
<p>The default version of this hook creates a variable called
&lsquo;<samp class="samp">__stack_chk_guard</samp>&rsquo;, which is normally defined in <samp class="file">libgcc2.c</samp>.
</p></dd></dl>

<dl class="first-deftypefn">
<dt class="deftypefn" id="index-TARGET_005fSTACK_005fPROTECT_005fFAIL"><span class="category-def">Target Hook: </span><span><code class="def-type">tree</code> <strong class="def-name">TARGET_STACK_PROTECT_FAIL</strong> <code class="def-code-arguments">(void)</code><a class="copiable-link" href="#index-TARGET_005fSTACK_005fPROTECT_005fFAIL"> &para;</a></span></dt>
<dd><p>This hook returns a <code class="code">CALL_EXPR</code> that alerts the runtime that the
stack protect guard variable has been modified.  This expression should
involve a call to a <code class="code">noreturn</code> function.
</p>
<p>The default version of this hook invokes a function called
&lsquo;<samp class="samp">__stack_chk_fail</samp>&rsquo;, taking no arguments.  This function is
normally defined in <samp class="file">libgcc2.c</samp>.
</p></dd></dl>

<dl class="first-deftypefn">
<dt class="deftypefn" id="index-TARGET_005fSTACK_005fPROTECT_005fRUNTIME_005fENABLED_005fP"><span class="category-def">Target Hook: </span><span><code class="def-type">bool</code> <strong class="def-name">TARGET_STACK_PROTECT_RUNTIME_ENABLED_P</strong> <code class="def-code-arguments">(void)</code><a class="copiable-link" href="#index-TARGET_005fSTACK_005fPROTECT_005fRUNTIME_005fENABLED_005fP"> &para;</a></span></dt>
<dd><p>Returns true if the target wants GCC&rsquo;s default stack protect runtime support,
otherwise return false.  The default implementation always returns true.
</p></dd></dl>

<dl class="first-deftypefn">
<dt class="deftypefn" id="index-TARGET_005fSUPPORTS_005fSPLIT_005fSTACK"><span class="category-def">Common Target Hook: </span><span><code class="def-type">bool</code> <strong class="def-name">TARGET_SUPPORTS_SPLIT_STACK</strong> <code class="def-code-arguments">(bool <var class="var">report</var>, struct gcc_options *<var class="var">opts</var>)</code><a class="copiable-link" href="#index-TARGET_005fSUPPORTS_005fSPLIT_005fSTACK"> &para;</a></span></dt>
<dd><p>Whether this target supports splitting the stack when the options
described in <var class="var">opts</var> have been passed.  This is called
after options have been parsed, so the target may reject splitting
the stack in some configurations.  The default version of this hook
returns false.  If <var class="var">report</var> is true, this function may issue a warning
or error; if <var class="var">report</var> is false, it must simply return a value
</p></dd></dl>

<dl class="first-deftypefn">
<dt class="deftypefn" id="index-TARGET_005fGET_005fVALID_005fOPTION_005fVALUES"><span class="category-def">Common Target Hook: </span><span><code class="def-type">vec&lt;const char *&gt;</code> <strong class="def-name">TARGET_GET_VALID_OPTION_VALUES</strong> <code class="def-code-arguments">(int <var class="var">option_code</var>, const char *<var class="var">prefix</var>)</code><a class="copiable-link" href="#index-TARGET_005fGET_005fVALID_005fOPTION_005fVALUES"> &para;</a></span></dt>
<dd><p>The hook is used for options that have a non-trivial list of
possible option values.  OPTION_CODE is option code of opt_code
enum type.  PREFIX is used for bash completion and allows an implementation
to return more specific completion based on the prefix.  All string values
should be allocated from heap memory and consumers should release them.
The result will be pruned to cases with PREFIX if not NULL.
</p></dd></dl>

</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Miscellaneous-Register-Hooks.html">Miscellaneous register hooks</a>, Previous: <a href="Shrink_002dwrapping-separate-components.html">Shrink-wrapping separate components</a>, Up: <a href="Stack-and-Calling.html">Stack Layout and Calling Conventions</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>

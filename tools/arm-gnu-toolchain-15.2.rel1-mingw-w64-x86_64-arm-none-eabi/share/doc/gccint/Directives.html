<!DOCTYPE html>
<html>
<!-- Created by GNU Texinfo 7.1.1, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- Copyright Â© 1988-2025 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "Funding Free Software", the Front-Cover
Texts being (a) (see below), and with the Back-Cover Texts being (b)
(see below).  A copy of the license is included in the section entitled
"GNU Free Documentation License".

(a) The FSF's Front-Cover Text is:

A GNU Manual

(b) The FSF's Back-Cover Text is:

You have freedom to copy and modify this GNU Manual, like GNU
     software.  Copies published by the Free Software Foundation raise
     funds for GNU development. -->
<title>Directives (GNU Compiler Collection (GCC) Internals)</title>

<meta name="description" content="Directives (GNU Compiler Collection (GCC) Internals)">
<meta name="keywords" content="Directives (GNU Compiler Collection (GCC) Internals)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="Top">
<link href="Option-Index.html" rel="index" title="Option Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Test-Directives.html" rel="up" title="Test Directives">
<link href="Selectors.html" rel="next" title="Selectors">
<style type="text/css">
<!--
a.copiable-link {visibility: hidden; text-decoration: none; line-height: 0em}
div.example {margin-left: 3.2em}
span:hover a.copiable-link {visibility: visible}
ul.mark-bullet {list-style-type: disc}
-->
</style>


</head>

<body lang="en">
<div class="subsection-level-extent" id="Directives">
<div class="nav-panel">
<p>
Next: <a href="Selectors.html" accesskey="n" rel="next">Selecting targets to which a test applies</a>, Up: <a href="Test-Directives.html" accesskey="u" rel="up">Directives used within DejaGnu tests</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<h4 class="subsection" id="Syntax-and-Descriptions-of-test-directives"><span>6.2.1 Syntax and Descriptions of test directives<a class="copiable-link" href="#Syntax-and-Descriptions-of-test-directives"> &para;</a></span></h4>

<p>Test directives appear within comments in a test source file and begin
with <code class="code">dg-</code>.  Some of these are defined within DejaGnu and others
are local to the GCC testsuite.
</p>
<p>The order in which test directives appear in a test can be important:
directives local to GCC sometimes override information used by the
DejaGnu directives, which know nothing about the GCC directives, so the
DejaGnu directives must precede GCC directives.
</p>
<p>Several test directives include selectors (see <a class="pxref" href="Selectors.html">Selecting targets to which a test applies</a>)
which are usually preceded by the keyword <code class="code">target</code> or <code class="code">xfail</code>.
</p>
<ul class="mini-toc">
<li><a href="#Specify-how-to-build-the-test" accesskey="1">Specify how to build the test</a></li>
<li><a href="#Specify-additional-compiler-options" accesskey="2">Specify additional compiler options</a></li>
<li><a href="#Modify-the-test-timeout-value" accesskey="3">Modify the test timeout value</a></li>
<li><a href="#Skip-a-test-for-some-targets" accesskey="4">Skip a test for some targets</a></li>
<li><a href="#Expect-a-test-to-fail-for-some-targets" accesskey="5">Expect a test to fail for some targets</a></li>
<li><a href="#Expect-the-compiler-to-crash" accesskey="6">Expect the compiler to crash</a></li>
<li><a href="#Expect-the-test-executable-to-fail" accesskey="7">Expect the test executable to fail</a></li>
<li><a href="#Verify-compiler-messages" accesskey="8">Verify compiler messages</a></li>
<li><a href="#Verify-output-of-the-test-executable" accesskey="9">Verify output of the test executable</a></li>
<li><a href="#Specify-environment-variables-for-a-test">Specify environment variables for a test</a></li>
<li><a href="#Specify-additional-files-for-a-test">Specify additional files for a test</a></li>
<li><a href="#Add-checks-at-the-end-of-a-test">Add checks at the end of a test</a></li>
</ul>
<div class="subsubsection-level-extent" id="Specify-how-to-build-the-test">
<h4 class="subsubsection"><span>6.2.1.1 Specify how to build the test<a class="copiable-link" href="#Specify-how-to-build-the-test"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-do <var class="var">do-what-keyword</var> [{ target/xfail <var class="var">selector</var> }] }</code></dt>
<dd><p><var class="var">do-what-keyword</var> specifies how the test is compiled and whether
it is executed.  It is one of:
</p>
<dl class="table">
<dt><code class="code">preprocess</code></dt>
<dd><p>Compile with <samp class="option">-E</samp> to run only the preprocessor.
</p></dd>
<dt><code class="code">compile</code></dt>
<dd><p>Compile with <samp class="option">-S</samp> to produce an assembly code file.
</p></dd>
<dt><code class="code">assemble</code></dt>
<dd><p>Compile with <samp class="option">-c</samp> to produce a relocatable object file.
</p></dd>
<dt><code class="code">link</code></dt>
<dd><p>Compile, assemble, and link to produce an executable file.
</p></dd>
<dt><code class="code">run</code></dt>
<dd><p>Produce and run an executable file, which is expected to return
an exit code of 0.
</p></dd>
</dl>

<p>The default is <code class="code">compile</code>.  That can be overridden for a set of
tests by redefining <code class="code">dg-do-what-default</code> within the <code class="code">.exp</code>
file for those tests.
</p>
<p>If the directive includes the optional &lsquo;<samp class="samp">{ target <var class="var">selector</var> }</samp>&rsquo;
then the test is skipped unless the target system matches the
<var class="var">selector</var>.
</p>
<p>If <var class="var">do-what-keyword</var> is <code class="code">run</code> and the directive includes
the optional &lsquo;<samp class="samp">{ xfail <var class="var">selector</var> }</samp>&rsquo; and the selector is met
then the test is expected to fail.  The <code class="code">xfail</code> clause is ignored
for other values of <var class="var">do-what-keyword</var>; those tests can use
directive <code class="code">dg-xfail-if</code>.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Specify-additional-compiler-options">
<h4 class="subsubsection"><span>6.2.1.2 Specify additional compiler options<a class="copiable-link" href="#Specify-additional-compiler-options"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-options <var class="var">options</var> [{ target <var class="var">selector</var> }] }</code></dt>
<dd><p>This DejaGnu directive provides a list of compiler options, to be used
if the target system matches <var class="var">selector</var>, that replace the default
options used for this set of tests.
</p>
</dd>
<dt><code class="code">{ dg-add-options <var class="var">feature</var> &hellip; }</code></dt>
<dd><p>Add any compiler options that are needed to access certain features.
This directive does nothing on targets that enable the features by
default, or that don&rsquo;t provide them at all.  It must come after
all <code class="code">dg-options</code> directives.
For supported values of <var class="var">feature</var> see <a class="ref" href="Add-Options.html">Features for <code class="code">dg-add-options</code></a>.
</p>
</dd>
<dt><code class="code">{ dg-remove-options <var class="var">feature</var> &hellip; }</code></dt>
<dd><p>Remove any compiler options that are needed to access certain features.
This directive does nothing on targets that disable the features by
default, or that don&rsquo;t provide them at all.  It must come after
all <code class="code">dg-options</code> and <code class="code">dg-add-options</code> directives.
For supported values of <var class="var">feature</var> see <a class="ref" href="Remove-Options.html">Features for <code class="code">dg-remove-options</code></a>.
</p>
</dd>
<dt><code class="code">{ dg-additional-options <var class="var">options</var> [{ target <var class="var">selector</var> }] }</code></dt>
<dd><p>This directive provides a list of compiler options, to be used
if the target system matches <var class="var">selector</var>, that are added to the default
options used for this set of tests.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Modify-the-test-timeout-value">
<h4 class="subsubsection"><span>6.2.1.3 Modify the test timeout value<a class="copiable-link" href="#Modify-the-test-timeout-value"> &para;</a></span></h4>

<p>The normal timeout limit, in seconds, is found by searching the
following in order:
</p>
<ul class="itemize mark-bullet">
<li>the value defined by an earlier <code class="code">dg-timeout</code> directive in
the test

</li><li>variable <var class="var">tool_timeout</var> defined by the set of tests

</li><li><var class="var">gcc</var>,<var class="var">timeout</var> set in the target board

</li><li>300
</li></ul>

<dl class="table">
<dt><code class="code">{ dg-timeout <var class="var">n</var> [{target <var class="var">selector</var> }] }</code></dt>
<dd><p>Set the time limit for the compilation and for the execution of the test
to the specified number of seconds.
</p>
</dd>
<dt><code class="code">{ dg-timeout-factor <var class="var">x</var> [{ target <var class="var">selector</var> }] }</code></dt>
<dd><p>Multiply the normal time limit for compilation and execution of the test
by the specified floating-point factor.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Skip-a-test-for-some-targets">
<h4 class="subsubsection"><span>6.2.1.4 Skip a test for some targets<a class="copiable-link" href="#Skip-a-test-for-some-targets"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-do-if <var class="var">action</var> { <var class="var">selector</var> } }</code></dt>
<dd><p>Same as dg-do if the selector matches and the test hasn&rsquo;t already been
marked as unsupported.  Use it to override an action on a target while
leaving the default action alone for other targets.
</p>
</dd>
<dt><code class="code">{ dg-skip-if <var class="var">comment</var> { <var class="var">selector</var> } [{ <var class="var">include-opts</var> } [{ <var class="var">exclude-opts</var> }]] }</code></dt>
<dd><p>Arguments <var class="var">include-opts</var> and <var class="var">exclude-opts</var> are lists in which
each element is a string of zero or more GCC options.
Skip the test if all of the following conditions are met:
</p><ul class="itemize mark-bullet">
<li>the test system is included in <var class="var">selector</var>

</li><li>for at least one of the option strings in <var class="var">include-opts</var>,
every option from that string is in the set of options with which
the test would be compiled; use &lsquo;<samp class="samp">&quot;*&quot;</samp>&rsquo; for an <var class="var">include-opts</var> list
that matches any options; that is the default if <var class="var">include-opts</var> is
not specified

</li><li>for each of the option strings in <var class="var">exclude-opts</var>, at least one
option from that string is not in the set of options with which the test
would be compiled; use &lsquo;<samp class="samp">&quot;&quot;</samp>&rsquo; for an empty <var class="var">exclude-opts</var> list;
that is the default if <var class="var">exclude-opts</var> is not specified
</li></ul>

<p>For example, to skip a test if option <code class="code">-Os</code> is present:
</p>
<div class="example smallexample">
<pre class="example-preformatted">/* { dg-skip-if &quot;&quot; { *-*-* }  { &quot;-Os&quot; } { &quot;&quot; } } */
</pre></div>

<p>To skip a test if both options <code class="code">-O2</code> and <code class="code">-g</code> are present:
</p>
<div class="example smallexample">
<pre class="example-preformatted">/* { dg-skip-if &quot;&quot; { *-*-* }  { &quot;-O2 -g&quot; } { &quot;&quot; } } */
</pre></div>

<p>To skip a test if either <code class="code">-O2</code> or <code class="code">-O3</code> is present:
</p>
<div class="example smallexample">
<pre class="example-preformatted">/* { dg-skip-if &quot;&quot; { *-*-* }  { &quot;-O2&quot; &quot;-O3&quot; } { &quot;&quot; } } */
</pre></div>

<p>To skip a test unless option <code class="code">-Os</code> is present:
</p>
<div class="example smallexample">
<pre class="example-preformatted">/* { dg-skip-if &quot;&quot; { *-*-* }  { &quot;*&quot; } { &quot;-Os&quot; } } */
</pre></div>

<p>To skip a test if either <code class="code">-O2</code> or <code class="code">-O3</code> is used with <code class="code">-g</code>
but not if <code class="code">-fpic</code> is also present:
</p>
<div class="example smallexample">
<pre class="example-preformatted">/* { dg-skip-if &quot;&quot; { *-*-* }  { &quot;-O2 -g&quot; &quot;-O3 -g&quot; } { &quot;-fpic&quot; } } */
</pre></div>

</dd>
<dt><code class="code">{ dg-require-effective-target <var class="var">keyword</var> [{ target <var class="var">selector</var> }] }</code></dt>
<dd><p>Skip the test if the test target, including current multilib flags,
is not covered by the effective-target keyword.
If the directive includes the optional &lsquo;<samp class="samp">{ <var class="var">selector</var> }</samp>&rsquo;
then the effective-target test is only performed if the target system
matches the <var class="var">selector</var>.
This directive must appear after any <code class="code">dg-do</code> directive in the test
and before any <code class="code">dg-additional-sources</code> directive.
See <a class="xref" href="Effective_002dTarget-Keywords.html">Keywords describing target attributes</a>.
</p>
</dd>
<dt><code class="code">{ dg-require-<var class="var">support</var> args }</code></dt>
<dd><p>Skip the test if the target does not provide the required support.
These directives must appear after any <code class="code">dg-do</code> directive in the test
and before any <code class="code">dg-additional-sources</code> directive.
They require at least one argument, which can be an empty string if the
specific procedure does not examine the argument.
See <a class="xref" href="Require-Support.html">Variants of <code class="code">dg-require-<var class="var">support</var></code></a>, for a complete list of these directives.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Expect-a-test-to-fail-for-some-targets">
<h4 class="subsubsection"><span>6.2.1.5 Expect a test to fail for some targets<a class="copiable-link" href="#Expect-a-test-to-fail-for-some-targets"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-xfail-if <var class="var">comment</var> { <var class="var">selector</var> } [{ <var class="var">include-opts</var> } [{ <var class="var">exclude-opts</var> }]] }</code></dt>
<dd><p>Expect the test to fail if the conditions (which are the same as for
<code class="code">dg-skip-if</code>) are met.  This does not affect the execute step.
</p>
</dd>
<dt><code class="code">{ dg-xfail-run-if <var class="var">comment</var> { <var class="var">selector</var> } [{ <var class="var">include-opts</var> } [{ <var class="var">exclude-opts</var> }]] }</code></dt>
<dd><p>Expect the execute step of a test to fail if the conditions (which are
the same as for <code class="code">dg-skip-if</code>) are met.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Expect-the-compiler-to-crash">
<h4 class="subsubsection"><span>6.2.1.6 Expect the compiler to crash<a class="copiable-link" href="#Expect-the-compiler-to-crash"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-ice <var class="var">comment</var> [{ <var class="var">selector</var> } [{ <var class="var">include-opts</var> } [{ <var class="var">exclude-opts</var> }]]] }</code></dt>
<dd><p>Expect the compiler to crash with an internal compiler error and return
a nonzero exit status if the conditions (which are the same as for
<code class="code">dg-skip-if</code>) are met.  Used for tests that test bugs that have not been
fixed yet.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Expect-the-test-executable-to-fail">
<h4 class="subsubsection"><span>6.2.1.7 Expect the test executable to fail<a class="copiable-link" href="#Expect-the-test-executable-to-fail"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-shouldfail <var class="var">comment</var> [{ <var class="var">selector</var> } [{ <var class="var">include-opts</var> } [{ <var class="var">exclude-opts</var> }]]] }</code></dt>
<dd><p>Expect the test executable to return a nonzero exit status if the
conditions (which are the same as for <code class="code">dg-skip-if</code>) are met.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Verify-compiler-messages">
<h4 class="subsubsection"><span>6.2.1.8 Verify compiler messages<a class="copiable-link" href="#Verify-compiler-messages"> &para;</a></span></h4>
<p>Where <var class="var">line</var> is an accepted argument for these commands, a value of &lsquo;<samp class="samp">0</samp>&rsquo;
can be used if there is no line associated with the message.
</p>
<dl class="table">
<dt><code class="code">{ dg-error <var class="var">regexp</var> [<var class="var">comment</var> [{ target/xfail <var class="var">selector</var> } [<var class="var">line</var>] ]] }</code></dt>
<dd><p>This DejaGnu directive appears on a source line that is expected to get
an error message, or else specifies the source line associated with the
message.  If there is no message for that line or if the text of that
message is not matched by <var class="var">regexp</var> then the check fails and
<var class="var">comment</var> is included in the <code class="code">FAIL</code> message.  The check does
not look for the string &lsquo;<samp class="samp">error</samp>&rsquo; unless it is part of <var class="var">regexp</var>.
</p>
</dd>
<dt><code class="code">{ dg-warning <var class="var">regexp</var> [<var class="var">comment</var> [{ target/xfail <var class="var">selector</var> } [<var class="var">line</var>] ]] }</code></dt>
<dd><p>This DejaGnu directive appears on a source line that is expected to get
a warning message, or else specifies the source line associated with the
message.  If there is no message for that line or if the text of that
message is not matched by <var class="var">regexp</var> then the check fails and
<var class="var">comment</var> is included in the <code class="code">FAIL</code> message.  The check does
not look for the string &lsquo;<samp class="samp">warning</samp>&rsquo; unless it is part of <var class="var">regexp</var>.
</p>
</dd>
<dt><code class="code">{ dg-message <var class="var">regexp</var> [<var class="var">comment</var> [{ target/xfail <var class="var">selector</var> } [<var class="var">line</var>] ]] }</code></dt>
<dd><p>The line is expected to get a message other than an error or warning.
If there is no message for that line or if the text of that message is
not matched by <var class="var">regexp</var> then the check fails and <var class="var">comment</var> is
included in the <code class="code">FAIL</code> message.
</p>
</dd>
<dt><code class="code">{ dg-note <var class="var">regexp</var> [<var class="var">comment</var> [{ target/xfail <var class="var">selector</var> } [<var class="var">line</var>] ]] }</code></dt>
<dd><p>The line is expected to get a &lsquo;<samp class="samp">note</samp>&rsquo; message.
If there is no message for that line or if the text of that message is
not matched by <var class="var">regexp</var> then the check fails and <var class="var">comment</var> is
included in the <code class="code">FAIL</code> message.
</p>
<p>By default, any <em class="emph">excess</em> &lsquo;<samp class="samp">note</samp>&rsquo; messages are pruned, meaning
their appearance doesn&rsquo;t trigger <em class="emph">excess errors</em>.
However, if &lsquo;<samp class="samp">dg-note</samp>&rsquo; is used at least once in a testcase,
they&rsquo;re not pruned and instead must <em class="emph">all</em> be handled explicitly.
Thus, if looking for just single instances of messages with
&lsquo;<samp class="samp">note: </samp>&rsquo; prefixes without caring for all of them, use
&lsquo;<samp class="samp">dg-message &quot;note: [&hellip;]&quot;</samp>&rsquo; instead of &lsquo;<samp class="samp">dg-note</samp>&rsquo;, or use
&lsquo;<samp class="samp">dg-note</samp>&rsquo; together with &lsquo;<samp class="samp">dg-prune-output &quot;note: &quot;</samp>&rsquo;.
</p>
</dd>
<dt><code class="code">{ dg-bogus <var class="var">regexp</var> [<var class="var">comment</var> [{ target/xfail <var class="var">selector</var> } [<var class="var">line</var>] ]] }</code></dt>
<dd><p>This DejaGnu directive appears on a source line that should not get a
message matching <var class="var">regexp</var>, or else specifies the source line
associated with the bogus message.  It is usually used with &lsquo;<samp class="samp">xfail</samp>&rsquo;
to indicate that the message is a known problem for a particular set of
targets.
</p>
</dd>
<dt><code class="code">{ dg-line <var class="var">linenumvar</var> }</code></dt>
<dd><p>This DejaGnu directive sets the variable <var class="var">linenumvar</var> to the line number of
the source line.  The variable <var class="var">linenumvar</var> can then be used in subsequent
<code class="code">dg-error</code>, <code class="code">dg-warning</code>, <code class="code">dg-message</code>, <code class="code">dg-note</code>
and <code class="code">dg-bogus</code>
directives.  For example:
</p>
<div class="example smallexample">
<pre class="example-preformatted">int a;   /* { dg-line first_def_a } */
float a; /* { dg-error &quot;conflicting types of&quot; } */
/* { dg-message &quot;previous declaration of&quot; &quot;&quot; { target *-*-* } first_def_a } */
</pre></div>

</dd>
<dt><code class="code">{ dg-excess-errors <var class="var">comment</var> [{ target/xfail <var class="var">selector</var> }] }</code></dt>
<dd><p>This DejaGnu directive indicates that the test is expected to fail due
to compiler messages that are not handled by &lsquo;<samp class="samp">dg-error</samp>&rsquo;,
&lsquo;<samp class="samp">dg-warning</samp>&rsquo;, <code class="code">dg-message</code>, &lsquo;<samp class="samp">dg-note</samp>&rsquo; or
&lsquo;<samp class="samp">dg-bogus</samp>&rsquo;.
For this directive &lsquo;<samp class="samp">xfail</samp>&rsquo;
has the same effect as &lsquo;<samp class="samp">target</samp>&rsquo;.
</p>
</dd>
<dt><code class="code">{ dg-prune-output <var class="var">regexp</var> }</code></dt>
<dd><p>Prune messages matching <var class="var">regexp</var> from the test output.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Verify-output-of-the-test-executable">
<h4 class="subsubsection"><span>6.2.1.9 Verify output of the test executable<a class="copiable-link" href="#Verify-output-of-the-test-executable"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-output <var class="var">regexp</var> [{ target/xfail <var class="var">selector</var> }] }</code></dt>
<dd><p>This DejaGnu directive compares <var class="var">regexp</var> to the combined output
that the test executable writes to <samp class="file">stdout</samp> and <samp class="file">stderr</samp>.
</p>
</dd>
<dt><code class="code">{ dg-output-file <var class="var">file</var> [{ target/xfail <var class="var">selector</var> }] }</code></dt>
<dd><p>Compares the content of <var class="var">file</var> against the combined output that the
test executable writes to <samp class="file">stdout</samp> and <samp class="file">stderr</samp>.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Specify-environment-variables-for-a-test">
<h4 class="subsubsection"><span>6.2.1.10 Specify environment variables for a test<a class="copiable-link" href="#Specify-environment-variables-for-a-test"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-set-compiler-env-var <var class="var">var_name</var> &quot;<var class="var">var_value</var>&quot; }</code></dt>
<dd><p>Specify that the environment variable <var class="var">var_name</var> needs to be set
to <var class="var">var_value</var> before invoking the compiler on the test file.
</p>
</dd>
<dt><code class="code">{ dg-set-target-env-var <var class="var">var_name</var> &quot;<var class="var">var_value</var>&quot; }</code></dt>
<dd><p>Specify that the environment variable <var class="var">var_name</var> needs to be set
to <var class="var">var_value</var> before execution of the program created by the test.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Specify-additional-files-for-a-test">
<h4 class="subsubsection"><span>6.2.1.11 Specify additional files for a test<a class="copiable-link" href="#Specify-additional-files-for-a-test"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-additional-files &quot;<var class="var">filelist</var>&quot; }</code></dt>
<dd><p>Specify additional files, other than source files, that must be copied
to the system where the compiler runs.
</p>
</dd>
<dt><code class="code">{ dg-additional-sources &quot;<var class="var">filelist</var>&quot; [{ \[linkonly\] \[target <var class="var">selector</var>\] }] }</code></dt>
<dd><p>Specify additional source files to appear in the compile line
following the main test file.
If the directive includes the optional &lsquo;<samp class="samp">{ <var class="var">selector</var> }</samp>&rsquo;
then the additional sources are only added if the target system
matches the <var class="var">selector</var>.
If &lsquo;<samp class="samp">linkonly</samp>&rsquo; is specified, additional sources are used only in
&lsquo;<samp class="samp">link</samp>&rsquo; and &lsquo;<samp class="samp">run</samp>&rsquo; tests; they are reported as unsupported and
discarded in other kinds of tests that direct the compiler to output to
a single file.
</p></dd>
</dl>

</div>
<div class="subsubsection-level-extent" id="Add-checks-at-the-end-of-a-test">
<h4 class="subsubsection"><span>6.2.1.12 Add checks at the end of a test<a class="copiable-link" href="#Add-checks-at-the-end-of-a-test"> &para;</a></span></h4>

<dl class="table">
<dt><code class="code">{ dg-final { <var class="var">local-directive</var> } }</code></dt>
<dd><p>This DejaGnu directive is placed within a comment anywhere in the
source file and is processed after the test has been compiled and run.
Multiple &lsquo;<samp class="samp">dg-final</samp>&rsquo; commands are processed in the order in which
they appear in the source file.  See <a class="xref" href="Final-Actions.html">Commands for use in <code class="code">dg-final</code></a>, for a list
of directives that can be used within <code class="code">dg-final</code>.
</p></dd>
</dl>

</div>
</div>
<hr>
<div class="nav-panel">
<p>
Next: <a href="Selectors.html">Selecting targets to which a test applies</a>, Up: <a href="Test-Directives.html">Directives used within DejaGnu tests</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Option-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
